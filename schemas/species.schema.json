{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Species Configuration Schema",
  "description": "Schema for the species configuration file",
  "type": "object",
  "properties": {
    "metadata": {
      "type": "object",
      "properties": {
        "categories": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z_]+$": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "parent": {
                  "type": "string"
                },
                "subcategories": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": ["name", "description"],
              "additionalProperties": false
            }
          }
        },
        "enums": {
          "type": "object",
          "properties": {
            "gender": {
              "type": "object",
              "properties": {
                "male": {"type": "integer", "const": 0},
                "female": {"type": "integer", "const": 1},
                "none": {"type": "integer", "const": 2},
                "other": {"type": "integer", "const": 3}
              },
              "required": ["male", "female", "none", "other"],
              "additionalProperties": false
            },
            "rarity": {
              "type": "object",
              "properties": {
                "common": {"type": "integer", "const": 0},
                "uncommon": {"type": "integer", "const": 1},
                "rare": {"type": "integer", "const": 2},
                "exotic": {"type": "integer", "const": 3}
              },
              "required": ["common", "uncommon", "rare", "exotic"],
              "additionalProperties": false
            }
          },
          "required": ["gender", "rarity"],
          "additionalProperties": false
        }
      },
      "required": ["categories", "enums"],
      "additionalProperties": false
    },
    "playable": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9_-]+$": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1
            },
            "description": {
              "type": "string",
              "minLength": 1
            },
            "category": {
              "type": "string",
              "minLength": 1
            },
            "plural": {
              "type": "string",
              "minLength": 1
            },
            "singular": {
              "type": "string",
              "minLength": 1
            },
            "rarity": {
              "type": "string",
              "enum": ["common", "uncommon", "rare", "exotic"]
            },
            "attributes": {
              "type": "object",
              "properties": {
                "strength": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "dexterity": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "stamina": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "vitality": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "intelligence": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "charisma": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "strength",
                "dexterity",
                "stamina",
                "vitality",
                "intelligence",
                "charisma"
              ],
              "additionalProperties": false
            },
            "bonuses": {
              "type": "object",
              "properties": {
                "luck": {
                  "type": "number",
                  "minimum": 0
                },
                "survival": {
                  "type": "number",
                  "minimum": 0
                },
                "combat": {
                  "type": "number",
                  "minimum": 0
                }
              },
              "required": [
                "luck",
                "survival",
                "combat"
              ],
              "additionalProperties": false
            },
            "professions": {
              "type": "array",
              "items": {
                "type": "string",
                "minLength": 1
              },
              "minItems": 1
            },
            "playable": {
              "type": "boolean",
              "default": true
            }
          },
          "required": [
            "name",
            "description",
            "category",
            "plural",
            "singular", 
            "rarity",
            "attributes",
            "bonuses",
            "professions"
          ],
          "additionalProperties": false
        }
        },
  "required": ["playable", "non_playable"],
  "additionalProperties": false
},
    "non_playable": {
      "type": "object",
      "patternProperties": {
        "^[a-zA-Z0-9_-]+$": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1
            },
            "description": {
              "type": "string",
              "minLength": 1
            },
            "category": {
              "type": "string",
              "minLength": 1
            },
            "plural": {
              "type": "string",
              "minLength": 1
            },
            "singular": {
              "type": "string",
              "minLength": 1
            },
            "rarity": {
              "type": "string",
              "enum": ["common", "uncommon", "rare", "exotic"]
            },
            "attributes": {
              "type": "object",
              "properties": {
                "strength": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "dexterity": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "stamina": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "vitality": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "intelligence": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                },
                "charisma": {
                  "type": "object",
                  "properties": {
                    "min": {
                      "type": "number",
                      "minimum": 0
                    },
                    "max": {
                      "type": "number",
                      "maximum": 130
                    }
                  },
                  "required": [
                    "min",
                    "max"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "strength",
                "dexterity",
                "stamina",
                "vitality",
                "intelligence",
                "charisma"
              ],
              "additionalProperties": false
            },
            "bonuses": {
              "type": "object",
              "properties": {
                "luck": {
                  "type": "number",
                  "minimum": 0
                },
                "survival": {
                  "type": "number",
                  "minimum": 0
                },
                "combat": {
                  "type": "number",
                  "minimum": 0
                }
              },
              "required": [
                "luck",
                "survival",
                "combat"
              ],
              "additionalProperties": false
            },
            "professions": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "playable": {
              "type": "boolean",
              "default": false
            }
          },
          "required": [
            "name",
            "description",
            "category",
            "plural",
            "singular",
            "rarity", 
            "attributes",
            "bonuses",
            "professions"
          ],
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "required": [
    "playable"
  ],
  "additionalProperties": false
}