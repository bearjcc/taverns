"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_game-engine_ui_FoodCategoryUI_js";
exports.ids = ["_ssr_src_lib_game-engine_ui_FoodCategoryUI_js"];
exports.modules = {

/***/ "(ssr)/./src/lib/game-engine/ui/FoodCategoryUI.js":
/*!**************************************************!*\
  !*** ./src/lib/game-engine/ui/FoodCategoryUI.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FoodCategoryUI: () => (/* binding */ FoodCategoryUI)\n/* harmony export */ });\n/**\r\n * Food Category UI Manager\r\n * Handles the display and interaction with food categories\r\n */ class FoodCategoryUI {\n    constructor(foodCategoryManager, inventoryManager){\n        this.foodCategoryManager = foodCategoryManager;\n        this.inventoryManager = inventoryManager;\n        this.currentCategory = null;\n        this.currentSubcategory = null;\n        this.searchQuery = '';\n    }\n    /**\r\n     * Initialize the food category UI\r\n     * @param {string} containerId - ID of the container element\r\n     */ initialize(containerId) {\n        this.container = document.getElementById(containerId);\n        if (!this.container) {\n            console.error(`Container not found: ${containerId}`);\n            return;\n        }\n        this.render();\n    }\n    /**\r\n     * Render the main food category interface\r\n     */ render() {\n        this.container.innerHTML = `\n            <div class=\"food-categories-container\">\n                <div class=\"food-categories-header\">\n                    <h3>üçΩÔ∏è Food Categories</h3>\n                    <div class=\"food-search\">\n                        <input type=\"text\" id=\"food-search-input\" placeholder=\"Search food items...\" \n                               value=\"${this.searchQuery}\">\n                        <button id=\"food-search-btn\">üîç</button>\n                    </div>\n                </div>\n                \n                <div class=\"food-categories-grid\">\n                    ${this.renderCategoryGrid()}\n                </div>\n                \n                <div class=\"food-items-display\">\n                    ${this.renderFoodItems()}\n                </div>\n                \n                <div class=\"nutritional-summary\">\n                    ${this.renderNutritionalSummary()}\n                </div>\n            </div>\n        `;\n        this.attachEventListeners();\n    }\n    /**\r\n     * Render the category grid\r\n     * @returns {string} HTML for category grid\r\n     */ renderCategoryGrid() {\n        const categories = this.foodCategoryManager.getAllCategories();\n        const stats = this.foodCategoryManager.getCategoryStatistics();\n        return categories.map((category)=>{\n            const categoryStats = stats[category.id];\n            const isSelected = this.currentCategory === category.id;\n            return `\n                <div class=\"food-category-card ${isSelected ? 'selected' : ''}\" \n                     data-category=\"${category.id}\">\n                    <div class=\"category-icon\" style=\"color: ${category.color}\">\n                        ${category.icon}\n                    </div>\n                    <div class=\"category-info\">\n                        <h4>${category.displayName}</h4>\n                        <p>${category.description}</p>\n                        <span class=\"item-count\">${categoryStats.itemCount} items</span>\n                    </div>\n                </div>\n            `;\n        }).join('');\n    }\n    /**\r\n     * Render food items for the selected category\r\n     * @returns {string} HTML for food items\r\n     */ renderFoodItems() {\n        if (!this.currentCategory) {\n            return '<div class=\"no-category-selected\">Select a category to view food items</div>';\n        }\n        const category = this.foodCategoryManager.getCategory(this.currentCategory);\n        const items = this.getFilteredItems();\n        const subcategories = this.foodCategoryManager.getSubcategories(this.currentCategory);\n        return `\n            <div class=\"food-items-container\">\n                <div class=\"category-header\">\n                    <h4>${category.displayName} ${category.icon}</h4>\n                    <div class=\"subcategory-filters\">\n                        <button class=\"subcategory-btn ${!this.currentSubcategory ? 'active' : ''}\" \n                                data-subcategory=\"\">All</button>\n                        ${subcategories.map((sub)=>`\n                            <button class=\"subcategory-btn ${this.currentSubcategory === sub ? 'active' : ''}\" \n                                    data-subcategory=\"${sub}\">${this.formatSubcategoryName(sub)}</button>\n                        `).join('')}\n                    </div>\n                </div>\n                \n                <div class=\"food-items-grid\">\n                    ${this.renderFoodItemsGrid(items)}\n                </div>\n            </div>\n        `;\n    }\n    /**\r\n     * Render individual food items grid\r\n     * @param {Array} items - Food items to render\r\n     * @returns {string} HTML for food items grid\r\n     */ renderFoodItemsGrid(items) {\n        if (items.length === 0) {\n            return '<div class=\"no-items\">No food items found</div>';\n        }\n        return items.map((item)=>{\n            const inventoryItem = this.inventoryManager.getItem(item.id);\n            const quantity = inventoryItem ? inventoryItem.quantity : 0;\n            const nutritionalValue = item.nutritionalValue || {};\n            const effects = item.effects || [];\n            return `\n                <div class=\"food-item-card\" data-item-id=\"${item.id}\">\n                    <div class=\"item-header\">\n                        <span class=\"item-icon\">${item.icon}</span>\n                        <span class=\"item-name\">${item.displayName}</span>\n                        <span class=\"item-quantity\">${quantity}</span>\n                    </div>\n                    \n                    <div class=\"item-description\">${item.description}</div>\n                    \n                    ${this.renderNutritionalInfo(nutritionalValue)}\n                    \n                    ${this.renderEffects(effects)}\n                    \n                    <div class=\"item-actions\">\n                        <button class=\"examine-btn\" data-item-id=\"${item.id}\">Examine</button>\n                        ${quantity > 0 ? `<button class=\"consume-btn\" data-item-id=\"${item.id}\">Consume</button>` : ''}\n                    </div>\n                </div>\n            `;\n        }).join('');\n    }\n    /**\r\n     * Render nutritional information\r\n     * @param {Object} nutritionalValue - Nutritional values\r\n     * @returns {string} HTML for nutritional info\r\n     */ renderNutritionalInfo(nutritionalValue) {\n        if (!nutritionalValue.calories && !nutritionalValue.protein) {\n            return '';\n        }\n        return `\n            <div class=\"nutritional-info\">\n                <div class=\"nutrition-item\">\n                    <span class=\"nutrition-label\">Calories:</span>\n                    <span class=\"nutrition-value\">${nutritionalValue.calories || 0}</span>\n                </div>\n                <div class=\"nutrition-item\">\n                    <span class=\"nutrition-label\">Protein:</span>\n                    <span class=\"nutrition-value\">${nutritionalValue.protein || 0}g</span>\n                </div>\n                <div class=\"nutrition-item\">\n                    <span class=\"nutrition-label\">Carbs:</span>\n                    <span class=\"nutrition-value\">${nutritionalValue.carbs || 0}g</span>\n                </div>\n                <div class=\"nutrition-item\">\n                    <span class=\"nutrition-label\">Fat:</span>\n                    <span class=\"nutrition-value\">${nutritionalValue.fat || 0}g</span>\n                </div>\n                <div class=\"nutrition-item\">\n                    <span class=\"nutrition-label\">Fiber:</span>\n                    <span class=\"nutrition-value\">${nutritionalValue.fiber || 0}g</span>\n                </div>\n            </div>\n        `;\n    }\n    /**\r\n     * Render item effects\r\n     * @param {Array} effects - Item effects\r\n     * @returns {string} HTML for effects\r\n     */ renderEffects(effects) {\n        if (effects.length === 0) {\n            return '';\n        }\n        return `\n            <div class=\"item-effects\">\n                ${effects.map((effect)=>`\n                    <div class=\"effect-item effect-${effect.type}\">\n                        <span class=\"effect-icon\">${this.getEffectIcon(effect.type)}</span>\n                        <span class=\"effect-description\">${effect.description}</span>\n                        ${effect.duration > 0 ? `<span class=\"effect-duration\">(${effect.duration}s)</span>` : ''}\n                    </div>\n                `).join('')}\n            </div>\n        `;\n    }\n    /**\r\n     * Render nutritional summary\r\n     * @returns {string} HTML for nutritional summary\r\n     */ renderNutritionalSummary() {\n        const inventoryItems = this.inventoryManager.getAllItems();\n        const foodItems = inventoryItems.filter((item)=>item.gameObject.type === 'food' && item.quantity > 0);\n        if (foodItems.length === 0) {\n            return '<div class=\"nutritional-summary-empty\">No food items in inventory</div>';\n        }\n        const totalNutrition = this.foodCategoryManager.calculateNutritionalValue(foodItems.map((item)=>({\n                ...item.gameObject,\n                quantity: item.quantity\n            })));\n        return `\n            <div class=\"nutritional-summary-content\">\n                <h4>üìä Total Nutrition (Inventory)</h4>\n                <div class=\"nutrition-summary-grid\">\n                    <div class=\"nutrition-summary-item\">\n                        <span class=\"summary-label\">Calories:</span>\n                        <span class=\"summary-value\">${totalNutrition.calories}</span>\n                    </div>\n                    <div class=\"nutrition-summary-item\">\n                        <span class=\"summary-label\">Protein:</span>\n                        <span class=\"summary-value\">${totalNutrition.protein}g</span>\n                    </div>\n                    <div class=\"nutrition-summary-item\">\n                        <span class=\"summary-label\">Carbs:</span>\n                        <span class=\"summary-value\">${totalNutrition.carbs}g</span>\n                    </div>\n                    <div class=\"nutrition-summary-item\">\n                        <span class=\"summary-label\">Fat:</span>\n                        <span class=\"summary-value\">${totalNutrition.fat}g</span>\n                    </div>\n                    <div class=\"nutrition-summary-item\">\n                        <span class=\"summary-label\">Fiber:</span>\n                        <span class=\"summary-value\">${totalNutrition.fiber}g</span>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n    /**\r\n     * Get filtered items based on current selection and search\r\n     * @returns {Array} Filtered items\r\n     */ getFilteredItems() {\n        let items = [];\n        if (this.searchQuery) {\n            items = this.foodCategoryManager.searchFoodItems(this.searchQuery);\n        } else if (this.currentCategory) {\n            if (this.currentSubcategory) {\n                items = this.foodCategoryManager.getItemsBySubcategory(this.currentSubcategory);\n            } else {\n                items = this.foodCategoryManager.getItemsByCategory(this.currentCategory);\n            }\n        }\n        return items;\n    }\n    /**\r\n     * Format subcategory name for display\r\n     * @param {string} subcategory - Subcategory ID\r\n     * @returns {string} Formatted name\r\n     */ formatSubcategoryName(subcategory) {\n        return subcategory.split('_').map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\n    }\n    /**\r\n     * Get effect icon\r\n     * @param {string} effectType - Effect type\r\n     * @returns {string} Effect icon\r\n     */ getEffectIcon(effectType) {\n        const icons = {\n            health: '‚ù§Ô∏è',\n            energy: '‚ö°',\n            stamina: 'üí™',\n            mana: 'üîÆ',\n            buff: '‚¨ÜÔ∏è',\n            debuff: '‚¨áÔ∏è'\n        };\n        return icons[effectType] || '‚ú®';\n    }\n    /**\r\n     * Attach event listeners\r\n     */ attachEventListeners() {\n        // Category selection\n        this.container.addEventListener('click', (e)=>{\n            if (e.target.closest('.food-category-card')) {\n                const categoryCard = e.target.closest('.food-category-card');\n                const categoryId = categoryCard.dataset.category;\n                this.selectCategory(categoryId);\n            }\n            if (e.target.closest('.subcategory-btn')) {\n                const subcategoryBtn = e.target.closest('.subcategory-btn');\n                const subcategory = subcategoryBtn.dataset.subcategory;\n                this.selectSubcategory(subcategory);\n            }\n            if (e.target.closest('.examine-btn')) {\n                const examineBtn = e.target.closest('.examine-btn');\n                const itemId = examineBtn.dataset.itemId;\n                this.examineItem(itemId);\n            }\n            if (e.target.closest('.consume-btn')) {\n                const consumeBtn = e.target.closest('.consume-btn');\n                const itemId = consumeBtn.dataset.itemId;\n                this.consumeItem(itemId);\n            }\n        });\n        // Search functionality\n        const searchInput = this.container.querySelector('#food-search-input');\n        const searchBtn = this.container.querySelector('#food-search-btn');\n        if (searchInput) {\n            searchInput.addEventListener('input', (e)=>{\n                this.searchQuery = e.target.value;\n                this.render();\n            });\n            searchInput.addEventListener('keypress', (e)=>{\n                if (e.key === 'Enter') {\n                    this.performSearch();\n                }\n            });\n        }\n        if (searchBtn) {\n            searchBtn.addEventListener('click', ()=>{\n                this.performSearch();\n            });\n        }\n    }\n    /**\r\n     * Select a category\r\n     * @param {string} categoryId - Category ID\r\n     */ selectCategory(categoryId) {\n        this.currentCategory = categoryId;\n        this.currentSubcategory = null;\n        this.render();\n    }\n    /**\r\n     * Select a subcategory\r\n     * @param {string} subcategoryId - Subcategory ID\r\n     */ selectSubcategory(subcategoryId) {\n        this.currentSubcategory = subcategoryId || null;\n        this.render();\n    }\n    /**\r\n     * Perform search\r\n     */ performSearch() {\n        this.currentCategory = null;\n        this.currentSubcategory = null;\n        this.render();\n    }\n    /**\r\n     * Examine an item\r\n     * @param {string} itemId - Item ID\r\n     */ examineItem(itemId) {\n        const gameObject = this.inventoryManager.getGameObject(itemId);\n        if (gameObject) {\n            // Trigger examine event or show modal\n            console.log(`Examining: ${gameObject.displayName}`);\n            console.log(`Description: ${gameObject.examineText}`);\n            // You can implement a modal or notification system here\n            if (typeof showToast === 'function') {\n                showToast(`Examining ${gameObject.displayName}: ${gameObject.examineText}`, 'info');\n            }\n        }\n    }\n    /**\r\n     * Consume an item\r\n     * @param {string} itemId - Item ID\r\n     */ consumeItem(itemId) {\n        const gameObject = this.inventoryManager.getGameObject(itemId);\n        if (gameObject && gameObject.type === 'food') {\n            // Remove item from inventory\n            if (this.inventoryManager.removeItem(itemId, 1)) {\n                // Apply effects\n                if (gameObject.effects) {\n                    for (const effect of gameObject.effects){\n                        this.applyEffect(effect);\n                    }\n                }\n                // Show feedback\n                if (typeof showToast === 'function') {\n                    showToast(`Consumed ${gameObject.displayName}`, 'success');\n                }\n                // Re-render to update quantities\n                this.render();\n            }\n        }\n    }\n    /**\r\n     * Apply an effect\r\n     * @param {Object} effect - Effect to apply\r\n     */ applyEffect(effect) {\n        // This would integrate with your game's effect system\n        console.log(`Applying effect: ${effect.type} - ${effect.value} - ${effect.description}`);\n        // Example integration with game systems\n        if (typeof gameEngine !== 'undefined' && gameEngine.stateManager) {\n        // Apply effect to player state\n        // This is a placeholder - implement based on your game's state system\n        }\n    }\n    /**\r\n     * Update the display\r\n     */ update() {\n        this.render();\n    }\n}\nif (false) {}\n// ES Module exports\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2dhbWUtZW5naW5lL3VpL0Zvb2RDYXRlZ29yeVVJLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FDRCxNQUFNQTtJQUNGQyxZQUFZQyxtQkFBbUIsRUFBRUMsZ0JBQWdCLENBQUU7UUFDL0MsSUFBSSxDQUFDRCxtQkFBbUIsR0FBR0E7UUFDM0IsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDQyxlQUFlLEdBQUc7UUFDdkIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixJQUFJLENBQUNDLFdBQVcsR0FBRztJQUN2QjtJQUVBOzs7S0FHQyxHQUNEQyxXQUFXQyxXQUFXLEVBQUU7UUFDcEIsSUFBSSxDQUFDQyxTQUFTLEdBQUdDLFNBQVNDLGNBQWMsQ0FBQ0g7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQ0MsU0FBUyxFQUFFO1lBQ2pCRyxRQUFRQyxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsRUFBRUwsYUFBYTtZQUNuRDtRQUNKO1FBRUEsSUFBSSxDQUFDTSxNQUFNO0lBQ2Y7SUFFQTs7S0FFQyxHQUNEQSxTQUFTO1FBQ0wsSUFBSSxDQUFDTCxTQUFTLENBQUNNLFNBQVMsR0FBRyxDQUFDOzs7Ozs7c0NBTUUsRUFBRSxJQUFJLENBQUNULFdBQVcsQ0FBQzs7Ozs7O29CQU1yQyxFQUFFLElBQUksQ0FBQ1Usa0JBQWtCLEdBQUc7Ozs7b0JBSTVCLEVBQUUsSUFBSSxDQUFDQyxlQUFlLEdBQUc7Ozs7b0JBSXpCLEVBQUUsSUFBSSxDQUFDQyx3QkFBd0IsR0FBRzs7O1FBRzlDLENBQUM7UUFFRCxJQUFJLENBQUNDLG9CQUFvQjtJQUM3QjtJQUVBOzs7S0FHQyxHQUNESCxxQkFBcUI7UUFDakIsTUFBTUksYUFBYSxJQUFJLENBQUNsQixtQkFBbUIsQ0FBQ21CLGdCQUFnQjtRQUM1RCxNQUFNQyxRQUFRLElBQUksQ0FBQ3BCLG1CQUFtQixDQUFDcUIscUJBQXFCO1FBRTVELE9BQU9ILFdBQVdJLEdBQUcs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OUMsT0FBT3pCLFdBQVcsRUFBRTtRQUV2Rix3Q0FBd0M7UUFDeEMsSUFBSSxPQUFPaUYsZUFBZSxlQUFlQSxXQUFXQyxZQUFZLEVBQUU7UUFDOUQsK0JBQStCO1FBQy9CLHNFQUFzRTtRQUMxRTtJQUNKO0lBRUE7O0tBRUMsR0FDREMsU0FBUztRQUNMLElBQUksQ0FBQ3JHLE1BQU07SUFDZjtBQUNKO0FBRUEsSUFBSSxLQUE2QixFQUFFc0csRUFBdUNwSDtBQUUxRSxvQkFBb0I7QUFDTSIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFx1aVxcRm9vZENhdGVnb3J5VUkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZvb2QgQ2F0ZWdvcnkgVUkgTWFuYWdlclxyXG4gKiBIYW5kbGVzIHRoZSBkaXNwbGF5IGFuZCBpbnRlcmFjdGlvbiB3aXRoIGZvb2QgY2F0ZWdvcmllc1xyXG4gKi9cclxuY2xhc3MgRm9vZENhdGVnb3J5VUkge1xyXG4gICAgY29uc3RydWN0b3IoZm9vZENhdGVnb3J5TWFuYWdlciwgaW52ZW50b3J5TWFuYWdlcikge1xyXG4gICAgICAgIHRoaXMuZm9vZENhdGVnb3J5TWFuYWdlciA9IGZvb2RDYXRlZ29yeU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyID0gaW52ZW50b3J5TWFuYWdlcjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDYXRlZ29yeSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2F0ZWdvcnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgdGhlIGZvb2QgY2F0ZWdvcnkgVUlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJJZCAtIElEIG9mIHRoZSBjb250YWluZXIgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplKGNvbnRhaW5lcklkKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb250YWluZXIgbm90IGZvdW5kOiAke2NvbnRhaW5lcklkfWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIHRoZSBtYWluIGZvb2QgY2F0ZWdvcnkgaW50ZXJmYWNlXHJcbiAgICAgKi9cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb29kLWNhdGVnb3JpZXMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vZC1jYXRlZ29yaWVzLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMz7wn42977iPIEZvb2QgQ2F0ZWdvcmllczwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb2Qtc2VhcmNoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiZm9vZC1zZWFyY2gtaW5wdXRcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBmb29kIGl0ZW1zLi4uXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7dGhpcy5zZWFyY2hRdWVyeX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZvb2Qtc2VhcmNoLWJ0blwiPvCflI08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vZC1jYXRlZ29yaWVzLWdyaWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke3RoaXMucmVuZGVyQ2F0ZWdvcnlHcmlkKCl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb2QtaXRlbXMtZGlzcGxheVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5yZW5kZXJGb29kSXRlbXMoKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibnV0cml0aW9uYWwtc3VtbWFyeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5yZW5kZXJOdXRyaXRpb25hbFN1bW1hcnkoKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgdGhlIGNhdGVnb3J5IGdyaWRcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUwgZm9yIGNhdGVnb3J5IGdyaWRcclxuICAgICAqL1xyXG4gICAgcmVuZGVyQ2F0ZWdvcnlHcmlkKCkge1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB0aGlzLmZvb2RDYXRlZ29yeU1hbmFnZXIuZ2V0QWxsQ2F0ZWdvcmllcygpO1xyXG4gICAgICAgIGNvbnN0IHN0YXRzID0gdGhpcy5mb29kQ2F0ZWdvcnlNYW5hZ2VyLmdldENhdGVnb3J5U3RhdGlzdGljcygpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5tYXAoY2F0ZWdvcnkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeVN0YXRzID0gc3RhdHNbY2F0ZWdvcnkuaWRdO1xyXG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gdGhpcy5jdXJyZW50Q2F0ZWdvcnkgPT09IGNhdGVnb3J5LmlkO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb29kLWNhdGVnb3J5LWNhcmQgJHtpc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICBkYXRhLWNhdGVnb3J5PVwiJHtjYXRlZ29yeS5pZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnktaWNvblwiIHN0eWxlPVwiY29sb3I6ICR7Y2F0ZWdvcnkuY29sb3J9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y2F0ZWdvcnkuaWNvbn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnktaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQ+JHtjYXRlZ29yeS5kaXNwbGF5TmFtZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2NhdGVnb3J5LmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpdGVtLWNvdW50XCI+JHtjYXRlZ29yeVN0YXRzLml0ZW1Db3VudH0gaXRlbXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9KS5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBmb29kIGl0ZW1zIGZvciB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnlcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUwgZm9yIGZvb2QgaXRlbXNcclxuICAgICAqL1xyXG4gICAgcmVuZGVyRm9vZEl0ZW1zKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50Q2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwibm8tY2F0ZWdvcnktc2VsZWN0ZWRcIj5TZWxlY3QgYSBjYXRlZ29yeSB0byB2aWV3IGZvb2QgaXRlbXM8L2Rpdj4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLmZvb2RDYXRlZ29yeU1hbmFnZXIuZ2V0Q2F0ZWdvcnkodGhpcy5jdXJyZW50Q2F0ZWdvcnkpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRGaWx0ZXJlZEl0ZW1zKCk7XHJcbiAgICAgICAgY29uc3Qgc3ViY2F0ZWdvcmllcyA9IHRoaXMuZm9vZENhdGVnb3J5TWFuYWdlci5nZXRTdWJjYXRlZ29yaWVzKHRoaXMuY3VycmVudENhdGVnb3J5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb2QtaXRlbXMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnktaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0PiR7Y2F0ZWdvcnkuZGlzcGxheU5hbWV9ICR7Y2F0ZWdvcnkuaWNvbn08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJjYXRlZ29yeS1maWx0ZXJzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdWJjYXRlZ29yeS1idG4gJHshdGhpcy5jdXJyZW50U3ViY2F0ZWdvcnkgPyAnYWN0aXZlJyA6ICcnfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc3ViY2F0ZWdvcnk9XCJcIj5BbGw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzdWJjYXRlZ29yaWVzLm1hcChzdWIgPT4gYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN1YmNhdGVnb3J5LWJ0biAke3RoaXMuY3VycmVudFN1YmNhdGVnb3J5ID09PSBzdWIgPyAnYWN0aXZlJyA6ICcnfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXN1YmNhdGVnb3J5PVwiJHtzdWJ9XCI+JHt0aGlzLmZvcm1hdFN1YmNhdGVnb3J5TmFtZShzdWIpfTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vZC1pdGVtcy1ncmlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnJlbmRlckZvb2RJdGVtc0dyaWQoaXRlbXMpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgaW5kaXZpZHVhbCBmb29kIGl0ZW1zIGdyaWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIC0gRm9vZCBpdGVtcyB0byByZW5kZXJcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEhUTUwgZm9yIGZvb2QgaXRlbXMgZ3JpZFxyXG4gICAgICovXHJcbiAgICByZW5kZXJGb29kSXRlbXNHcmlkKGl0ZW1zKSB7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJuby1pdGVtc1wiPk5vIGZvb2QgaXRlbXMgZm91bmQ8L2Rpdj4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IHRoaXMuaW52ZW50b3J5TWFuYWdlci5nZXRJdGVtKGl0ZW0uaWQpO1xyXG4gICAgICAgICAgICBjb25zdCBxdWFudGl0eSA9IGludmVudG9yeUl0ZW0gPyBpbnZlbnRvcnlJdGVtLnF1YW50aXR5IDogMDtcclxuICAgICAgICAgICAgY29uc3QgbnV0cml0aW9uYWxWYWx1ZSA9IGl0ZW0ubnV0cml0aW9uYWxWYWx1ZSB8fCB7fTtcclxuICAgICAgICAgICAgY29uc3QgZWZmZWN0cyA9IGl0ZW0uZWZmZWN0cyB8fCBbXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vZC1pdGVtLWNhcmRcIiBkYXRhLWl0ZW0taWQ9XCIke2l0ZW0uaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0taGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS1pY29uXCI+JHtpdGVtLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tbmFtZVwiPiR7aXRlbS5kaXNwbGF5TmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS1xdWFudGl0eVwiPiR7cXVhbnRpdHl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLWRlc2NyaXB0aW9uXCI+JHtpdGVtLmRlc2NyaXB0aW9ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5yZW5kZXJOdXRyaXRpb25hbEluZm8obnV0cml0aW9uYWxWYWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnJlbmRlckVmZmVjdHMoZWZmZWN0cyl9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZXhhbWluZS1idG5cIiBkYXRhLWl0ZW0taWQ9XCIke2l0ZW0uaWR9XCI+RXhhbWluZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3F1YW50aXR5ID4gMCA/IGA8YnV0dG9uIGNsYXNzPVwiY29uc3VtZS1idG5cIiBkYXRhLWl0ZW0taWQ9XCIke2l0ZW0uaWR9XCI+Q29uc3VtZTwvYnV0dG9uPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgIH0pLmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVyIG51dHJpdGlvbmFsIGluZm9ybWF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbnV0cml0aW9uYWxWYWx1ZSAtIE51dHJpdGlvbmFsIHZhbHVlc1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gSFRNTCBmb3IgbnV0cml0aW9uYWwgaW5mb1xyXG4gICAgICovXHJcbiAgICByZW5kZXJOdXRyaXRpb25hbEluZm8obnV0cml0aW9uYWxWYWx1ZSkge1xyXG4gICAgICAgIGlmICghbnV0cml0aW9uYWxWYWx1ZS5jYWxvcmllcyAmJiAhbnV0cml0aW9uYWxWYWx1ZS5wcm90ZWluKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJudXRyaXRpb25hbC1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibnV0cml0aW9uLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm51dHJpdGlvbi1sYWJlbFwiPkNhbG9yaWVzOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm51dHJpdGlvbi12YWx1ZVwiPiR7bnV0cml0aW9uYWxWYWx1ZS5jYWxvcmllcyB8fCAwfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tbGFiZWxcIj5Qcm90ZWluOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm51dHJpdGlvbi12YWx1ZVwiPiR7bnV0cml0aW9uYWxWYWx1ZS5wcm90ZWluIHx8IDB9Zzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tbGFiZWxcIj5DYXJiczo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tdmFsdWVcIj4ke251dHJpdGlvbmFsVmFsdWUuY2FyYnMgfHwgMH1nPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibnV0cml0aW9uLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm51dHJpdGlvbi1sYWJlbFwiPkZhdDo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tdmFsdWVcIj4ke251dHJpdGlvbmFsVmFsdWUuZmF0IHx8IDB9Zzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tbGFiZWxcIj5GaWJlcjo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJudXRyaXRpb24tdmFsdWVcIj4ke251dHJpdGlvbmFsVmFsdWUuZmliZXIgfHwgMH1nPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW5kZXIgaXRlbSBlZmZlY3RzXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBlZmZlY3RzIC0gSXRlbSBlZmZlY3RzXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBIVE1MIGZvciBlZmZlY3RzXHJcbiAgICAgKi9cclxuICAgIHJlbmRlckVmZmVjdHMoZWZmZWN0cykge1xyXG4gICAgICAgIGlmIChlZmZlY3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1lZmZlY3RzXCI+XHJcbiAgICAgICAgICAgICAgICAke2VmZmVjdHMubWFwKGVmZmVjdCA9PiBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVmZmVjdC1pdGVtIGVmZmVjdC0ke2VmZmVjdC50eXBlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVmZmVjdC1pY29uXCI+JHt0aGlzLmdldEVmZmVjdEljb24oZWZmZWN0LnR5cGUpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlZmZlY3QtZGVzY3JpcHRpb25cIj4ke2VmZmVjdC5kZXNjcmlwdGlvbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7ZWZmZWN0LmR1cmF0aW9uID4gMCA/IGA8c3BhbiBjbGFzcz1cImVmZmVjdC1kdXJhdGlvblwiPigke2VmZmVjdC5kdXJhdGlvbn1zKTwvc3Bhbj5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBudXRyaXRpb25hbCBzdW1tYXJ5XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBIVE1MIGZvciBudXRyaXRpb25hbCBzdW1tYXJ5XHJcbiAgICAgKi9cclxuICAgIHJlbmRlck51dHJpdGlvbmFsU3VtbWFyeSgpIHtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnlJdGVtcyA9IHRoaXMuaW52ZW50b3J5TWFuYWdlci5nZXRBbGxJdGVtcygpO1xyXG4gICAgICAgIGNvbnN0IGZvb2RJdGVtcyA9IGludmVudG9yeUl0ZW1zLmZpbHRlcihpdGVtID0+IFxyXG4gICAgICAgICAgICBpdGVtLmdhbWVPYmplY3QudHlwZSA9PT0gJ2Zvb2QnICYmIGl0ZW0ucXVhbnRpdHkgPiAwXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKGZvb2RJdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwibnV0cml0aW9uYWwtc3VtbWFyeS1lbXB0eVwiPk5vIGZvb2QgaXRlbXMgaW4gaW52ZW50b3J5PC9kaXY+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRvdGFsTnV0cml0aW9uID0gdGhpcy5mb29kQ2F0ZWdvcnlNYW5hZ2VyLmNhbGN1bGF0ZU51dHJpdGlvbmFsVmFsdWUoXHJcbiAgICAgICAgICAgIGZvb2RJdGVtcy5tYXAoaXRlbSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgLi4uaXRlbS5nYW1lT2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHlcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbmFsLXN1bW1hcnktY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGg0PvCfk4ogVG90YWwgTnV0cml0aW9uIChJbnZlbnRvcnkpPC9oND5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJudXRyaXRpb24tc3VtbWFyeS1ncmlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1zdW1tYXJ5LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWxhYmVsXCI+Q2Fsb3JpZXM6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktdmFsdWVcIj4ke3RvdGFsTnV0cml0aW9uLmNhbG9yaWVzfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibnV0cml0aW9uLXN1bW1hcnktaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5Qcm90ZWluOjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LXZhbHVlXCI+JHt0b3RhbE51dHJpdGlvbi5wcm90ZWlufWc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1zdW1tYXJ5LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWxhYmVsXCI+Q2FyYnM6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktdmFsdWVcIj4ke3RvdGFsTnV0cml0aW9uLmNhcmJzfWc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm51dHJpdGlvbi1zdW1tYXJ5LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWxhYmVsXCI+RmF0Ojwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LXZhbHVlXCI+JHt0b3RhbE51dHJpdGlvbi5mYXR9Zzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibnV0cml0aW9uLXN1bW1hcnktaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1bW1hcnktbGFiZWxcIj5GaWJlcjo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3VtbWFyeS12YWx1ZVwiPiR7dG90YWxOdXRyaXRpb24uZmliZXJ9Zzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGZpbHRlcmVkIGl0ZW1zIGJhc2VkIG9uIGN1cnJlbnQgc2VsZWN0aW9uIGFuZCBzZWFyY2hcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gRmlsdGVyZWQgaXRlbXNcclxuICAgICAqL1xyXG4gICAgZ2V0RmlsdGVyZWRJdGVtcygpIHtcclxuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkpIHtcclxuICAgICAgICAgICAgaXRlbXMgPSB0aGlzLmZvb2RDYXRlZ29yeU1hbmFnZXIuc2VhcmNoRm9vZEl0ZW1zKHRoaXMuc2VhcmNoUXVlcnkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Q2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN1YmNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuZm9vZENhdGVnb3J5TWFuYWdlci5nZXRJdGVtc0J5U3ViY2F0ZWdvcnkodGhpcy5jdXJyZW50U3ViY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLmZvb2RDYXRlZ29yeU1hbmFnZXIuZ2V0SXRlbXNCeUNhdGVnb3J5KHRoaXMuY3VycmVudENhdGVnb3J5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0IHN1YmNhdGVnb3J5IG5hbWUgZm9yIGRpc3BsYXlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJjYXRlZ29yeSAtIFN1YmNhdGVnb3J5IElEXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbmFtZVxyXG4gICAgICovXHJcbiAgICBmb3JtYXRTdWJjYXRlZ29yeU5hbWUoc3ViY2F0ZWdvcnkpIHtcclxuICAgICAgICByZXR1cm4gc3ViY2F0ZWdvcnkuc3BsaXQoJ18nKS5tYXAod29yZCA9PiBcclxuICAgICAgICAgICAgd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSlcclxuICAgICAgICApLmpvaW4oJyAnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBlZmZlY3QgaWNvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVmZmVjdFR5cGUgLSBFZmZlY3QgdHlwZVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gRWZmZWN0IGljb25cclxuICAgICAqL1xyXG4gICAgZ2V0RWZmZWN0SWNvbihlZmZlY3RUeXBlKSB7XHJcbiAgICAgICAgY29uc3QgaWNvbnMgPSB7XHJcbiAgICAgICAgICAgIGhlYWx0aDogJ+KdpO+4jycsXHJcbiAgICAgICAgICAgIGVuZXJneTogJ+KaoScsXHJcbiAgICAgICAgICAgIHN0YW1pbmE6ICfwn5KqJyxcclxuICAgICAgICAgICAgbWFuYTogJ/CflK4nLFxyXG4gICAgICAgICAgICBidWZmOiAn4qyG77iPJyxcclxuICAgICAgICAgICAgZGVidWZmOiAn4qyH77iPJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGljb25zW2VmZmVjdFR5cGVdIHx8ICfinKgnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBhdHRhY2hFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICAvLyBDYXRlZ29yeSBzZWxlY3Rpb25cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZm9vZC1jYXRlZ29yeS1jYXJkJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5Q2FyZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5mb29kLWNhdGVnb3J5LWNhcmQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBjYXRlZ29yeUNhcmQuZGF0YXNldC5jYXRlZ29yeTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2F0ZWdvcnkoY2F0ZWdvcnlJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuc3ViY2F0ZWdvcnktYnRuJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNhdGVnb3J5QnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLnN1YmNhdGVnb3J5LWJ0bicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViY2F0ZWdvcnkgPSBzdWJjYXRlZ29yeUJ0bi5kYXRhc2V0LnN1YmNhdGVnb3J5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RTdWJjYXRlZ29yeShzdWJjYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcuZXhhbWluZS1idG4nKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhhbWluZUJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5leGFtaW5lLWJ0bicpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gZXhhbWluZUJ0bi5kYXRhc2V0Lml0ZW1JZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhhbWluZUl0ZW0oaXRlbUlkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJy5jb25zdW1lLWJ0bicpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25zdW1lQnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLmNvbnN1bWUtYnRuJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtSWQgPSBjb25zdW1lQnRuLmRhdGFzZXQuaXRlbUlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lSXRlbShpdGVtSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNlYXJjaCBmdW5jdGlvbmFsaXR5XHJcbiAgICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjZm9vZC1zZWFyY2gtaW5wdXQnKTtcclxuICAgICAgICBjb25zdCBzZWFyY2hCdG4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjZm9vZC1zZWFyY2gtYnRuJyk7XHJcblxyXG4gICAgICAgIGlmIChzZWFyY2hJbnB1dCkge1xyXG4gICAgICAgICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybVNlYXJjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWFyY2hCdG4pIHtcclxuICAgICAgICAgICAgc2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZXJmb3JtU2VhcmNoKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNlbGVjdCBhIGNhdGVnb3J5XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2F0ZWdvcnlJZCAtIENhdGVnb3J5IElEXHJcbiAgICAgKi9cclxuICAgIHNlbGVjdENhdGVnb3J5KGNhdGVnb3J5SWQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRDYXRlZ29yeSA9IGNhdGVnb3J5SWQ7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2F0ZWdvcnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3QgYSBzdWJjYXRlZ29yeVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN1YmNhdGVnb3J5SWQgLSBTdWJjYXRlZ29yeSBJRFxyXG4gICAgICovXHJcbiAgICBzZWxlY3RTdWJjYXRlZ29yeShzdWJjYXRlZ29yeUlkKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2F0ZWdvcnkgPSBzdWJjYXRlZ29yeUlkIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gc2VhcmNoXHJcbiAgICAgKi9cclxuICAgIHBlcmZvcm1TZWFyY2goKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Q2F0ZWdvcnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFN1YmNhdGVnb3J5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhhbWluZSBhbiBpdGVtXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaXRlbUlkIC0gSXRlbSBJRFxyXG4gICAgICovXHJcbiAgICBleGFtaW5lSXRlbShpdGVtSWQpIHtcclxuICAgICAgICBjb25zdCBnYW1lT2JqZWN0ID0gdGhpcy5pbnZlbnRvcnlNYW5hZ2VyLmdldEdhbWVPYmplY3QoaXRlbUlkKTtcclxuICAgICAgICBpZiAoZ2FtZU9iamVjdCkge1xyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGV4YW1pbmUgZXZlbnQgb3Igc2hvdyBtb2RhbFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXhhbWluaW5nOiAke2dhbWVPYmplY3QuZGlzcGxheU5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZXNjcmlwdGlvbjogJHtnYW1lT2JqZWN0LmV4YW1pbmVUZXh0fWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gWW91IGNhbiBpbXBsZW1lbnQgYSBtb2RhbCBvciBub3RpZmljYXRpb24gc3lzdGVtIGhlcmVcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9hc3QgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNob3dUb2FzdChgRXhhbWluaW5nICR7Z2FtZU9iamVjdC5kaXNwbGF5TmFtZX06ICR7Z2FtZU9iamVjdC5leGFtaW5lVGV4dH1gLCAnaW5mbycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3VtZSBhbiBpdGVtXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaXRlbUlkIC0gSXRlbSBJRFxyXG4gICAgICovXHJcbiAgICBjb25zdW1lSXRlbShpdGVtSWQpIHtcclxuICAgICAgICBjb25zdCBnYW1lT2JqZWN0ID0gdGhpcy5pbnZlbnRvcnlNYW5hZ2VyLmdldEdhbWVPYmplY3QoaXRlbUlkKTtcclxuICAgICAgICBpZiAoZ2FtZU9iamVjdCAmJiBnYW1lT2JqZWN0LnR5cGUgPT09ICdmb29kJykge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIGludmVudG9yeVxyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlNYW5hZ2VyLnJlbW92ZUl0ZW0oaXRlbUlkLCAxKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgZWZmZWN0c1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVPYmplY3QuZWZmZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWZmZWN0IG9mIGdhbWVPYmplY3QuZWZmZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5RWZmZWN0KGVmZmVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNob3cgZmVlZGJhY2tcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd1RvYXN0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KGBDb25zdW1lZCAke2dhbWVPYmplY3QuZGlzcGxheU5hbWV9YCwgJ3N1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZS1yZW5kZXIgdG8gdXBkYXRlIHF1YW50aXRpZXNcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBhbiBlZmZlY3RcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZmZlY3QgLSBFZmZlY3QgdG8gYXBwbHlcclxuICAgICAqL1xyXG4gICAgYXBwbHlFZmZlY3QoZWZmZWN0KSB7XHJcbiAgICAgICAgLy8gVGhpcyB3b3VsZCBpbnRlZ3JhdGUgd2l0aCB5b3VyIGdhbWUncyBlZmZlY3Qgc3lzdGVtXHJcbiAgICAgICAgY29uc29sZS5sb2coYEFwcGx5aW5nIGVmZmVjdDogJHtlZmZlY3QudHlwZX0gLSAke2VmZmVjdC52YWx1ZX0gLSAke2VmZmVjdC5kZXNjcmlwdGlvbn1gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFeGFtcGxlIGludGVncmF0aW9uIHdpdGggZ2FtZSBzeXN0ZW1zXHJcbiAgICAgICAgaWYgKHR5cGVvZiBnYW1lRW5naW5lICE9PSAndW5kZWZpbmVkJyAmJiBnYW1lRW5naW5lLnN0YXRlTWFuYWdlcikge1xyXG4gICAgICAgICAgICAvLyBBcHBseSBlZmZlY3QgdG8gcGxheWVyIHN0YXRlXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwbGFjZWhvbGRlciAtIGltcGxlbWVudCBiYXNlZCBvbiB5b3VyIGdhbWUncyBzdGF0ZSBzeXN0ZW1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGRpc3BsYXlcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LkZvb2RDYXRlZ29yeVVJID0gRm9vZENhdGVnb3J5VUk7XHJcblxyXG4vLyBFUyBNb2R1bGUgZXhwb3J0c1xyXG5leHBvcnQgeyBGb29kQ2F0ZWdvcnlVSSB9OyAiXSwibmFtZXMiOlsiRm9vZENhdGVnb3J5VUkiLCJjb25zdHJ1Y3RvciIsImZvb2RDYXRlZ29yeU1hbmFnZXIiLCJpbnZlbnRvcnlNYW5hZ2VyIiwiY3VycmVudENhdGVnb3J5IiwiY3VycmVudFN1YmNhdGVnb3J5Iiwic2VhcmNoUXVlcnkiLCJpbml0aWFsaXplIiwiY29udGFpbmVySWQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29uc29sZSIsImVycm9yIiwicmVuZGVyIiwiaW5uZXJIVE1MIiwicmVuZGVyQ2F0ZWdvcnlHcmlkIiwicmVuZGVyRm9vZEl0ZW1zIiwicmVuZGVyTnV0cml0aW9uYWxTdW1tYXJ5IiwiYXR0YWNoRXZlbnRMaXN0ZW5lcnMiLCJjYXRlZ29yaWVzIiwiZ2V0QWxsQ2F0ZWdvcmllcyIsInN0YXRzIiwiZ2V0Q2F0ZWdvcnlTdGF0aXN0aWNzIiwibWFwIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeVN0YXRzIiwiaWQiLCJpc1NlbGVjdGVkIiwiY29sb3IiLCJpY29uIiwiZGlzcGxheU5hbWUiLCJkZXNjcmlwdGlvbiIsIml0ZW1Db3VudCIsImpvaW4iLCJnZXRDYXRlZ29yeSIsIml0ZW1zIiwiZ2V0RmlsdGVyZWRJdGVtcyIsInN1YmNhdGVnb3JpZXMiLCJnZXRTdWJjYXRlZ29yaWVzIiwic3ViIiwiZm9ybWF0U3ViY2F0ZWdvcnlOYW1lIiwicmVuZGVyRm9vZEl0ZW1zR3JpZCIsImxlbmd0aCIsIml0ZW0iLCJpbnZlbnRvcnlJdGVtIiwiZ2V0SXRlbSIsInF1YW50aXR5IiwibnV0cml0aW9uYWxWYWx1ZSIsImVmZmVjdHMiLCJyZW5kZXJOdXRyaXRpb25hbEluZm8iLCJyZW5kZXJFZmZlY3RzIiwiY2Fsb3JpZXMiLCJwcm90ZWluIiwiY2FyYnMiLCJmYXQiLCJmaWJlciIsImVmZmVjdCIsInR5cGUiLCJnZXRFZmZlY3RJY29uIiwiZHVyYXRpb24iLCJpbnZlbnRvcnlJdGVtcyIsImdldEFsbEl0ZW1zIiwiZm9vZEl0ZW1zIiwiZmlsdGVyIiwiZ2FtZU9iamVjdCIsInRvdGFsTnV0cml0aW9uIiwiY2FsY3VsYXRlTnV0cml0aW9uYWxWYWx1ZSIsInNlYXJjaEZvb2RJdGVtcyIsImdldEl0ZW1zQnlTdWJjYXRlZ29yeSIsImdldEl0ZW1zQnlDYXRlZ29yeSIsInN1YmNhdGVnb3J5Iiwic3BsaXQiLCJ3b3JkIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImVmZmVjdFR5cGUiLCJpY29ucyIsImhlYWx0aCIsImVuZXJneSIsInN0YW1pbmEiLCJtYW5hIiwiYnVmZiIsImRlYnVmZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY2xvc2VzdCIsImNhdGVnb3J5Q2FyZCIsImNhdGVnb3J5SWQiLCJkYXRhc2V0Iiwic2VsZWN0Q2F0ZWdvcnkiLCJzdWJjYXRlZ29yeUJ0biIsInNlbGVjdFN1YmNhdGVnb3J5IiwiZXhhbWluZUJ0biIsIml0ZW1JZCIsImV4YW1pbmVJdGVtIiwiY29uc3VtZUJ0biIsImNvbnN1bWVJdGVtIiwic2VhcmNoSW5wdXQiLCJxdWVyeVNlbGVjdG9yIiwic2VhcmNoQnRuIiwidmFsdWUiLCJrZXkiLCJwZXJmb3JtU2VhcmNoIiwic3ViY2F0ZWdvcnlJZCIsImdldEdhbWVPYmplY3QiLCJsb2ciLCJleGFtaW5lVGV4dCIsInNob3dUb2FzdCIsInJlbW92ZUl0ZW0iLCJhcHBseUVmZmVjdCIsImdhbWVFbmdpbmUiLCJzdGF0ZU1hbmFnZXIiLCJ1cGRhdGUiLCJ3aW5kb3ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/game-engine/ui/FoodCategoryUI.js\n");

/***/ })

};
;