"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_game-engine_systems_LocationSystem_js";
exports.ids = ["_ssr_src_lib_game-engine_systems_LocationSystem_js"];
exports.modules = {

/***/ "(ssr)/./src/lib/game-engine/systems/LocationSystem.js":
/*!*******************************************************!*\
  !*** ./src/lib/game-engine/systems/LocationSystem.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocationSystem: () => (/* binding */ LocationSystem)\n/* harmony export */ });\n/**\r\n * Location System\r\n * \r\n * Manages the hierarchical location structure:\r\n * Globe → Continents → Countries → Regions → Spots\r\n * \r\n * Handles player location tracking and spot-based action availability.\r\n */ class LocationSystem {\n    constructor(locationData, stateManager, eventSystem){\n        this.locationData = locationData || {};\n        this.stateManager = stateManager;\n        this.eventSystem = eventSystem;\n        // Current player location\n        this.currentLocation = {\n            globe: null,\n            continent: null,\n            country: null,\n            region: null,\n            spot: null\n        };\n        // Location hierarchy cache\n        this.locationHierarchy = new Map();\n        // Spot actions cache\n        this.spotActions = new Map();\n        this._buildLocationHierarchy();\n    }\n    /**\r\n     * Initialize the location system\r\n     */ async initialize() {\n        try {\n            console.log('Initializing LocationSystem...');\n            // Load saved location state\n            this._loadLocationState();\n            // Set default location if none exists\n            if (!this.currentLocation.spot) {\n                this._setDefaultLocation();\n            }\n            // Build spot actions cache\n            this._buildSpotActionsCache();\n            console.log('LocationSystem initialized successfully');\n            this.eventSystem.emit('location:initialized', this.currentLocation);\n        } catch (error) {\n            console.error('Error initializing LocationSystem:', error);\n            throw error;\n        }\n    }\n    /**\r\n     * Get current player location\r\n     * @returns {Object} Current location object\r\n     */ getCurrentLocation() {\n        return {\n            ...this.currentLocation\n        };\n    }\n    /**\r\n     * Get current spot\r\n     * @returns {Object|null} Current spot data\r\n     */ getCurrentSpot() {\n        if (!this.currentLocation.spot) return null;\n        const spotPath = this._buildSpotPath();\n        return this._getSpotByPath(spotPath);\n    }\n    /**\r\n     * Get available actions for current spot\r\n     * @returns {Array} Array of available action names\r\n     */ getAvailableActions() {\n        const currentSpot = this.getCurrentSpot();\n        if (!currentSpot || !currentSpot.actions) {\n            return [];\n        }\n        return [\n            ...currentSpot.actions\n        ];\n    }\n    /**\r\n     * Move player to a new spot\r\n     * @param {string} spotId - The spot ID to move to\r\n     * @returns {boolean} Success status\r\n     */ moveToSpot(spotId) {\n        try {\n            const newSpot = this._findSpotById(spotId);\n            if (!newSpot) {\n                console.error(`Spot not found: ${spotId}`);\n                return false;\n            }\n            // Update current location\n            const oldLocation = {\n                ...this.currentLocation\n            };\n            this._updateLocationFromSpot(newSpot);\n            // Save state\n            this._saveLocationState();\n            // Emit location change event\n            this.eventSystem.emit('location:changed', {\n                from: oldLocation,\n                to: this.currentLocation,\n                spot: newSpot\n            });\n            // Emit location visited event for achievement tracking\n            this.eventSystem.emit('location:visited', {\n                locationId: spotId,\n                locationName: newSpot.name,\n                locationPath: this._buildSpotPath()\n            });\n            console.log(`Moved to spot: ${spotId}`);\n            return true;\n        } catch (error) {\n            console.error('Error moving to spot:', error);\n            return false;\n        }\n    }\n    /**\r\n     * Get all available spots from current location\r\n     * @returns {Array} Array of available spots\r\n     */ getAvailableSpots() {\n        const currentSpot = this.getCurrentSpot();\n        if (!currentSpot || !currentSpot.connections) {\n            return [];\n        }\n        return currentSpot.connections.map((connection)=>{\n            const connectedSpot = this._findSpotById(connection.spotId);\n            return {\n                id: connection.spotId,\n                name: connectedSpot?.name || connection.spotId,\n                description: connectedSpot?.description || '',\n                travelTime: connection.travelTime || 0,\n                travelCost: connection.travelCost || {},\n                requirements: connection.requirements || {}\n            };\n        });\n    }\n    /**\r\n     * Get location hierarchy for a specific path\r\n     * @param {string} path - Location path (e.g., \"globe.continent.country\")\r\n     * @returns {Object} Location hierarchy data\r\n     */ getLocationHierarchy(path = null) {\n        if (!path) {\n            return this._getFullHierarchy();\n        }\n        const pathParts = path.split('.');\n        let current = this.locationData;\n        for (const part of pathParts){\n            if (current && current[part]) {\n                current = current[part];\n            } else {\n                return null;\n            }\n        }\n        return current;\n    }\n    /**\r\n     * Get spot by full path\r\n     * @param {string} spotPath - Full spot path\r\n     * @returns {Object|null} Spot data\r\n     */ getSpotByPath(spotPath) {\n        return this._getSpotByPath(spotPath);\n    }\n    /**\r\n     * Check if player can travel to a spot\r\n     * @param {string} spotId - Target spot ID\r\n     * @param {Object} playerState - Current player state (skills, inventory, etc.)\r\n     * @returns {Object} Travel check result\r\n     */ canTravelToSpot(spotId, playerState) {\n        const currentSpot = this.getCurrentSpot();\n        if (!currentSpot || !currentSpot.connections) {\n            return {\n                canTravel: false,\n                reason: 'No connections available'\n            };\n        }\n        const connection = currentSpot.connections.find((conn)=>conn.spotId === spotId);\n        if (!connection) {\n            return {\n                canTravel: false,\n                reason: 'Spot not connected'\n            };\n        }\n        // Check requirements\n        if (connection.requirements) {\n            const requirementCheck = this._checkRequirements(connection.requirements, playerState);\n            if (!requirementCheck.met) {\n                return {\n                    canTravel: false,\n                    reason: requirementCheck.reason\n                };\n            }\n        }\n        // Check travel costs\n        if (connection.travelCost) {\n            const costCheck = this._checkTravelCost(connection.travelCost, playerState);\n            if (!costCheck.canAfford) {\n                return {\n                    canTravel: false,\n                    reason: costCheck.reason\n                };\n            }\n        }\n        return {\n            canTravel: true\n        };\n    }\n    // Private methods\n    _buildLocationHierarchy() {\n        this.locationHierarchy.clear();\n        for (const [globeId, globeData] of Object.entries(this.locationData)){\n            this.locationHierarchy.set(globeId, {\n                type: 'globe',\n                data: globeData,\n                children: new Map()\n            });\n            if (globeData.continents) {\n                for (const [continentId, continentData] of Object.entries(globeData.continents)){\n                    this.locationHierarchy.get(globeId).children.set(continentId, {\n                        type: 'continent',\n                        data: continentData,\n                        children: new Map()\n                    });\n                    if (continentData.countries) {\n                        for (const [countryId, countryData] of Object.entries(continentData.countries)){\n                            this.locationHierarchy.get(globeId).children.get(continentId).children.set(countryId, {\n                                type: 'country',\n                                data: countryData,\n                                children: new Map()\n                            });\n                            if (countryData.regions) {\n                                for (const [regionId, regionData] of Object.entries(countryData.regions)){\n                                    this.locationHierarchy.get(globeId).children.get(continentId).children.get(countryId).children.set(regionId, {\n                                        type: 'region',\n                                        data: regionData,\n                                        children: new Map()\n                                    });\n                                    if (regionData.spots) {\n                                        for (const [spotId, spotData] of Object.entries(regionData.spots)){\n                                            this.locationHierarchy.get(globeId).children.get(continentId).children.get(countryId).children.get(regionId).children.set(spotId, {\n                                                type: 'spot',\n                                                data: spotData\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    _buildSpotActionsCache() {\n        this.spotActions.clear();\n        // Traverse all spots and cache their actions\n        for (const [globeId, globeData] of Object.entries(this.locationData)){\n            if (globeData.continents) {\n                for (const [continentId, continentData] of Object.entries(globeData.continents)){\n                    if (continentData.countries) {\n                        for (const [countryId, countryData] of Object.entries(continentData.countries)){\n                            if (countryData.regions) {\n                                for (const [regionId, regionData] of Object.entries(countryData.regions)){\n                                    if (regionData.spots) {\n                                        for (const [spotId, spotData] of Object.entries(regionData.spots)){\n                                            const spotPath = `${globeId}.${continentId}.${countryId}.${regionId}.${spotId}`;\n                                            this.spotActions.set(spotPath, spotData.actions || []);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    _loadLocationState() {\n        const savedLocation = this.stateManager.getState('location');\n        if (savedLocation) {\n            this.currentLocation = {\n                ...savedLocation\n            };\n        }\n    }\n    _saveLocationState() {\n        this.stateManager.setState('location', this.currentLocation);\n    }\n    _setDefaultLocation() {\n        // Find the first available spot as default\n        for (const [globeId, globeData] of Object.entries(this.locationData)){\n            if (globeData.continents) {\n                for (const [continentId, continentData] of Object.entries(globeData.continents)){\n                    if (continentData.countries) {\n                        for (const [countryId, countryData] of Object.entries(continentData.countries)){\n                            if (countryData.regions) {\n                                for (const [regionId, regionData] of Object.entries(countryData.regions)){\n                                    if (regionData.spots) {\n                                        for (const [spotId, spotData] of Object.entries(regionData.spots)){\n                                            this.currentLocation = {\n                                                globe: globeId,\n                                                continent: continentId,\n                                                country: countryId,\n                                                region: regionId,\n                                                spot: spotId\n                                            };\n                                            return;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    _updateLocationFromSpot(spotData) {\n        // Extract location hierarchy from spot data\n        const pathParts = spotData.path?.split('.') || [];\n        if (pathParts.length >= 5) {\n            this.currentLocation = {\n                globe: pathParts[0],\n                continent: pathParts[1],\n                country: pathParts[2],\n                region: pathParts[3],\n                spot: pathParts[4]\n            };\n        }\n    }\n    _buildSpotPath() {\n        const { globe, continent, country, region, spot } = this.currentLocation;\n        return `${globe}.${continent}.${country}.${region}.${spot}`;\n    }\n    _getSpotByPath(spotPath) {\n        const pathParts = spotPath.split('.');\n        if (pathParts.length !== 5) return null;\n        const [globeId, continentId, countryId, regionId, spotId] = pathParts;\n        try {\n            return this.locationData[globeId]?.continents[continentId]?.countries[countryId]?.regions[regionId]?.spots[spotId] || null;\n        } catch (error) {\n            return null;\n        }\n    }\n    _findSpotById(spotId) {\n        // Search through all spots to find by ID\n        for (const [globeId, globeData] of Object.entries(this.locationData)){\n            if (globeData.continents) {\n                for (const [continentId, continentData] of Object.entries(globeData.continents)){\n                    if (continentData.countries) {\n                        for (const [countryId, countryData] of Object.entries(continentData.countries)){\n                            if (countryData.regions) {\n                                for (const [regionId, regionData] of Object.entries(countryData.regions)){\n                                    if (regionData.spots) {\n                                        for (const [id, spotData] of Object.entries(regionData.spots)){\n                                            if (id === spotId) {\n                                                return {\n                                                    ...spotData,\n                                                    path: `${globeId}.${continentId}.${countryId}.${regionId}.${id}`\n                                                };\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    _getFullHierarchy() {\n        return this.locationData;\n    }\n    _checkRequirements(requirements, playerState) {\n        // Check skill requirements\n        if (requirements.skills) {\n            for (const [skillName, requiredLevel] of Object.entries(requirements.skills)){\n                const playerSkill = playerState.skills?.[skillName];\n                if (!playerSkill || playerSkill.level < requiredLevel) {\n                    return {\n                        met: false,\n                        reason: `Requires ${skillName} level ${requiredLevel}`\n                    };\n                }\n            }\n        }\n        // Check item requirements\n        if (requirements.items) {\n            for (const [itemId, requiredQuantity] of Object.entries(requirements.items)){\n                const playerItem = playerState.inventory?.[itemId];\n                if (!playerItem || playerItem.quantity < requiredQuantity) {\n                    return {\n                        met: false,\n                        reason: `Requires ${itemId} x${requiredQuantity}`\n                    };\n                }\n            }\n        }\n        return {\n            met: true\n        };\n    }\n    _checkTravelCost(travelCost, playerState) {\n        // Check item costs\n        if (travelCost.items) {\n            for (const [itemId, requiredQuantity] of Object.entries(travelCost.items)){\n                const playerItem = playerState.inventory?.[itemId];\n                if (!playerItem || playerItem.quantity < requiredQuantity) {\n                    return {\n                        canAfford: false,\n                        reason: `Need ${itemId} x${requiredQuantity}`\n                    };\n                }\n            }\n        }\n        return {\n            canAfford: true\n        };\n    }\n}\nif (false) {}\n// ES Module exports\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2dhbWUtZW5naW5lL3N5c3RlbXMvTG9jYXRpb25TeXN0ZW0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7O0NBT0MsR0FFRCxNQUFNQTtJQUNGQyxZQUFZQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsV0FBVyxDQUFFO1FBQ2pELElBQUksQ0FBQ0YsWUFBWSxHQUFHQSxnQkFBZ0IsQ0FBQztRQUNyQyxJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxXQUFXLEdBQUdBO1FBRW5CLDBCQUEwQjtRQUMxQixJQUFJLENBQUNDLGVBQWUsR0FBRztZQUNuQkMsT0FBTztZQUNQQyxXQUFXO1lBQ1hDLFNBQVM7WUFDVEMsUUFBUTtZQUNSQyxNQUFNO1FBQ1Y7UUFFQSwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJQztRQUU3QixxQkFBcUI7UUFDckIsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSUQ7UUFFdkIsSUFBSSxDQUFDRSx1QkFBdUI7SUFDaEM7SUFFQTs7S0FFQyxHQUNELE1BQU1DLGFBQWE7UUFDZixJQUFJO1lBQ0FDLFFBQVFDLEdBQUcsQ0FBQztZQUVaLDRCQUE0QjtZQUM1QixJQUFJLENBQUNDLGtCQUFrQjtZQUV2QixzQ0FBc0M7WUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQ2IsZUFBZSxDQUFDSyxJQUFJLEVBQUU7Z0JBQzVCLElBQUksQ0FBQ1MsbUJBQW1CO1lBQzVCO1lBRUEsMkJBQTJCO1lBQzNCLElBQUksQ0FBQ0Msc0JBQXNCO1lBRTNCSixRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJLENBQUNiLFdBQVcsQ0FBQ2lCLElBQUksQ0FBQyx3QkFBd0IsSUFBSSxDQUFDaEIsZUFBZTtRQUV0RSxFQUFFLE9BQU9pQixPQUFPO1lBQ1pOLFFBQVFNLEtBQUssQ0FBQyxzQ0FBc0NBO1lBQ3BELE1BQU1BO1FBQ1Y7SUFDSjtJQUVBOzs7S0FHQyxHQUNEQyxxQkFBcUI7UUFDakIsT0FB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QUFLLEVBQUU7WUFDbEIsS0FBSyxNQUFNLENBQUNDLFFBQVFDLGlCQUFpQixJQUFJN0IsT0FBT0MsT0FBTyxDQUFDMUIsV0FBV29ELEtBQUssRUFBRztnQkFDdkUsTUFBTUcsYUFBYTVDLFlBQVk2QyxTQUFTLEVBQUUsQ0FBQ0gsT0FBTztnQkFDbEQsSUFBSSxDQUFDRSxjQUFjQSxXQUFXRSxRQUFRLEdBQUdILGtCQUFrQjtvQkFDdkQsT0FBTzt3QkFDSGpDLFdBQVc7d0JBQ1hSLFFBQVEsQ0FBQyxLQUFLLEVBQUV3QyxPQUFPLEVBQUUsRUFBRUMsa0JBQWtCO29CQUNqRDtnQkFDSjtZQUNKO1FBQ0o7UUFFQSxPQUFPO1lBQUVqQyxXQUFXO1FBQUs7SUFDN0I7QUFDSjtBQUVBLElBQUksS0FBNkIsRUFBRXFDLEVBQXVDOUc7QUFFMUUsb0JBQW9CO0FBQ00iLCJzb3VyY2VzIjpbIkM6XFxHaXRIdWJcXFNlbGZcXHRhdmVybnNcXHNyY1xcbGliXFxnYW1lLWVuZ2luZVxcc3lzdGVtc1xcTG9jYXRpb25TeXN0ZW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExvY2F0aW9uIFN5c3RlbVxyXG4gKiBcclxuICogTWFuYWdlcyB0aGUgaGllcmFyY2hpY2FsIGxvY2F0aW9uIHN0cnVjdHVyZTpcclxuICogR2xvYmUg4oaSIENvbnRpbmVudHMg4oaSIENvdW50cmllcyDihpIgUmVnaW9ucyDihpIgU3BvdHNcclxuICogXHJcbiAqIEhhbmRsZXMgcGxheWVyIGxvY2F0aW9uIHRyYWNraW5nIGFuZCBzcG90LWJhc2VkIGFjdGlvbiBhdmFpbGFiaWxpdHkuXHJcbiAqL1xyXG5cclxuY2xhc3MgTG9jYXRpb25TeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IobG9jYXRpb25EYXRhLCBzdGF0ZU1hbmFnZXIsIGV2ZW50U3lzdGVtKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbkRhdGEgPSBsb2NhdGlvbkRhdGEgfHwge307XHJcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIgPSBzdGF0ZU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbSA9IGV2ZW50U3lzdGVtO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEN1cnJlbnQgcGxheWVyIGxvY2F0aW9uXHJcbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSB7XHJcbiAgICAgICAgICAgIGdsb2JlOiBudWxsLFxyXG4gICAgICAgICAgICBjb250aW5lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIGNvdW50cnk6IG51bGwsXHJcbiAgICAgICAgICAgIHJlZ2lvbjogbnVsbCxcclxuICAgICAgICAgICAgc3BvdDogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9jYXRpb24gaGllcmFyY2h5IGNhY2hlXHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbkhpZXJhcmNoeSA9IG5ldyBNYXAoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTcG90IGFjdGlvbnMgY2FjaGVcclxuICAgICAgICB0aGlzLnNwb3RBY3Rpb25zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2J1aWxkTG9jYXRpb25IaWVyYXJjaHkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBsb2NhdGlvbiBzeXN0ZW1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIExvY2F0aW9uU3lzdGVtLi4uJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMb2FkIHNhdmVkIGxvY2F0aW9uIHN0YXRlXHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRMb2NhdGlvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBsb2NhdGlvbiBpZiBub25lIGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudExvY2F0aW9uLnNwb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldERlZmF1bHRMb2NhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBCdWlsZCBzcG90IGFjdGlvbnMgY2FjaGVcclxuICAgICAgICAgICAgdGhpcy5fYnVpbGRTcG90QWN0aW9uc0NhY2hlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb25TeXN0ZW0gaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0uZW1pdCgnbG9jYXRpb246aW5pdGlhbGl6ZWQnLCB0aGlzLmN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBMb2NhdGlvblN5c3RlbTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY3VycmVudCBwbGF5ZXIgbG9jYXRpb25cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEN1cnJlbnQgbG9jYXRpb24gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4geyAuLi50aGlzLmN1cnJlbnRMb2NhdGlvbiB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjdXJyZW50IHNwb3RcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R8bnVsbH0gQ3VycmVudCBzcG90IGRhdGFcclxuICAgICAqL1xyXG4gICAgZ2V0Q3VycmVudFNwb3QoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRMb2NhdGlvbi5zcG90KSByZXR1cm4gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzcG90UGF0aCA9IHRoaXMuX2J1aWxkU3BvdFBhdGgoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U3BvdEJ5UGF0aChzcG90UGF0aCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGF2YWlsYWJsZSBhY3Rpb25zIGZvciBjdXJyZW50IHNwb3RcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgYXZhaWxhYmxlIGFjdGlvbiBuYW1lc1xyXG4gICAgICovXHJcbiAgICBnZXRBdmFpbGFibGVBY3Rpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTcG90ID0gdGhpcy5nZXRDdXJyZW50U3BvdCgpO1xyXG4gICAgICAgIGlmICghY3VycmVudFNwb3QgfHwgIWN1cnJlbnRTcG90LmFjdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRTcG90LmFjdGlvbnNdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIE1vdmUgcGxheWVyIHRvIGEgbmV3IHNwb3RcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcG90SWQgLSBUaGUgc3BvdCBJRCB0byBtb3ZlIHRvXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gU3VjY2VzcyBzdGF0dXNcclxuICAgICAqL1xyXG4gICAgbW92ZVRvU3BvdChzcG90SWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTcG90ID0gdGhpcy5fZmluZFNwb3RCeUlkKHNwb3RJZCk7XHJcbiAgICAgICAgICAgIGlmICghbmV3U3BvdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU3BvdCBub3QgZm91bmQ6ICR7c3BvdElkfWApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgY3VycmVudCBsb2NhdGlvblxyXG4gICAgICAgICAgICBjb25zdCBvbGRMb2NhdGlvbiA9IHsgLi4udGhpcy5jdXJyZW50TG9jYXRpb24gfTtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTG9jYXRpb25Gcm9tU3BvdChuZXdTcG90KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNhdmUgc3RhdGVcclxuICAgICAgICAgICAgdGhpcy5fc2F2ZUxvY2F0aW9uU3RhdGUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEVtaXQgbG9jYXRpb24gY2hhbmdlIGV2ZW50XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0uZW1pdCgnbG9jYXRpb246Y2hhbmdlZCcsIHtcclxuICAgICAgICAgICAgICAgIGZyb206IG9sZExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgdG86IHRoaXMuY3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3BvdDogbmV3U3BvdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEVtaXQgbG9jYXRpb24gdmlzaXRlZCBldmVudCBmb3IgYWNoaWV2ZW1lbnQgdHJhY2tpbmdcclxuICAgICAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5lbWl0KCdsb2NhdGlvbjp2aXNpdGVkJywge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb25JZDogc3BvdElkLFxyXG4gICAgICAgICAgICAgICAgbG9jYXRpb25OYW1lOiBuZXdTcG90Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvblBhdGg6IHRoaXMuX2J1aWxkU3BvdFBhdGgoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNb3ZlZCB0byBzcG90OiAke3Nwb3RJZH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1vdmluZyB0byBzcG90OicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBzcG90cyBmcm9tIGN1cnJlbnQgbG9jYXRpb25cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgYXZhaWxhYmxlIHNwb3RzXHJcbiAgICAgKi9cclxuICAgIGdldEF2YWlsYWJsZVNwb3RzKCkge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTcG90ID0gdGhpcy5nZXRDdXJyZW50U3BvdCgpO1xyXG4gICAgICAgIGlmICghY3VycmVudFNwb3QgfHwgIWN1cnJlbnRTcG90LmNvbm5lY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTcG90LmNvbm5lY3Rpb25zLm1hcChjb25uZWN0aW9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkU3BvdCA9IHRoaXMuX2ZpbmRTcG90QnlJZChjb25uZWN0aW9uLnNwb3RJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogY29ubmVjdGlvbi5zcG90SWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBjb25uZWN0ZWRTcG90Py5uYW1lIHx8IGNvbm5lY3Rpb24uc3BvdElkLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGNvbm5lY3RlZFNwb3Q/LmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgdHJhdmVsVGltZTogY29ubmVjdGlvbi50cmF2ZWxUaW1lIHx8IDAsXHJcbiAgICAgICAgICAgICAgICB0cmF2ZWxDb3N0OiBjb25uZWN0aW9uLnRyYXZlbENvc3QgfHwge30sXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlbWVudHM6IGNvbm5lY3Rpb24ucmVxdWlyZW1lbnRzIHx8IHt9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGxvY2F0aW9uIGhpZXJhcmNoeSBmb3IgYSBzcGVjaWZpYyBwYXRoXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIExvY2F0aW9uIHBhdGggKGUuZy4sIFwiZ2xvYmUuY29udGluZW50LmNvdW50cnlcIilcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IExvY2F0aW9uIGhpZXJhcmNoeSBkYXRhXHJcbiAgICAgKi9cclxuICAgIGdldExvY2F0aW9uSGllcmFyY2h5KHBhdGggPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKCFwYXRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRGdWxsSGllcmFyY2h5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMubG9jYXRpb25EYXRhO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXRoUGFydHMpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudFtwYXJ0XSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgc3BvdCBieSBmdWxsIHBhdGhcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcG90UGF0aCAtIEZ1bGwgc3BvdCBwYXRoXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IFNwb3QgZGF0YVxyXG4gICAgICovXHJcbiAgICBnZXRTcG90QnlQYXRoKHNwb3RQYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNwb3RCeVBhdGgoc3BvdFBhdGgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHBsYXllciBjYW4gdHJhdmVsIHRvIGEgc3BvdFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNwb3RJZCAtIFRhcmdldCBzcG90IElEXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGxheWVyU3RhdGUgLSBDdXJyZW50IHBsYXllciBzdGF0ZSAoc2tpbGxzLCBpbnZlbnRvcnksIGV0Yy4pXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUcmF2ZWwgY2hlY2sgcmVzdWx0XHJcbiAgICAgKi9cclxuICAgIGNhblRyYXZlbFRvU3BvdChzcG90SWQsIHBsYXllclN0YXRlKSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFNwb3QgPSB0aGlzLmdldEN1cnJlbnRTcG90KCk7XHJcbiAgICAgICAgaWYgKCFjdXJyZW50U3BvdCB8fCAhY3VycmVudFNwb3QuY29ubmVjdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY2FuVHJhdmVsOiBmYWxzZSwgcmVhc29uOiAnTm8gY29ubmVjdGlvbnMgYXZhaWxhYmxlJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gY3VycmVudFNwb3QuY29ubmVjdGlvbnMuZmluZChjb25uID0+IGNvbm4uc3BvdElkID09PSBzcG90SWQpO1xyXG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4geyBjYW5UcmF2ZWw6IGZhbHNlLCByZWFzb246ICdTcG90IG5vdCBjb25uZWN0ZWQnIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIHJlcXVpcmVtZW50c1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLnJlcXVpcmVtZW50cykge1xyXG4gICAgICAgICAgICBjb25zdCByZXF1aXJlbWVudENoZWNrID0gdGhpcy5fY2hlY2tSZXF1aXJlbWVudHMoY29ubmVjdGlvbi5yZXF1aXJlbWVudHMsIHBsYXllclN0YXRlKTtcclxuICAgICAgICAgICAgaWYgKCFyZXF1aXJlbWVudENoZWNrLm1ldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2FuVHJhdmVsOiBmYWxzZSwgcmVhc29uOiByZXF1aXJlbWVudENoZWNrLnJlYXNvbiB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIHRyYXZlbCBjb3N0c1xyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLnRyYXZlbENvc3QpIHtcclxuICAgICAgICAgICAgY29uc3QgY29zdENoZWNrID0gdGhpcy5fY2hlY2tUcmF2ZWxDb3N0KGNvbm5lY3Rpb24udHJhdmVsQ29zdCwgcGxheWVyU3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAoIWNvc3RDaGVjay5jYW5BZmZvcmQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGNhblRyYXZlbDogZmFsc2UsIHJlYXNvbjogY29zdENoZWNrLnJlYXNvbiB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IGNhblRyYXZlbDogdHJ1ZSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQcml2YXRlIG1ldGhvZHNcclxuICAgIFxyXG4gICAgX2J1aWxkTG9jYXRpb25IaWVyYXJjaHkoKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhdGlvbkhpZXJhcmNoeS5jbGVhcigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgW2dsb2JlSWQsIGdsb2JlRGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5sb2NhdGlvbkRhdGEpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25IaWVyYXJjaHkuc2V0KGdsb2JlSWQsIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdnbG9iZScsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBnbG9iZURhdGEsXHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogbmV3IE1hcCgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGdsb2JlRGF0YS5jb250aW5lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjb250aW5lbnRJZCwgY29udGluZW50RGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoZ2xvYmVEYXRhLmNvbnRpbmVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbkhpZXJhcmNoeS5nZXQoZ2xvYmVJZCkuY2hpbGRyZW4uc2V0KGNvbnRpbmVudElkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb250aW5lbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb250aW5lbnREYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogbmV3IE1hcCgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRpbmVudERhdGEuY291bnRyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2NvdW50cnlJZCwgY291bnRyeURhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRpbmVudERhdGEuY291bnRyaWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbkhpZXJhcmNoeS5nZXQoZ2xvYmVJZCkuY2hpbGRyZW4uZ2V0KGNvbnRpbmVudElkKS5jaGlsZHJlbi5zZXQoY291bnRyeUlkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvdW50cnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvdW50cnlEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBuZXcgTWFwKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeURhdGEucmVnaW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3JlZ2lvbklkLCByZWdpb25EYXRhXSBvZiBPYmplY3QuZW50cmllcyhjb3VudHJ5RGF0YS5yZWdpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uSGllcmFyY2h5LmdldChnbG9iZUlkKS5jaGlsZHJlbi5nZXQoY29udGluZW50SWQpLmNoaWxkcmVuLmdldChjb3VudHJ5SWQpLmNoaWxkcmVuLnNldChyZWdpb25JZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlZ2lvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZWdpb25EYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IG5ldyBNYXAoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb25EYXRhLnNwb3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzcG90SWQsIHNwb3REYXRhXSBvZiBPYmplY3QuZW50cmllcyhyZWdpb25EYXRhLnNwb3RzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25IaWVyYXJjaHkuZ2V0KGdsb2JlSWQpLmNoaWxkcmVuLmdldChjb250aW5lbnRJZCkuY2hpbGRyZW4uZ2V0KGNvdW50cnlJZCkuY2hpbGRyZW4uZ2V0KHJlZ2lvbklkKS5jaGlsZHJlbi5zZXQoc3BvdElkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzcG90JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogc3BvdERhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgX2J1aWxkU3BvdEFjdGlvbnNDYWNoZSgpIHtcclxuICAgICAgICB0aGlzLnNwb3RBY3Rpb25zLmNsZWFyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVHJhdmVyc2UgYWxsIHNwb3RzIGFuZCBjYWNoZSB0aGVpciBhY3Rpb25zXHJcbiAgICAgICAgZm9yIChjb25zdCBbZ2xvYmVJZCwgZ2xvYmVEYXRhXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmxvY2F0aW9uRGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGdsb2JlRGF0YS5jb250aW5lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjb250aW5lbnRJZCwgY29udGluZW50RGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoZ2xvYmVEYXRhLmNvbnRpbmVudHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRpbmVudERhdGEuY291bnRyaWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2NvdW50cnlJZCwgY291bnRyeURhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRpbmVudERhdGEuY291bnRyaWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlEYXRhLnJlZ2lvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtyZWdpb25JZCwgcmVnaW9uRGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoY291bnRyeURhdGEucmVnaW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbkRhdGEuc3BvdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3Nwb3RJZCwgc3BvdERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHJlZ2lvbkRhdGEuc3BvdHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BvdFBhdGggPSBgJHtnbG9iZUlkfS4ke2NvbnRpbmVudElkfS4ke2NvdW50cnlJZH0uJHtyZWdpb25JZH0uJHtzcG90SWR9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwb3RBY3Rpb25zLnNldChzcG90UGF0aCwgc3BvdERhdGEuYWN0aW9ucyB8fCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9sb2FkTG9jYXRpb25TdGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzYXZlZExvY2F0aW9uID0gdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoJ2xvY2F0aW9uJyk7XHJcbiAgICAgICAgaWYgKHNhdmVkTG9jYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSB7IC4uLnNhdmVkTG9jYXRpb24gfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9zYXZlTG9jYXRpb25TdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTdGF0ZSgnbG9jYXRpb24nLCB0aGlzLmN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9zZXREZWZhdWx0TG9jYXRpb24oKSB7XHJcbiAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgYXZhaWxhYmxlIHNwb3QgYXMgZGVmYXVsdFxyXG4gICAgICAgIGZvciAoY29uc3QgW2dsb2JlSWQsIGdsb2JlRGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5sb2NhdGlvbkRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChnbG9iZURhdGEuY29udGluZW50cykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbY29udGluZW50SWQsIGNvbnRpbmVudERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGdsb2JlRGF0YS5jb250aW5lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250aW5lbnREYXRhLmNvdW50cmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjb3VudHJ5SWQsIGNvdW50cnlEYXRhXSBvZiBPYmplY3QuZW50cmllcyhjb250aW5lbnREYXRhLmNvdW50cmllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5RGF0YS5yZWdpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcmVnaW9uSWQsIHJlZ2lvbkRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGNvdW50cnlEYXRhLnJlZ2lvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb25EYXRhLnNwb3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzcG90SWQsIHNwb3REYXRhXSBvZiBPYmplY3QuZW50cmllcyhyZWdpb25EYXRhLnNwb3RzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iZTogZ2xvYmVJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGluZW50OiBjb250aW5lbnRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeTogY291bnRyeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb246IHJlZ2lvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcG90OiBzcG90SWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgX3VwZGF0ZUxvY2F0aW9uRnJvbVNwb3Qoc3BvdERhdGEpIHtcclxuICAgICAgICAvLyBFeHRyYWN0IGxvY2F0aW9uIGhpZXJhcmNoeSBmcm9tIHNwb3QgZGF0YVxyXG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHNwb3REYXRhLnBhdGg/LnNwbGl0KCcuJykgfHwgW107XHJcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPj0gNSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIGdsb2JlOiBwYXRoUGFydHNbMF0sXHJcbiAgICAgICAgICAgICAgICBjb250aW5lbnQ6IHBhdGhQYXJ0c1sxXSxcclxuICAgICAgICAgICAgICAgIGNvdW50cnk6IHBhdGhQYXJ0c1syXSxcclxuICAgICAgICAgICAgICAgIHJlZ2lvbjogcGF0aFBhcnRzWzNdLFxyXG4gICAgICAgICAgICAgICAgc3BvdDogcGF0aFBhcnRzWzRdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfYnVpbGRTcG90UGF0aCgpIHtcclxuICAgICAgICBjb25zdCB7IGdsb2JlLCBjb250aW5lbnQsIGNvdW50cnksIHJlZ2lvbiwgc3BvdCB9ID0gdGhpcy5jdXJyZW50TG9jYXRpb247XHJcbiAgICAgICAgcmV0dXJuIGAke2dsb2JlfS4ke2NvbnRpbmVudH0uJHtjb3VudHJ5fS4ke3JlZ2lvbn0uJHtzcG90fWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9nZXRTcG90QnlQYXRoKHNwb3RQYXRoKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gc3BvdFBhdGguc3BsaXQoJy4nKTtcclxuICAgICAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCAhPT0gNSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgW2dsb2JlSWQsIGNvbnRpbmVudElkLCBjb3VudHJ5SWQsIHJlZ2lvbklkLCBzcG90SWRdID0gcGF0aFBhcnRzO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uRGF0YVtnbG9iZUlkXT8uY29udGluZW50c1tjb250aW5lbnRJZF0/LmNvdW50cmllc1tjb3VudHJ5SWRdPy5yZWdpb25zW3JlZ2lvbklkXT8uc3BvdHNbc3BvdElkXSB8fCBudWxsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgX2ZpbmRTcG90QnlJZChzcG90SWQpIHtcclxuICAgICAgICAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgc3BvdHMgdG8gZmluZCBieSBJRFxyXG4gICAgICAgIGZvciAoY29uc3QgW2dsb2JlSWQsIGdsb2JlRGF0YV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5sb2NhdGlvbkRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChnbG9iZURhdGEuY29udGluZW50cykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbY29udGluZW50SWQsIGNvbnRpbmVudERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGdsb2JlRGF0YS5jb250aW5lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250aW5lbnREYXRhLmNvdW50cmllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtjb3VudHJ5SWQsIGNvdW50cnlEYXRhXSBvZiBPYmplY3QuZW50cmllcyhjb250aW5lbnREYXRhLmNvdW50cmllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5RGF0YS5yZWdpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcmVnaW9uSWQsIHJlZ2lvbkRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGNvdW50cnlEYXRhLnJlZ2lvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWdpb25EYXRhLnNwb3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpZCwgc3BvdERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHJlZ2lvbkRhdGEuc3BvdHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSBzcG90SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNwb3REYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogYCR7Z2xvYmVJZH0uJHtjb250aW5lbnRJZH0uJHtjb3VudHJ5SWR9LiR7cmVnaW9uSWR9LiR7aWR9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2dldEZ1bGxIaWVyYXJjaHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25EYXRhO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfY2hlY2tSZXF1aXJlbWVudHMocmVxdWlyZW1lbnRzLCBwbGF5ZXJTdGF0ZSkge1xyXG4gICAgICAgIC8vIENoZWNrIHNraWxsIHJlcXVpcmVtZW50c1xyXG4gICAgICAgIGlmIChyZXF1aXJlbWVudHMuc2tpbGxzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3NraWxsTmFtZSwgcmVxdWlyZWRMZXZlbF0gb2YgT2JqZWN0LmVudHJpZXMocmVxdWlyZW1lbnRzLnNraWxscykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllclNraWxsID0gcGxheWVyU3RhdGUuc2tpbGxzPy5bc2tpbGxOYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyU2tpbGwgfHwgcGxheWVyU2tpbGwubGV2ZWwgPCByZXF1aXJlZExldmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgUmVxdWlyZXMgJHtza2lsbE5hbWV9IGxldmVsICR7cmVxdWlyZWRMZXZlbH1gXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpdGVtIHJlcXVpcmVtZW50c1xyXG4gICAgICAgIGlmIChyZXF1aXJlbWVudHMuaXRlbXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBbaXRlbUlkLCByZXF1aXJlZFF1YW50aXR5XSBvZiBPYmplY3QuZW50cmllcyhyZXF1aXJlbWVudHMuaXRlbXMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJJdGVtID0gcGxheWVyU3RhdGUuaW52ZW50b3J5Py5baXRlbUlkXTtcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVySXRlbSB8fCBwbGF5ZXJJdGVtLnF1YW50aXR5IDwgcmVxdWlyZWRRdWFudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogYFJlcXVpcmVzICR7aXRlbUlkfSB4JHtyZXF1aXJlZFF1YW50aXR5fWBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7IG1ldDogdHJ1ZSB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfY2hlY2tUcmF2ZWxDb3N0KHRyYXZlbENvc3QsIHBsYXllclN0YXRlKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaXRlbSBjb3N0c1xyXG4gICAgICAgIGlmICh0cmF2ZWxDb3N0Lml0ZW1zKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2l0ZW1JZCwgcmVxdWlyZWRRdWFudGl0eV0gb2YgT2JqZWN0LmVudHJpZXModHJhdmVsQ29zdC5pdGVtcykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckl0ZW0gPSBwbGF5ZXJTdGF0ZS5pbnZlbnRvcnk/LltpdGVtSWRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXJJdGVtIHx8IHBsYXllckl0ZW0ucXVhbnRpdHkgPCByZXF1aXJlZFF1YW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuQWZmb3JkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgTmVlZCAke2l0ZW1JZH0geCR7cmVxdWlyZWRRdWFudGl0eX1gXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geyBjYW5BZmZvcmQ6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cuTG9jYXRpb25TeXN0ZW0gPSBMb2NhdGlvblN5c3RlbTtcclxuXHJcbi8vIEVTIE1vZHVsZSBleHBvcnRzXHJcbmV4cG9ydCB7IExvY2F0aW9uU3lzdGVtIH07ICJdLCJuYW1lcyI6WyJMb2NhdGlvblN5c3RlbSIsImNvbnN0cnVjdG9yIiwibG9jYXRpb25EYXRhIiwic3RhdGVNYW5hZ2VyIiwiZXZlbnRTeXN0ZW0iLCJjdXJyZW50TG9jYXRpb24iLCJnbG9iZSIsImNvbnRpbmVudCIsImNvdW50cnkiLCJyZWdpb24iLCJzcG90IiwibG9jYXRpb25IaWVyYXJjaHkiLCJNYXAiLCJzcG90QWN0aW9ucyIsIl9idWlsZExvY2F0aW9uSGllcmFyY2h5IiwiaW5pdGlhbGl6ZSIsImNvbnNvbGUiLCJsb2ciLCJfbG9hZExvY2F0aW9uU3RhdGUiLCJfc2V0RGVmYXVsdExvY2F0aW9uIiwiX2J1aWxkU3BvdEFjdGlvbnNDYWNoZSIsImVtaXQiLCJlcnJvciIsImdldEN1cnJlbnRMb2NhdGlvbiIsImdldEN1cnJlbnRTcG90Iiwic3BvdFBhdGgiLCJfYnVpbGRTcG90UGF0aCIsIl9nZXRTcG90QnlQYXRoIiwiZ2V0QXZhaWxhYmxlQWN0aW9ucyIsImN1cnJlbnRTcG90IiwiYWN0aW9ucyIsIm1vdmVUb1Nwb3QiLCJzcG90SWQiLCJuZXdTcG90IiwiX2ZpbmRTcG90QnlJZCIsIm9sZExvY2F0aW9uIiwiX3VwZGF0ZUxvY2F0aW9uRnJvbVNwb3QiLCJfc2F2ZUxvY2F0aW9uU3RhdGUiLCJmcm9tIiwidG8iLCJsb2NhdGlvbklkIiwibG9jYXRpb25OYW1lIiwibmFtZSIsImxvY2F0aW9uUGF0aCIsImdldEF2YWlsYWJsZVNwb3RzIiwiY29ubmVjdGlvbnMiLCJtYXAiLCJjb25uZWN0aW9uIiwiY29ubmVjdGVkU3BvdCIsImlkIiwiZGVzY3JpcHRpb24iLCJ0cmF2ZWxUaW1lIiwidHJhdmVsQ29zdCIsInJlcXVpcmVtZW50cyIsImdldExvY2F0aW9uSGllcmFyY2h5IiwicGF0aCIsIl9nZXRGdWxsSGllcmFyY2h5IiwicGF0aFBhcnRzIiwic3BsaXQiLCJjdXJyZW50IiwicGFydCIsImdldFNwb3RCeVBhdGgiLCJjYW5UcmF2ZWxUb1Nwb3QiLCJwbGF5ZXJTdGF0ZSIsImNhblRyYXZlbCIsInJlYXNvbiIsImZpbmQiLCJjb25uIiwicmVxdWlyZW1lbnRDaGVjayIsIl9jaGVja1JlcXVpcmVtZW50cyIsIm1ldCIsImNvc3RDaGVjayIsIl9jaGVja1RyYXZlbENvc3QiLCJjYW5BZmZvcmQiLCJjbGVhciIsImdsb2JlSWQiLCJnbG9iZURhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwic2V0IiwidHlwZSIsImRhdGEiLCJjaGlsZHJlbiIsImNvbnRpbmVudHMiLCJjb250aW5lbnRJZCIsImNvbnRpbmVudERhdGEiLCJnZXQiLCJjb3VudHJpZXMiLCJjb3VudHJ5SWQiLCJjb3VudHJ5RGF0YSIsInJlZ2lvbnMiLCJyZWdpb25JZCIsInJlZ2lvbkRhdGEiLCJzcG90cyIsInNwb3REYXRhIiwic2F2ZWRMb2NhdGlvbiIsImdldFN0YXRlIiwic2V0U3RhdGUiLCJsZW5ndGgiLCJza2lsbHMiLCJza2lsbE5hbWUiLCJyZXF1aXJlZExldmVsIiwicGxheWVyU2tpbGwiLCJsZXZlbCIsIml0ZW1zIiwiaXRlbUlkIiwicmVxdWlyZWRRdWFudGl0eSIsInBsYXllckl0ZW0iLCJpbnZlbnRvcnkiLCJxdWFudGl0eSIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/game-engine/systems/LocationSystem.js\n");

/***/ })

};
;