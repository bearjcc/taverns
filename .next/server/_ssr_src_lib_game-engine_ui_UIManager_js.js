"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_game-engine_ui_UIManager_js";
exports.ids = ["_ssr_src_lib_game-engine_ui_UIManager_js"];
exports.modules = {

/***/ "(ssr)/./src/lib/game-engine/ui/UIManager.js":
/*!*********************************************!*\
  !*** ./src/lib/game-engine/ui/UIManager.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UIManager: () => (/* binding */ UIManager)\n/* harmony export */ });\nclass UIManager {\n    constructor(){\n        this.currentTab = 'skills';\n        this.toastContainer = null;\n        this.initializeToastContainer();\n    }\n    initializeToastContainer() {\n        this.toastContainer = document.getElementById('toast-container');\n        if (!this.toastContainer) {\n            this.toastContainer = document.createElement('div');\n            this.toastContainer.id = 'toast-container';\n            this.toastContainer.className = 'toast-container';\n            document.body.appendChild(this.toastContainer);\n        }\n    }\n    updateSkillsDisplay(skillManager, skillsConfig) {\n        const skillsContent = document.getElementById('skills-content');\n        if (!skillsContent) return;\n        const { skill_categories, skills: skillsData } = skillsConfig;\n        const playerSkills = skillManager.getAllSkills();\n        let html = '';\n        skill_categories.forEach((category)=>{\n            html += this.createSkillCategoryHtml(category);\n            const skillsInCategoryNames = Object.keys(skillsData).filter((skillName)=>skillsData[skillName].type === category.id);\n            if (skillsInCategoryNames.length > 0) {\n                skillsInCategoryNames.forEach((skillName)=>{\n                    const skillDetails = skillsData[skillName];\n                    let playerSkill = playerSkills.find((s)=>s.name === skillName);\n                    if (!playerSkill) {\n                        // Create a mock skill object for locked skills or skills the player hasn't acquired yet\n                        playerSkill = {\n                            name: skillName,\n                            level: 0,\n                            locked: skillDetails.locked,\n                            xp: 0,\n                            xpToNext: 100,\n                            getProgress: ()=>0\n                        };\n                    }\n                    html += this.createSkillHtml(skillName, skillDetails, playerSkill);\n                });\n            }\n            html += `</div></div>`;\n        });\n        skillsContent.innerHTML = html;\n    }\n    createSkillCategoryHtml(category) {\n        return `\n            <div class=\"skill-category\">\n                <div class=\"skill-category-header\" onclick=\"uiManager.toggleSkillCategory(this)\">\n                    <span class=\"skill-category-toggle\">‚ñ∂</span>\n                    <span class=\"skill-category-name\">${category.name.toUpperCase()}</span>\n                </div>\n                <div class=\"skill-items-container\">\n        `;\n    }\n    createSkillHtml(skillName, skillDetails, playerSkill) {\n        const isLocked = playerSkill.locked || skillDetails.locked;\n        if (isLocked) {\n            return `\n                <div class=\"skill-item locked\">\n                    <div class=\"skill-info\">\n                        <span class=\"skill-icon\">${skillDetails.icon}</span>\n                        <span class=\"skill-name\">${skillName}</span>\n                    </div>\n                    <span class=\"skill-lock-icon\">üîí</span>\n                </div>\n            `;\n        }\n        const progress = playerSkill.getProgress ? playerSkill.getProgress() : 0;\n        return `\n            <div class=\"skill-item\">\n                <div class=\"skill-info\">\n                    <span class=\"skill-icon\">${skillDetails.icon}</span>\n                    <span class=\"skill-name\">${skillName}</span>\n                    <span class=\"skill-level-info\">(${playerSkill.level} / 120)</span>\n                </div>\n                <div class=\"skill-progress-container\">\n                    <div class=\"skill-progress-bar\">\n                        <div class=\"skill-progress-fill\" style=\"width: ${progress}%\"></div>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n    toggleSkillCategory(headerElement) {\n        const category = headerElement.closest('.skill-category');\n        category.classList.toggle('collapsed');\n    }\n    updateActionsDisplay(actionManager, skillManager, inventoryManager, gameConfig) {\n        const actionsContent = document.getElementById('actions-content');\n        if (!actionsContent) return;\n        const availableActions = actionManager.getAvailableActions();\n        let html = '';\n        for (const action of availableActions){\n            html += this.createActionHtml(action, actionManager, skillManager, inventoryManager, gameConfig);\n        }\n        actionsContent.innerHTML = html;\n    }\n    createActionHtml(action, actionManager, skillManager, inventoryManager, gameConfig) {\n        const cssClasses = gameConfig?.ui?.cssClasses || {};\n        const isNewlyUnlocked = actionManager.isNewlyUnlocked(action.name);\n        const newUnlockClass = isNewlyUnlocked ? ` ${cssClasses.newUnlock || 'new-unlock'}` : '';\n        const skill = skillManager.getSkill(action.skillType);\n        const canPerform = skill && action.canPerform(skill.level, inventoryManager);\n        const disabledAttr = canPerform ? '' : 'disabled';\n        const lockedClass = canPerform ? '' : ' locked';\n        // Check availability and cooldown\n        let availabilityInfo = '';\n        let cooldownInfo = '';\n        let missingRequirements = '';\n        if (action.availabilityInfo) {\n            const availability = action.availabilityInfo;\n            // Show cooldown if action has one\n            if (action.availability && action.availability.cooldown) {\n                const remainingCooldown = actionManager.availabilityEngine.getRemainingCooldown(action.name, action.availability.cooldown);\n                if (remainingCooldown > 0) {\n                    const cooldownMinutes = Math.ceil(remainingCooldown / 60000);\n                    cooldownInfo = `<div class=\"cooldown-timer\">‚è∞ ${cooldownMinutes}m cooldown</div>`;\n                }\n            }\n            // Show missing requirements if action is not available\n            if (!availability.available && availability.missingRequirements.length > 0) {\n                missingRequirements = `<div class=\"missing-requirements\">‚ùå ${availability.missingRequirements.join(', ')}</div>`;\n            }\n        }\n        let timeDisplay = '';\n        if (action.timeRequired > 0) {\n            timeDisplay = `<div class=\"${cssClasses.actionTime || 'action-time'}\">‚è±Ô∏è ${action.getTimeDisplay()}</div>`;\n        }\n        let variableInput = '';\n        if (action.hasVariables()) {\n            variableInput = `\n                <div class=\"${cssClasses.actionVariable || 'action-variable'}\">\n                    <input type=\"number\" min=\"1\" value=\"1\" id=\"var-${action.name}\" \n                           placeholder=\"Amount\" style=\"width: 60px; margin-right: 5px;\">\n                </div>\n            `;\n        }\n        // Build tooltip with availability information\n        let tooltip = action.tooltip || action.description;\n        if (action.availabilityInfo && !action.availabilityInfo.available) {\n            tooltip += `\\n\\nNot available: ${action.availabilityInfo.reasons.join(', ')}`;\n        }\n        return `\n            <button class=\"${cssClasses.actionButton || 'action-button'}${newUnlockClass}${lockedClass}\" \n                    onclick=\"handleAction('${action.name}')\" \n                    title=\"${tooltip}\" ${disabledAttr}>\n                <div class=\"${cssClasses.actionIcon || 'action-icon'}\">${action.icon}</div>\n                <div class=\"${cssClasses.actionTitle || 'action-title'}\">${action.displayName}</div>\n                <div class=\"${cssClasses.actionDescription || 'action-description'}\">${action.description}</div>\n                ${timeDisplay}\n                ${cooldownInfo}\n                ${missingRequirements}\n                ${variableInput}\n            </button>\n        `;\n    }\n    updateInventoryDisplay(inventoryManager, gameConfig) {\n        const inventoryContent = document.getElementById('inventory-content');\n        if (!inventoryContent) return;\n        const items = inventoryManager.getAllItems();\n        let html = '';\n        if (items.length === 0) {\n            html += '<p class=\"text-muted\">Your inventory is empty.</p>';\n        } else {\n            for (const item of items){\n                html += this.createInventoryItemHtml(item, gameConfig);\n            }\n        }\n        inventoryContent.innerHTML = html;\n    }\n    createInventoryItemHtml(inventoryItem, gameConfig) {\n        const gameObject = inventoryItem.gameObject;\n        const itemJson = JSON.stringify(inventoryItem).replace(/\"/g, '&quot;');\n        return `\n            <div class=\"inventory-item\" \n                 onclick=\"uiManager.showItemContextMenu(event, '${gameObject.id}', ${itemJson})\">\n                <div class=\"item-icon\">${gameObject.icon}</div>\n                <div class=\"item-info\">\n                    <span class=\"item-name\">${gameObject.displayName}</span>\n                    <span class=\"item-quantity\">x${inventoryItem.quantity}</span>\n                </div>\n            </div>\n        `;\n    }\n    updateCharacterDisplay(traitManager, gameConfig) {\n        const characterContent = document.getElementById('character-content');\n        if (!characterContent) return;\n        const traits = traitManager.getAllTraits();\n        let html = '<h3>Character</h3>';\n        if (traits.length === 0) {\n            html += '<p>No traits available.</p>';\n        } else {\n            html += '<div class=\"traits-grid\">';\n            for (const trait of traits){\n                html += this.createTraitHtml(trait, gameConfig);\n            }\n            html += '</div>';\n        }\n        characterContent.innerHTML = html;\n    }\n    createTraitHtml(trait, gameConfig) {\n        const cssClasses = gameConfig?.ui?.cssClasses || {};\n        const progress = trait.getProgress();\n        return `\n            <div class=\"trait-item\">\n                <div class=\"trait-header\">\n                    <span class=\"trait-icon\">${trait.icon}</span>\n                    <span class=\"trait-name\">${trait.name}</span>\n                    <span class=\"trait-level\">Level ${trait.level}</span>\n                </div>\n                <div class=\"trait-description\">${trait.description}</div>\n                <div class=\"${cssClasses.skillProgressContainer || 'skill-progress-container'}\">\n                    <div class=\"${cssClasses.skillProgressBar || 'skill-progress-bar'}\">\n                        <div class=\"${cssClasses.skillProgressFill || 'skill-progress-fill'}\" \n                             style=\"width: ${progress}%\"></div>\n                    </div>\n                    <span class=\"${cssClasses.skillXp || 'skill-xp'}\">${trait.xp}/${trait.xpToNext} XP</span>\n                </div>\n            </div>\n        `;\n    }\n    updateAchievementsDisplay(achievementSystem, gameConfig) {\n        const achievementsContent = document.getElementById('achievements-content');\n        if (!achievementsContent) return;\n        const achievementsData = achievementSystem.getAllAchievements();\n        const unlockedAchievements = achievementSystem.getUnlockedAchievements();\n        const achievementProgress = achievementSystem.getAchievementProgress();\n        // Group by category\n        const categories = {};\n        for (const [id, achievement] of Object.entries(achievementsData)){\n            const category = achievement.category || 'General';\n            if (!categories[category]) categories[category] = [];\n            categories[category].push({\n                ...achievement,\n                id\n            });\n        }\n        // Sort by points descending\n        for(const cat in categories){\n            categories[cat].sort((a, b)=>(b.points || 0) - (a.points || 0));\n        }\n        let html = '';\n        Object.entries(categories).forEach(([category, achievements])=>{\n            html += `\n                <div class=\"skill-category\">\n                    <div class=\"skill-category-header\" onclick=\"uiManager.toggleSkillCategory(this)\">\n                        <span class=\"skill-category-toggle\">‚ñ∂</span>\n                        <span class=\"skill-category-name\">${category.toUpperCase()}</span>\n                    </div>\n                    <div class=\"skill-items-container\">\n            `;\n            achievements.forEach((achievement)=>{\n                const isUnlocked = unlockedAchievements.has(achievement.id);\n                const progress = achievementProgress[achievement.id] || null;\n                html += `\n                    <div class=\"skill-item${isUnlocked ? '' : ' locked'}\">\n                        <div class=\"skill-info\">\n                            <span class=\"skill-icon\">${achievement.icon || 'üèÜ'}</span>\n                            <span class=\"skill-name\">${isUnlocked || !achievement.secret ? achievement.name : '???'}</span>\n                            ${isUnlocked ? '<span class=\"skill-level-info\">Unlocked</span>' : '<span class=\"skill-lock-icon\">üîí</span>'}\n                        </div>\n                        <div class=\"skill-progress-container\">\n                            <div class=\"skill-progress-bar\">\n                                <div class=\"skill-progress-fill\" style=\"width: ${progress && progress.required > 1 ? Math.min(progress.current / progress.required * 100, 100) : 0}%\"></div>\n                            </div>\n                            ${progress && progress.required > 1 ? `<span class=\"skill-xp\">${progress.current}/${progress.required}</span>` : ''}\n                        </div>\n                        <div class=\"skill-description\" style=\"color:#aaa;font-size:12px;margin-top:2px;\">\n                            ${isUnlocked || !achievement.secret ? achievement.description : 'Unlock this secret achievement to reveal its details.'}\n                        </div>\n                        <div class=\"skill-level-info\" style=\"font-size:11px;color:#888;\">${achievement.points || 0} pts</div>\n                    </div>\n                `;\n            });\n            html += `</div></div>`;\n        });\n        achievementsContent.innerHTML = html;\n    }\n    switchTab(tabName) {\n        this.currentTab = tabName;\n        // Hide all tab panels\n        const tabPanels = document.querySelectorAll('.tab-panel');\n        tabPanels.forEach((panel)=>panel.classList.remove('active'));\n        // Remove active class from all tab buttons\n        const tabButtons = document.querySelectorAll('.tab-button');\n        tabButtons.forEach((button)=>button.classList.remove('active'));\n        // Show selected tab panel\n        const selectedPanel = document.getElementById(`${tabName}-tab`);\n        if (selectedPanel) {\n            selectedPanel.classList.add('active');\n        }\n        // Add active class to selected tab button\n        const selectedButton = document.querySelector(`[data-tab=\"${tabName}\"]`);\n        if (selectedButton) {\n            selectedButton.classList.add('active');\n        }\n        // After switching tab, we might need to update its content\n        switch(tabName){\n            case 'skills':\n                break;\n            case 'inventory':\n                break;\n            case 'character':\n                break;\n            case 'achievements':\n                this.updateAchievementsDisplay(window.achievementSystem, window.configManager.getGameConfig());\n                break;\n        }\n    }\n    generateTabsFromConfig(gameConfig) {\n        const sidebar = document.querySelector('.sidebar');\n        if (!sidebar) return;\n        const tabs = gameConfig?.ui?.tabs || [];\n        const cssClasses = gameConfig?.ui?.cssClasses || {};\n        const elementIds = gameConfig?.ui?.elementIds || {};\n        let tabsHtml = '<div class=\"tab-buttons\">';\n        let panelsHtml = '<div class=\"tab-panels\">';\n        tabs.forEach((tab, index)=>{\n            const isActive = index === 0 ? 'active' : '';\n            const tabId = elementIds[`${tab.id}Tab`] || `${tab.id}-tab`;\n            tabsHtml += `\n                <button class=\"${cssClasses.tabButton || 'tab-button'} ${isActive}\" \n                        data-tab=\"${tab.id}\" \n                        onclick=\"uiManager.switchTab('${tab.id}')\">\n                    <span class=\"tab-icon\">${tab.icon}</span>\n                    <span class=\"tab-name\">${tab.displayName}</span>\n                </button>\n            `;\n            panelsHtml += `\n                <div id=\"${tabId}\" class=\"${cssClasses.tabPanel || 'tab-panel'} ${isActive}\">\n                    <div class=\"tab-content\" id=\"${tab.id}-content\">\n                        <h3>${tab.displayName}</h3>\n                        <p>Loading ${tab.displayName.toLowerCase()}...</p>\n                    </div>\n                </div>\n            `;\n        });\n        tabsHtml += '</div>';\n        panelsHtml += '</div>';\n        sidebar.innerHTML = tabsHtml + panelsHtml;\n    }\n    addNarrationMessage(message) {\n        const narrationContent = document.getElementById('narration-content');\n        if (!narrationContent) return;\n        const messageElement = document.createElement('div');\n        messageElement.className = 'narration-message';\n        messageElement.textContent = message;\n        narrationContent.appendChild(messageElement);\n        narrationContent.scrollTop = narrationContent.scrollHeight;\n    }\n    showToast(message, type = 'info', duration = 3000) {\n        const toast = document.createElement('div');\n        toast.className = `toast toast-${type}`;\n        toast.textContent = message;\n        this.toastContainer.appendChild(toast);\n        setTimeout(()=>{\n            toast.classList.add('show');\n        }, 100);\n        setTimeout(()=>{\n            toast.classList.remove('show');\n            setTimeout(()=>{\n                if (toast.parentNode) {\n                    toast.parentNode.removeChild(toast);\n                }\n            }, 300);\n        }, duration);\n    }\n    flashXpGain(skillName, xpAmount) {\n        const skillElement = document.querySelector(`[data-skill=\"${skillName}\"]`);\n        if (skillElement) {\n            skillElement.classList.add('xp-gain');\n            setTimeout(()=>{\n                skillElement.classList.remove('xp-gain');\n            }, 1000);\n        }\n    }\n    updateLastSavedTime() {\n        const now = new Date();\n        const timeString = now.toLocaleTimeString();\n        console.log(`Game state saved at ${timeString}`);\n        // Update the display in the UI\n        const lastSavedElement = document.getElementById('last-saved-time');\n        if (lastSavedElement) {\n            lastSavedElement.textContent = `Last saved: ${timeString}`;\n        }\n    }\n    manualSave(skillManager, inventoryManager, traitManager) {\n        try {\n            const success = gameStateManager.saveGameState(skillManager, inventoryManager, traitManager);\n            if (success) {\n                this.showToast('Game saved successfully', 'success');\n                this.updateLastSavedTime();\n            } else {\n                this.showToast('Failed to save game', 'error');\n            }\n        } catch (error) {\n            console.error('Manual save failed:', error);\n            this.showToast('Failed to save game', 'error');\n        }\n    }\n    showItemContextMenu(event, itemId, inventoryItem) {\n        event.preventDefault();\n        this.removeContextMenu();\n        const menu = document.createElement('div');\n        menu.className = 'context-menu';\n        menu.innerHTML = `\n            <div class=\"context-menu-item\" onclick=\"handleItemAction('examine', '${itemId}')\">Examine</div>\n            <div class=\"context-menu-item\" onclick=\"handleItemAction('use', '${itemId}')\">Use</div>\n            <div class=\"context-menu-item\" onclick=\"handleItemAction('drop', '${itemId}')\">Drop</div>\n        `;\n        menu.style.left = event.pageX + 'px';\n        menu.style.top = event.pageY + 'px';\n        document.body.appendChild(menu);\n        document.addEventListener('click', this.removeContextMenu);\n    }\n    removeContextMenu() {\n        const existingMenu = document.querySelector('.context-menu');\n        if (existingMenu) {\n            existingMenu.remove();\n        }\n        document.removeEventListener('click', this.removeContextMenu);\n    }\n}\nif (false) {}\n// ES Module exports\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2dhbWUtZW5naW5lL3VpL1VJTWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUE7SUFDRkMsYUFBYztRQUNWLElBQUksQ0FBQ0MsVUFBVSxHQUFHO1FBQ2xCLElBQUksQ0FBQ0MsY0FBYyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0Msd0JBQXdCO0lBQ2pDO0lBRUFBLDJCQUEyQjtRQUN2QixJQUFJLENBQUNELGNBQWMsR0FBR0UsU0FBU0MsY0FBYyxDQUFDO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUNILGNBQWMsRUFBRTtZQUN0QixJQUFJLENBQUNBLGNBQWMsR0FBR0UsU0FBU0UsYUFBYSxDQUFDO1lBQzdDLElBQUksQ0FBQ0osY0FBYyxDQUFDSyxFQUFFLEdBQUc7WUFDekIsSUFBSSxDQUFDTCxjQUFjLENBQUNNLFNBQVMsR0FBRztZQUNoQ0osU0FBU0ssSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDUixjQUFjO1FBQ2pEO0lBQ0o7SUFFQVMsb0JBQW9CQyxZQUFZLEVBQUVDLFlBQVksRUFBRTtRQUM1QyxNQUFNQyxnQkFBZ0JWLFNBQVNDLGNBQWMsQ0FBQztRQUM5QyxJQUFJLENBQUNTLGVBQWU7UUFFcEIsTUFBTSxFQUFFQyxnQkFBZ0IsRUFBRUMsUUFBUUMsVUFBVSxFQUFFLEdBQUdKO1FBQ2pELE1BQU1LLGVBQWVOLGFBQWFPLFlBQVk7UUFDOUMsSUFBSUMsT0FBTztRQUVYTCxpQkFBaUJNLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDckJGLFFBQVEsSUFBSSxDQUFDRyx1QkFBdUIsQ0FBQ0Q7WUFFckMsTUFBTUUsd0JBQXdCQyxPQUFPQyxJQUFJLENBQUNULFlBQVlVLE1BQU0sQ0FBQ0MsQ0FBQUEsWUFBYVgsVUFBVSxDQUFDVyxVQUFVLENBQUNDLElBQUksS0FBS1AsU0FBU2YsRUFBRTtZQUVwSCxJQUFJaUIsc0JBQXNCTSxNQUFNLEdBQUcsR0FBRztnQkFDbENOLHNCQUFzQkgsT0FBTyxDQUFDTyxDQUFBQTtv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QUVoRSxvQkFBb0I7QUFDQyIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFx1aVxcVUlNYW5hZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFVJTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSAnc2tpbGxzJztcclxuICAgICAgICB0aGlzLnRvYXN0Q29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVUb2FzdENvbnRhaW5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxpemVUb2FzdENvbnRhaW5lcigpIHtcclxuICAgICAgICB0aGlzLnRvYXN0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0LWNvbnRhaW5lcicpO1xyXG4gICAgICAgIGlmICghdGhpcy50b2FzdENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLnRvYXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHRoaXMudG9hc3RDb250YWluZXIuaWQgPSAndG9hc3QtY29udGFpbmVyJztcclxuICAgICAgICAgICAgdGhpcy50b2FzdENvbnRhaW5lci5jbGFzc05hbWUgPSAndG9hc3QtY29udGFpbmVyJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRvYXN0Q29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2tpbGxzRGlzcGxheShza2lsbE1hbmFnZXIsIHNraWxsc0NvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IHNraWxsc0NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2tpbGxzLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoIXNraWxsc0NvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgeyBza2lsbF9jYXRlZ29yaWVzLCBza2lsbHM6IHNraWxsc0RhdGEgfSA9IHNraWxsc0NvbmZpZztcclxuICAgICAgICBjb25zdCBwbGF5ZXJTa2lsbHMgPSBza2lsbE1hbmFnZXIuZ2V0QWxsU2tpbGxzKCk7XHJcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcclxuXHJcbiAgICAgICAgc2tpbGxfY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcclxuICAgICAgICAgICAgaHRtbCArPSB0aGlzLmNyZWF0ZVNraWxsQ2F0ZWdvcnlIdG1sKGNhdGVnb3J5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNraWxsc0luQ2F0ZWdvcnlOYW1lcyA9IE9iamVjdC5rZXlzKHNraWxsc0RhdGEpLmZpbHRlcihza2lsbE5hbWUgPT4gc2tpbGxzRGF0YVtza2lsbE5hbWVdLnR5cGUgPT09IGNhdGVnb3J5LmlkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChza2lsbHNJbkNhdGVnb3J5TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2tpbGxzSW5DYXRlZ29yeU5hbWVzLmZvckVhY2goc2tpbGxOYW1lID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBza2lsbERldGFpbHMgPSBza2lsbHNEYXRhW3NraWxsTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYXllclNraWxsID0gcGxheWVyU2tpbGxzLmZpbmQocyA9PiBzLm5hbWUgPT09IHNraWxsTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGxheWVyU2tpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbW9jayBza2lsbCBvYmplY3QgZm9yIGxvY2tlZCBza2lsbHMgb3Igc2tpbGxzIHRoZSBwbGF5ZXIgaGFzbid0IGFjcXVpcmVkIHlldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJTa2lsbCA9IHsgbmFtZTogc2tpbGxOYW1lLCBsZXZlbDogMCwgbG9ja2VkOiBza2lsbERldGFpbHMubG9ja2VkLCB4cDogMCwgeHBUb05leHQ6IDEwMCwgZ2V0UHJvZ3Jlc3M6ICgpID0+IDAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLmNyZWF0ZVNraWxsSHRtbChza2lsbE5hbWUsIHNraWxsRGV0YWlscywgcGxheWVyU2tpbGwpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHRtbCArPSBgPC9kaXY+PC9kaXY+YDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2tpbGxzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNraWxsQ2F0ZWdvcnlIdG1sKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWNhdGVnb3J5XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtY2F0ZWdvcnktaGVhZGVyXCIgb25jbGljaz1cInVpTWFuYWdlci50b2dnbGVTa2lsbENhdGVnb3J5KHRoaXMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1jYXRlZ29yeS10b2dnbGVcIj7ilrY8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1jYXRlZ29yeS1uYW1lXCI+JHtjYXRlZ29yeS5uYW1lLnRvVXBwZXJDYXNlKCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaXRlbXMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVTa2lsbEh0bWwoc2tpbGxOYW1lLCBza2lsbERldGFpbHMsIHBsYXllclNraWxsKSB7XHJcbiAgICAgICAgY29uc3QgaXNMb2NrZWQgPSBwbGF5ZXJTa2lsbC5sb2NrZWQgfHwgc2tpbGxEZXRhaWxzLmxvY2tlZDtcclxuXHJcbiAgICAgICAgaWYgKGlzTG9ja2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaXRlbSBsb2NrZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWljb25cIj4ke3NraWxsRGV0YWlscy5pY29ufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1uYW1lXCI+JHtza2lsbE5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtbG9jay1pY29uXCI+8J+Ukjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBwbGF5ZXJTa2lsbC5nZXRQcm9ncmVzcyA/IHBsYXllclNraWxsLmdldFByb2dyZXNzKCkgOiAwO1xyXG5cclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWljb25cIj4ke3NraWxsRGV0YWlscy5pY29ufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLW5hbWVcIj4ke3NraWxsTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1sZXZlbC1pbmZvXCI+KCR7cGxheWVyU2tpbGwubGV2ZWx9IC8gMTIwKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLXByb2dyZXNzLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1wcm9ncmVzcy1iYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLXByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAke3Byb2dyZXNzfSVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNraWxsQ2F0ZWdvcnkoaGVhZGVyRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gaGVhZGVyRWxlbWVudC5jbG9zZXN0KCcuc2tpbGwtY2F0ZWdvcnknKTtcclxuICAgICAgICBjYXRlZ29yeS5jbGFzc0xpc3QudG9nZ2xlKCdjb2xsYXBzZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBY3Rpb25zRGlzcGxheShhY3Rpb25NYW5hZ2VyLCBza2lsbE1hbmFnZXIsIGludmVudG9yeU1hbmFnZXIsIGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBhY3Rpb25zQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3Rpb25zLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoIWFjdGlvbnNDb250ZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBhY3Rpb25NYW5hZ2VyLmdldEF2YWlsYWJsZUFjdGlvbnMoKTtcclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhdmFpbGFibGVBY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5jcmVhdGVBY3Rpb25IdG1sKGFjdGlvbiwgYWN0aW9uTWFuYWdlciwgc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCBnYW1lQ29uZmlnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFjdGlvbnNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQWN0aW9uSHRtbChhY3Rpb24sIGFjdGlvbk1hbmFnZXIsIHNraWxsTWFuYWdlciwgaW52ZW50b3J5TWFuYWdlciwgZ2FtZUNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSBnYW1lQ29uZmlnPy51aT8uY3NzQ2xhc3NlcyB8fCB7fTtcclxuICAgICAgICBjb25zdCBpc05ld2x5VW5sb2NrZWQgPSBhY3Rpb25NYW5hZ2VyLmlzTmV3bHlVbmxvY2tlZChhY3Rpb24ubmFtZSk7XHJcbiAgICAgICAgY29uc3QgbmV3VW5sb2NrQ2xhc3MgPSBpc05ld2x5VW5sb2NrZWQgPyBgICR7Y3NzQ2xhc3Nlcy5uZXdVbmxvY2sgfHwgJ25ldy11bmxvY2snfWAgOiAnJztcclxuICAgICAgICBjb25zdCBza2lsbCA9IHNraWxsTWFuYWdlci5nZXRTa2lsbChhY3Rpb24uc2tpbGxUeXBlKTtcclxuICAgICAgICBjb25zdCBjYW5QZXJmb3JtID0gc2tpbGwgJiYgYWN0aW9uLmNhblBlcmZvcm0oc2tpbGwubGV2ZWwsIGludmVudG9yeU1hbmFnZXIpO1xyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkQXR0ciA9IGNhblBlcmZvcm0gPyAnJyA6ICdkaXNhYmxlZCc7XHJcbiAgICAgICAgY29uc3QgbG9ja2VkQ2xhc3MgPSBjYW5QZXJmb3JtID8gJycgOiAnIGxvY2tlZCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgYXZhaWxhYmlsaXR5IGFuZCBjb29sZG93blxyXG4gICAgICAgIGxldCBhdmFpbGFiaWxpdHlJbmZvID0gJyc7XHJcbiAgICAgICAgbGV0IGNvb2xkb3duSW5mbyA9ICcnO1xyXG4gICAgICAgIGxldCBtaXNzaW5nUmVxdWlyZW1lbnRzID0gJyc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFjdGlvbi5hdmFpbGFiaWxpdHlJbmZvKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJpbGl0eSA9IGFjdGlvbi5hdmFpbGFiaWxpdHlJbmZvO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2hvdyBjb29sZG93biBpZiBhY3Rpb24gaGFzIG9uZVxyXG4gICAgICAgICAgICBpZiAoYWN0aW9uLmF2YWlsYWJpbGl0eSAmJiBhY3Rpb24uYXZhaWxhYmlsaXR5LmNvb2xkb3duKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdDb29sZG93biA9IGFjdGlvbk1hbmFnZXIuYXZhaWxhYmlsaXR5RW5naW5lLmdldFJlbWFpbmluZ0Nvb2xkb3duKGFjdGlvbi5uYW1lLCBhY3Rpb24uYXZhaWxhYmlsaXR5LmNvb2xkb3duKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmdDb29sZG93biA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29sZG93bk1pbnV0ZXMgPSBNYXRoLmNlaWwocmVtYWluaW5nQ29vbGRvd24gLyA2MDAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29vbGRvd25JbmZvID0gYDxkaXYgY2xhc3M9XCJjb29sZG93bi10aW1lclwiPuKPsCAke2Nvb2xkb3duTWludXRlc31tIGNvb2xkb3duPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2hvdyBtaXNzaW5nIHJlcXVpcmVtZW50cyBpZiBhY3Rpb24gaXMgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBpZiAoIWF2YWlsYWJpbGl0eS5hdmFpbGFibGUgJiYgYXZhaWxhYmlsaXR5Lm1pc3NpbmdSZXF1aXJlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbWlzc2luZ1JlcXVpcmVtZW50cyA9IGA8ZGl2IGNsYXNzPVwibWlzc2luZy1yZXF1aXJlbWVudHNcIj7inYwgJHthdmFpbGFiaWxpdHkubWlzc2luZ1JlcXVpcmVtZW50cy5qb2luKCcsICcpfTwvZGl2PmA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHRpbWVEaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgaWYgKGFjdGlvbi50aW1lUmVxdWlyZWQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRpbWVEaXNwbGF5ID0gYDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuYWN0aW9uVGltZSB8fCAnYWN0aW9uLXRpbWUnfVwiPuKPse+4jyAke2FjdGlvbi5nZXRUaW1lRGlzcGxheSgpfTwvZGl2PmA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdmFyaWFibGVJbnB1dCA9ICcnO1xyXG4gICAgICAgIGlmIChhY3Rpb24uaGFzVmFyaWFibGVzKCkpIHtcclxuICAgICAgICAgICAgdmFyaWFibGVJbnB1dCA9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuYWN0aW9uVmFyaWFibGUgfHwgJ2FjdGlvbi12YXJpYWJsZSd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgdmFsdWU9XCIxXCIgaWQ9XCJ2YXItJHthY3Rpb24ubmFtZX1cIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnRcIiBzdHlsZT1cIndpZHRoOiA2MHB4OyBtYXJnaW4tcmlnaHQ6IDVweDtcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQnVpbGQgdG9vbHRpcCB3aXRoIGF2YWlsYWJpbGl0eSBpbmZvcm1hdGlvblxyXG4gICAgICAgIGxldCB0b29sdGlwID0gYWN0aW9uLnRvb2x0aXAgfHwgYWN0aW9uLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgIGlmIChhY3Rpb24uYXZhaWxhYmlsaXR5SW5mbyAmJiAhYWN0aW9uLmF2YWlsYWJpbGl0eUluZm8uYXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAgKz0gYFxcblxcbk5vdCBhdmFpbGFibGU6ICR7YWN0aW9uLmF2YWlsYWJpbGl0eUluZm8ucmVhc29ucy5qb2luKCcsICcpfWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiJHtjc3NDbGFzc2VzLmFjdGlvbkJ1dHRvbiB8fCAnYWN0aW9uLWJ1dHRvbid9JHtuZXdVbmxvY2tDbGFzc30ke2xvY2tlZENsYXNzfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJoYW5kbGVBY3Rpb24oJyR7YWN0aW9uLm5hbWV9JylcIiBcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIiR7dG9vbHRpcH1cIiAke2Rpc2FibGVkQXR0cn0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtjc3NDbGFzc2VzLmFjdGlvbkljb24gfHwgJ2FjdGlvbi1pY29uJ31cIj4ke2FjdGlvbi5pY29ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5hY3Rpb25UaXRsZSB8fCAnYWN0aW9uLXRpdGxlJ31cIj4ke2FjdGlvbi5kaXNwbGF5TmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuYWN0aW9uRGVzY3JpcHRpb24gfHwgJ2FjdGlvbi1kZXNjcmlwdGlvbid9XCI+JHthY3Rpb24uZGVzY3JpcHRpb259PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAke3RpbWVEaXNwbGF5fVxyXG4gICAgICAgICAgICAgICAgJHtjb29sZG93bkluZm99XHJcbiAgICAgICAgICAgICAgICAke21pc3NpbmdSZXF1aXJlbWVudHN9XHJcbiAgICAgICAgICAgICAgICAke3ZhcmlhYmxlSW5wdXR9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSW52ZW50b3J5RGlzcGxheShpbnZlbnRvcnlNYW5hZ2VyLCBnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnZlbnRvcnktY29udGVudCcpO1xyXG4gICAgICAgIGlmICghaW52ZW50b3J5Q29udGVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtcyA9IGludmVudG9yeU1hbmFnZXIuZ2V0QWxsSXRlbXMoKTtcclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxwIGNsYXNzPVwidGV4dC1tdXRlZFwiPllvdXIgaW52ZW50b3J5IGlzIGVtcHR5LjwvcD4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLmNyZWF0ZUludmVudG9yeUl0ZW1IdG1sKGl0ZW0sIGdhbWVDb25maWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnZlbnRvcnlDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSW52ZW50b3J5SXRlbUh0bWwoaW52ZW50b3J5SXRlbSwgZ2FtZUNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGdhbWVPYmplY3QgPSBpbnZlbnRvcnlJdGVtLmdhbWVPYmplY3Q7XHJcbiAgICAgICAgY29uc3QgaXRlbUpzb24gPSBKU09OLnN0cmluZ2lmeShpbnZlbnRvcnlJdGVtKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludmVudG9yeS1pdGVtXCIgXHJcbiAgICAgICAgICAgICAgICAgb25jbGljaz1cInVpTWFuYWdlci5zaG93SXRlbUNvbnRleHRNZW51KGV2ZW50LCAnJHtnYW1lT2JqZWN0LmlkfScsICR7aXRlbUpzb259KVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0taWNvblwiPiR7Z2FtZU9iamVjdC5pY29ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0taW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS1uYW1lXCI+JHtnYW1lT2JqZWN0LmRpc3BsYXlOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tcXVhbnRpdHlcIj54JHtpbnZlbnRvcnlJdGVtLnF1YW50aXR5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNoYXJhY3RlckRpc3BsYXkodHJhaXRNYW5hZ2VyLCBnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFyYWN0ZXItY29udGVudCcpO1xyXG4gICAgICAgIGlmICghY2hhcmFjdGVyQ29udGVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0cmFpdHMgPSB0cmFpdE1hbmFnZXIuZ2V0QWxsVHJhaXRzKCk7XHJcbiAgICAgICAgbGV0IGh0bWwgPSAnPGgzPkNoYXJhY3RlcjwvaDM+JztcclxuXHJcbiAgICAgICAgaWYgKHRyYWl0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPHA+Tm8gdHJhaXRzIGF2YWlsYWJsZS48L3A+JztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwidHJhaXRzLWdyaWRcIj4nO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWl0IG9mIHRyYWl0cykge1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLmNyZWF0ZVRyYWl0SHRtbCh0cmFpdCwgZ2FtZUNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNoYXJhY3RlckNvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUcmFpdEh0bWwodHJhaXQsIGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBjc3NDbGFzc2VzID0gZ2FtZUNvbmZpZz8udWk/LmNzc0NsYXNzZXMgfHwge307XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSB0cmFpdC5nZXRQcm9ncmVzcygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0cmFpdC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHJhaXQtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cmFpdC1pY29uXCI+JHt0cmFpdC5pY29ufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRyYWl0LW5hbWVcIj4ke3RyYWl0Lm5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHJhaXQtbGV2ZWxcIj5MZXZlbCAke3RyYWl0LmxldmVsfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRyYWl0LWRlc2NyaXB0aW9uXCI+JHt0cmFpdC5kZXNjcmlwdGlvbn08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuc2tpbGxQcm9ncmVzc0NvbnRhaW5lciB8fCAnc2tpbGwtcHJvZ3Jlc3MtY29udGFpbmVyJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtjc3NDbGFzc2VzLnNraWxsUHJvZ3Jlc3NCYXIgfHwgJ3NraWxsLXByb2dyZXNzLWJhcid9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuc2tpbGxQcm9ncmVzc0ZpbGwgfHwgJ3NraWxsLXByb2dyZXNzLWZpbGwnfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6ICR7cHJvZ3Jlc3N9JVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiJHtjc3NDbGFzc2VzLnNraWxsWHAgfHwgJ3NraWxsLXhwJ31cIj4ke3RyYWl0LnhwfS8ke3RyYWl0LnhwVG9OZXh0fSBYUDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFjaGlldmVtZW50c0Rpc3BsYXkoYWNoaWV2ZW1lbnRTeXN0ZW0sIGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBhY2hpZXZlbWVudHNDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjaGlldmVtZW50cy1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKCFhY2hpZXZlbWVudHNDb250ZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGFjaGlldmVtZW50c0RhdGEgPSBhY2hpZXZlbWVudFN5c3RlbS5nZXRBbGxBY2hpZXZlbWVudHMoKTtcclxuICAgICAgICBjb25zdCB1bmxvY2tlZEFjaGlldmVtZW50cyA9IGFjaGlldmVtZW50U3lzdGVtLmdldFVubG9ja2VkQWNoaWV2ZW1lbnRzKCk7XHJcbiAgICAgICAgY29uc3QgYWNoaWV2ZW1lbnRQcm9ncmVzcyA9IGFjaGlldmVtZW50U3lzdGVtLmdldEFjaGlldmVtZW50UHJvZ3Jlc3MoKTtcclxuXHJcbiAgICAgICAgLy8gR3JvdXAgYnkgY2F0ZWdvcnlcclxuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBbaWQsIGFjaGlldmVtZW50XSBvZiBPYmplY3QuZW50cmllcyhhY2hpZXZlbWVudHNEYXRhKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGFjaGlldmVtZW50LmNhdGVnb3J5IHx8ICdHZW5lcmFsJztcclxuICAgICAgICAgICAgaWYgKCFjYXRlZ29yaWVzW2NhdGVnb3J5XSkgY2F0ZWdvcmllc1tjYXRlZ29yeV0gPSBbXTtcclxuICAgICAgICAgICAgY2F0ZWdvcmllc1tjYXRlZ29yeV0ucHVzaCh7IC4uLmFjaGlldmVtZW50LCBpZCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU29ydCBieSBwb2ludHMgZGVzY2VuZGluZ1xyXG4gICAgICAgIGZvciAoY29uc3QgY2F0IGluIGNhdGVnb3JpZXMpIHtcclxuICAgICAgICAgICAgY2F0ZWdvcmllc1tjYXRdLnNvcnQoKGEsIGIpID0+IChiLnBvaW50cyB8fCAwKSAtIChhLnBvaW50cyB8fCAwKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNhdGVnb3JpZXMpLmZvckVhY2goKFtjYXRlZ29yeSwgYWNoaWV2ZW1lbnRzXSkgPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1jYXRlZ29yeVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1jYXRlZ29yeS1oZWFkZXJcIiBvbmNsaWNrPVwidWlNYW5hZ2VyLnRvZ2dsZVNraWxsQ2F0ZWdvcnkodGhpcylcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1jYXRlZ29yeS10b2dnbGVcIj7ilrY8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtY2F0ZWdvcnktbmFtZVwiPiR7Y2F0ZWdvcnkudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWl0ZW1zLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudHMuZm9yRWFjaChhY2hpZXZlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1VubG9ja2VkID0gdW5sb2NrZWRBY2hpZXZlbWVudHMuaGFzKGFjaGlldmVtZW50LmlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gYWNoaWV2ZW1lbnRQcm9ncmVzc1thY2hpZXZlbWVudC5pZF0gfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gYFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pdGVtJHtpc1VubG9ja2VkID8gJycgOiAnIGxvY2tlZCd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWljb25cIj4ke2FjaGlldmVtZW50Lmljb24gfHwgJ/Cfj4YnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtbmFtZVwiPiR7KGlzVW5sb2NrZWQgfHwgIWFjaGlldmVtZW50LnNlY3JldCkgPyBhY2hpZXZlbWVudC5uYW1lIDogJz8/Pyd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1VubG9ja2VkID8gJzxzcGFuIGNsYXNzPVwic2tpbGwtbGV2ZWwtaW5mb1wiPlVubG9ja2VkPC9zcGFuPicgOiAnPHNwYW4gY2xhc3M9XCJza2lsbC1sb2NrLWljb25cIj7wn5SSPC9zcGFuPid9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtcHJvZ3Jlc3MtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtcHJvZ3Jlc3MtYmFyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLXByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAke3Byb2dyZXNzICYmIHByb2dyZXNzLnJlcXVpcmVkID4gMSA/IE1hdGgubWluKChwcm9ncmVzcy5jdXJyZW50IC8gcHJvZ3Jlc3MucmVxdWlyZWQpICogMTAwLCAxMDApIDogMH0lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MucmVxdWlyZWQgPiAxID8gYDxzcGFuIGNsYXNzPVwic2tpbGwteHBcIj4ke3Byb2dyZXNzLmN1cnJlbnR9LyR7cHJvZ3Jlc3MucmVxdWlyZWR9PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1kZXNjcmlwdGlvblwiIHN0eWxlPVwiY29sb3I6I2FhYTtmb250LXNpemU6MTJweDttYXJnaW4tdG9wOjJweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7KGlzVW5sb2NrZWQgfHwgIWFjaGlldmVtZW50LnNlY3JldCkgPyBhY2hpZXZlbWVudC5kZXNjcmlwdGlvbiA6ICdVbmxvY2sgdGhpcyBzZWNyZXQgYWNoaWV2ZW1lbnQgdG8gcmV2ZWFsIGl0cyBkZXRhaWxzLid9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtbGV2ZWwtaW5mb1wiIHN0eWxlPVwiZm9udC1zaXplOjExcHg7Y29sb3I6Izg4ODtcIj4ke2FjaGlldmVtZW50LnBvaW50cyB8fCAwfSBwdHM8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBodG1sICs9IGA8L2Rpdj48L2Rpdj5gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFjaGlldmVtZW50c0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2hUYWIodGFiTmFtZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRhYiA9IHRhYk5hbWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGlkZSBhbGwgdGFiIHBhbmVsc1xyXG4gICAgICAgIGNvbnN0IHRhYlBhbmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItcGFuZWwnKTtcclxuICAgICAgICB0YWJQYW5lbHMuZm9yRWFjaChwYW5lbCA9PiBwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCB0YWIgYnV0dG9uc1xyXG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiLWJ1dHRvbicpO1xyXG4gICAgICAgIHRhYkJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTaG93IHNlbGVjdGVkIHRhYiBwYW5lbFxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0YWJOYW1lfS10YWJgKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRQYW5lbCkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFBhbmVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBZGQgYWN0aXZlIGNsYXNzIHRvIHNlbGVjdGVkIHRhYiBidXR0b25cclxuICAgICAgICBjb25zdCBzZWxlY3RlZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYj1cIiR7dGFiTmFtZX1cIl1gKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRCdXR0b24pIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZnRlciBzd2l0Y2hpbmcgdGFiLCB3ZSBtaWdodCBuZWVkIHRvIHVwZGF0ZSBpdHMgY29udGVudFxyXG4gICAgICAgIHN3aXRjaCh0YWJOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NraWxscyc6XHJcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWluZyBza2lsbE1hbmFnZXIgaXMgYXZhaWxhYmxlIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlU2tpbGxzRGlzcGxheShza2lsbE1hbmFnZXIsIGdhbWVDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ludmVudG9yeSc6XHJcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWluZyBpbnZlbnRvcnlNYW5hZ2VyIGlzIGF2YWlsYWJsZSBoZXJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnVwZGF0ZUludmVudG9yeURpc3BsYXkoaW52ZW50b3J5TWFuYWdlciwgZ2FtZUNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY2hhcmFjdGVyJzpcclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIHRyYWl0TWFuYWdlciBpcyBhdmFpbGFibGUgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVDaGFyYWN0ZXJEaXNwbGF5KHRyYWl0TWFuYWdlciwgZ2FtZUNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYWNoaWV2ZW1lbnRzJzpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQWNoaWV2ZW1lbnRzRGlzcGxheSh3aW5kb3cuYWNoaWV2ZW1lbnRTeXN0ZW0sIHdpbmRvdy5jb25maWdNYW5hZ2VyLmdldEdhbWVDb25maWcoKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVUYWJzRnJvbUNvbmZpZyhnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XHJcbiAgICAgICAgaWYgKCFzaWRlYmFyKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRhYnMgPSBnYW1lQ29uZmlnPy51aT8udGFicyB8fCBbXTtcclxuICAgICAgICBjb25zdCBjc3NDbGFzc2VzID0gZ2FtZUNvbmZpZz8udWk/LmNzc0NsYXNzZXMgfHwge307XHJcbiAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdhbWVDb25maWc/LnVpPy5lbGVtZW50SWRzIHx8IHt9O1xyXG5cclxuICAgICAgICBsZXQgdGFic0h0bWwgPSAnPGRpdiBjbGFzcz1cInRhYi1idXR0b25zXCI+JztcclxuICAgICAgICBsZXQgcGFuZWxzSHRtbCA9ICc8ZGl2IGNsYXNzPVwidGFiLXBhbmVsc1wiPic7XHJcblxyXG4gICAgICAgIHRhYnMuZm9yRWFjaCgodGFiLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGluZGV4ID09PSAwID8gJ2FjdGl2ZScgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgdGFiSWQgPSBlbGVtZW50SWRzW2Ake3RhYi5pZH1UYWJgXSB8fCBgJHt0YWIuaWR9LXRhYmA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0YWJzSHRtbCArPSBgXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiJHtjc3NDbGFzc2VzLnRhYkJ1dHRvbiB8fCAndGFiLWJ1dHRvbid9ICR7aXNBY3RpdmV9XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdGFiPVwiJHt0YWIuaWR9XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9XCJ1aU1hbmFnZXIuc3dpdGNoVGFiKCcke3RhYi5pZH0nKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGFiLWljb25cIj4ke3RhYi5pY29ufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRhYi1uYW1lXCI+JHt0YWIuZGlzcGxheU5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgICAgICBwYW5lbHNIdG1sICs9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCIke3RhYklkfVwiIGNsYXNzPVwiJHtjc3NDbGFzc2VzLnRhYlBhbmVsIHx8ICd0YWItcGFuZWwnfSAke2lzQWN0aXZlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiIGlkPVwiJHt0YWIuaWR9LWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPiR7dGFiLmRpc3BsYXlOYW1lfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPkxvYWRpbmcgJHt0YWIuZGlzcGxheU5hbWUudG9Mb3dlckNhc2UoKX0uLi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGFic0h0bWwgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgcGFuZWxzSHRtbCArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgc2lkZWJhci5pbm5lckhUTUwgPSB0YWJzSHRtbCArIHBhbmVsc0h0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTmFycmF0aW9uTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgbmFycmF0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXJyYXRpb24tY29udGVudCcpO1xyXG4gICAgICAgIGlmICghbmFycmF0aW9uQ29udGVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZSA9ICduYXJyYXRpb24tbWVzc2FnZSc7XHJcbiAgICAgICAgbWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG5hcnJhdGlvbkNvbnRlbnQuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpO1xyXG4gICAgICAgIG5hcnJhdGlvbkNvbnRlbnQuc2Nyb2xsVG9wID0gbmFycmF0aW9uQ29udGVudC5zY3JvbGxIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1RvYXN0KG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIGR1cmF0aW9uID0gMzAwMCkge1xyXG4gICAgICAgIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdG9hc3QuY2xhc3NOYW1lID0gYHRvYXN0IHRvYXN0LSR7dHlwZX1gO1xyXG4gICAgICAgIHRvYXN0LnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRvYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRvYXN0KTtcclxuICAgICAgICBcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdG9hc3QuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9hc3QucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodG9hc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgIH0sIGR1cmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmbGFzaFhwR2Fpbihza2lsbE5hbWUsIHhwQW1vdW50KSB7XHJcbiAgICAgICAgY29uc3Qgc2tpbGxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc2tpbGw9XCIke3NraWxsTmFtZX1cIl1gKTtcclxuICAgICAgICBpZiAoc2tpbGxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHNraWxsRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd4cC1nYWluJyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2tpbGxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3hwLWdhaW4nKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxhc3RTYXZlZFRpbWUoKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCB0aW1lU3RyaW5nID0gbm93LnRvTG9jYWxlVGltZVN0cmluZygpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBHYW1lIHN0YXRlIHNhdmVkIGF0ICR7dGltZVN0cmluZ31gKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGRpc3BsYXkgaW4gdGhlIFVJXHJcbiAgICAgICAgY29uc3QgbGFzdFNhdmVkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXN0LXNhdmVkLXRpbWUnKTtcclxuICAgICAgICBpZiAobGFzdFNhdmVkRWxlbWVudCkge1xyXG4gICAgICAgICAgICBsYXN0U2F2ZWRFbGVtZW50LnRleHRDb250ZW50ID0gYExhc3Qgc2F2ZWQ6ICR7dGltZVN0cmluZ31gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYW51YWxTYXZlKHNraWxsTWFuYWdlciwgaW52ZW50b3J5TWFuYWdlciwgdHJhaXRNYW5hZ2VyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGdhbWVTdGF0ZU1hbmFnZXIuc2F2ZUdhbWVTdGF0ZShza2lsbE1hbmFnZXIsIGludmVudG9yeU1hbmFnZXIsIHRyYWl0TWFuYWdlcik7XHJcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgnR2FtZSBzYXZlZCBzdWNjZXNzZnVsbHknLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMYXN0U2F2ZWRUaW1lKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgnRmFpbGVkIHRvIHNhdmUgZ2FtZScsICdlcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWFudWFsIHNhdmUgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93VG9hc3QoJ0ZhaWxlZCB0byBzYXZlIGdhbWUnLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0l0ZW1Db250ZXh0TWVudShldmVudCwgaXRlbUlkLCBpbnZlbnRvcnlJdGVtKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUNvbnRleHRNZW51KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtZW51LmNsYXNzTmFtZSA9ICdjb250ZXh0LW1lbnUnO1xyXG4gICAgICAgIG1lbnUuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIiBvbmNsaWNrPVwiaGFuZGxlSXRlbUFjdGlvbignZXhhbWluZScsICcke2l0ZW1JZH0nKVwiPkV4YW1pbmU8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCIgb25jbGljaz1cImhhbmRsZUl0ZW1BY3Rpb24oJ3VzZScsICcke2l0ZW1JZH0nKVwiPlVzZTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIiBvbmNsaWNrPVwiaGFuZGxlSXRlbUFjdGlvbignZHJvcCcsICcke2l0ZW1JZH0nKVwiPkRyb3A8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSBldmVudC5wYWdlWCArICdweCc7XHJcbiAgICAgICAgbWVudS5zdHlsZS50b3AgPSBldmVudC5wYWdlWSArICdweCc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZW51KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlbW92ZUNvbnRleHRNZW51KTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDb250ZXh0TWVudSgpIHtcclxuICAgICAgICBjb25zdCBleGlzdGluZ01lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGV4dC1tZW51Jyk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nTWVudSkge1xyXG4gICAgICAgICAgICBleGlzdGluZ01lbnUucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZW1vdmVDb250ZXh0TWVudSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LlVJTWFuYWdlciA9IFVJTWFuYWdlcjtcclxuXHJcbi8vIEVTIE1vZHVsZSBleHBvcnRzXHJcbmV4cG9ydCB7IFVJTWFuYWdlciB9OyAiXSwibmFtZXMiOlsiVUlNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJjdXJyZW50VGFiIiwidG9hc3RDb250YWluZXIiLCJpbml0aWFsaXplVG9hc3RDb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiY2xhc3NOYW1lIiwiYm9keSIsImFwcGVuZENoaWxkIiwidXBkYXRlU2tpbGxzRGlzcGxheSIsInNraWxsTWFuYWdlciIsInNraWxsc0NvbmZpZyIsInNraWxsc0NvbnRlbnQiLCJza2lsbF9jYXRlZ29yaWVzIiwic2tpbGxzIiwic2tpbGxzRGF0YSIsInBsYXllclNraWxscyIsImdldEFsbFNraWxscyIsImh0bWwiLCJmb3JFYWNoIiwiY2F0ZWdvcnkiLCJjcmVhdGVTa2lsbENhdGVnb3J5SHRtbCIsInNraWxsc0luQ2F0ZWdvcnlOYW1lcyIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJza2lsbE5hbWUiLCJ0eXBlIiwibGVuZ3RoIiwic2tpbGxEZXRhaWxzIiwicGxheWVyU2tpbGwiLCJmaW5kIiwicyIsIm5hbWUiLCJsZXZlbCIsImxvY2tlZCIsInhwIiwieHBUb05leHQiLCJnZXRQcm9ncmVzcyIsImNyZWF0ZVNraWxsSHRtbCIsImlubmVySFRNTCIsInRvVXBwZXJDYXNlIiwiaXNMb2NrZWQiLCJpY29uIiwicHJvZ3Jlc3MiLCJ0b2dnbGVTa2lsbENhdGVnb3J5IiwiaGVhZGVyRWxlbWVudCIsImNsb3Nlc3QiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ1cGRhdGVBY3Rpb25zRGlzcGxheSIsImFjdGlvbk1hbmFnZXIiLCJpbnZlbnRvcnlNYW5hZ2VyIiwiZ2FtZUNvbmZpZyIsImFjdGlvbnNDb250ZW50IiwiYXZhaWxhYmxlQWN0aW9ucyIsImdldEF2YWlsYWJsZUFjdGlvbnMiLCJhY3Rpb24iLCJjcmVhdGVBY3Rpb25IdG1sIiwiY3NzQ2xhc3NlcyIsInVpIiwiaXNOZXdseVVubG9ja2VkIiwibmV3VW5sb2NrQ2xhc3MiLCJuZXdVbmxvY2siLCJza2lsbCIsImdldFNraWxsIiwic2tpbGxUeXBlIiwiY2FuUGVyZm9ybSIsImRpc2FibGVkQXR0ciIsImxvY2tlZENsYXNzIiwiYXZhaWxhYmlsaXR5SW5mbyIsImNvb2xkb3duSW5mbyIsIm1pc3NpbmdSZXF1aXJlbWVudHMiLCJhdmFpbGFiaWxpdHkiLCJjb29sZG93biIsInJlbWFpbmluZ0Nvb2xkb3duIiwiYXZhaWxhYmlsaXR5RW5naW5lIiwiZ2V0UmVtYWluaW5nQ29vbGRvd24iLCJjb29sZG93bk1pbnV0ZXMiLCJNYXRoIiwiY2VpbCIsImF2YWlsYWJsZSIsImpvaW4iLCJ0aW1lRGlzcGxheSIsInRpbWVSZXF1aXJlZCIsImFjdGlvblRpbWUiLCJnZXRUaW1lRGlzcGxheSIsInZhcmlhYmxlSW5wdXQiLCJoYXNWYXJpYWJsZXMiLCJhY3Rpb25WYXJpYWJsZSIsInRvb2x0aXAiLCJkZXNjcmlwdGlvbiIsInJlYXNvbnMiLCJhY3Rpb25CdXR0b24iLCJhY3Rpb25JY29uIiwiYWN0aW9uVGl0bGUiLCJkaXNwbGF5TmFtZSIsImFjdGlvbkRlc2NyaXB0aW9uIiwidXBkYXRlSW52ZW50b3J5RGlzcGxheSIsImludmVudG9yeUNvbnRlbnQiLCJpdGVtcyIsImdldEFsbEl0ZW1zIiwiaXRlbSIsImNyZWF0ZUludmVudG9yeUl0ZW1IdG1sIiwiaW52ZW50b3J5SXRlbSIsImdhbWVPYmplY3QiLCJpdGVtSnNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXBsYWNlIiwicXVhbnRpdHkiLCJ1cGRhdGVDaGFyYWN0ZXJEaXNwbGF5IiwidHJhaXRNYW5hZ2VyIiwiY2hhcmFjdGVyQ29udGVudCIsInRyYWl0cyIsImdldEFsbFRyYWl0cyIsInRyYWl0IiwiY3JlYXRlVHJhaXRIdG1sIiwic2tpbGxQcm9ncmVzc0NvbnRhaW5lciIsInNraWxsUHJvZ3Jlc3NCYXIiLCJza2lsbFByb2dyZXNzRmlsbCIsInNraWxsWHAiLCJ1cGRhdGVBY2hpZXZlbWVudHNEaXNwbGF5IiwiYWNoaWV2ZW1lbnRTeXN0ZW0iLCJhY2hpZXZlbWVudHNDb250ZW50IiwiYWNoaWV2ZW1lbnRzRGF0YSIsImdldEFsbEFjaGlldmVtZW50cyIsInVubG9ja2VkQWNoaWV2ZW1lbnRzIiwiZ2V0VW5sb2NrZWRBY2hpZXZlbWVudHMiLCJhY2hpZXZlbWVudFByb2dyZXNzIiwiZ2V0QWNoaWV2ZW1lbnRQcm9ncmVzcyIsImNhdGVnb3JpZXMiLCJhY2hpZXZlbWVudCIsImVudHJpZXMiLCJwdXNoIiwiY2F0Iiwic29ydCIsImEiLCJiIiwicG9pbnRzIiwiYWNoaWV2ZW1lbnRzIiwiaXNVbmxvY2tlZCIsImhhcyIsInNlY3JldCIsInJlcXVpcmVkIiwibWluIiwiY3VycmVudCIsInN3aXRjaFRhYiIsInRhYk5hbWUiLCJ0YWJQYW5lbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFuZWwiLCJyZW1vdmUiLCJ0YWJCdXR0b25zIiwiYnV0dG9uIiwic2VsZWN0ZWRQYW5lbCIsImFkZCIsInNlbGVjdGVkQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsImNvbmZpZ01hbmFnZXIiLCJnZXRHYW1lQ29uZmlnIiwiZ2VuZXJhdGVUYWJzRnJvbUNvbmZpZyIsInNpZGViYXIiLCJ0YWJzIiwiZWxlbWVudElkcyIsInRhYnNIdG1sIiwicGFuZWxzSHRtbCIsInRhYiIsImluZGV4IiwiaXNBY3RpdmUiLCJ0YWJJZCIsInRhYkJ1dHRvbiIsInRhYlBhbmVsIiwidG9Mb3dlckNhc2UiLCJhZGROYXJyYXRpb25NZXNzYWdlIiwibWVzc2FnZSIsIm5hcnJhdGlvbkNvbnRlbnQiLCJtZXNzYWdlRWxlbWVudCIsInRleHRDb250ZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwic2hvd1RvYXN0IiwiZHVyYXRpb24iLCJ0b2FzdCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJmbGFzaFhwR2FpbiIsInhwQW1vdW50Iiwic2tpbGxFbGVtZW50IiwidXBkYXRlTGFzdFNhdmVkVGltZSIsIm5vdyIsIkRhdGUiLCJ0aW1lU3RyaW5nIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY29uc29sZSIsImxvZyIsImxhc3RTYXZlZEVsZW1lbnQiLCJtYW51YWxTYXZlIiwic3VjY2VzcyIsImdhbWVTdGF0ZU1hbmFnZXIiLCJzYXZlR2FtZVN0YXRlIiwiZXJyb3IiLCJzaG93SXRlbUNvbnRleHRNZW51IiwiZXZlbnQiLCJpdGVtSWQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUNvbnRleHRNZW51IiwibWVudSIsInN0eWxlIiwibGVmdCIsInBhZ2VYIiwidG9wIiwicGFnZVkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXhpc3RpbmdNZW51IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/game-engine/ui/UIManager.js\n");

/***/ })

};
;