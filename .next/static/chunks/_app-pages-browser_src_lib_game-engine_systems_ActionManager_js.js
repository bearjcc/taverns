"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_lib_game-engine_systems_ActionManager_js"],{

/***/ "(app-pages-browser)/./src/lib/game-engine/systems/ActionManager.js":
/*!******************************************************!*\
  !*** ./src/lib/game-engine/systems/ActionManager.js ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Action: () => (/* binding */ Action),\n/* harmony export */   ActionManager: () => (/* binding */ ActionManager)\n/* harmony export */ });\nclass ActionManager {\n    /**\r\n     * Set the configuration manager reference\r\n     * @param {ConfigManager} configManager - The configuration manager instance\r\n     */ setConfigManager(configManager) {\n        this.configManager = configManager;\n    }\n    /**\r\n     * Set the UI manager reference\r\n     * @param {UIManager} uiManager - The UI manager instance\r\n     */ setUIManager(uiManager) {\n        this.uiManager = uiManager;\n    }\n    /**\r\n     * Set the skill manager reference\r\n     * @param {SkillManager} skillManager - The skill manager instance\r\n     */ setSkillSystem(skillManager) {\n        this.skillManager = skillManager;\n    }\n    /**\r\n     * Set the inventory manager reference\r\n     * @param {InventoryManager} inventoryManager - The inventory manager instance\r\n     */ setInventorySystem(inventoryManager) {\n        this.inventoryManager = inventoryManager;\n    }\n    /**\r\n     * Set the location system reference\r\n     * @param {LocationSystem} locationSystem - The location system instance\r\n     */ setLocationSystem(locationSystem) {\n        this.locationSystem = locationSystem;\n    }\n    /**\r\n     * Set the quest system reference\r\n     * @param {QuestSystem} questSystem - The quest system instance\r\n     */ setQuestSystem(questSystem) {\n        this.questSystem = questSystem;\n    }\n    /**\r\n     * Set the NPC system reference\r\n     * @param {NPCSystem} npcSystem - The NPC system instance\r\n     */ setNPCSystem(npcSystem) {\n        this.npcSystem = npcSystem;\n    }\n    loadFromConfig(actionsConfig) {\n        try {\n            console.log('Loading actions...');\n            this.actions.clear();\n            if (actionsConfig) {\n                for (const [skillType, skillData] of Object.entries(actionsConfig)){\n                    if (skillData.actions) {\n                        for (const actionData of skillData.actions){\n                            const action = new Action(actionData.name, actionData.displayName, actionData.description, actionData.icon, actionData.tooltip, actionData.levelRequired, actionData.xpReward, actionData.timeRequired, actionData.timeUnit, actionData.itemReward, actionData.itemCount, actionData.itemConsumption, actionData.unlockMessage, actionData.flavorText, actionData.skillType, actionData.variables, actionData.availability || {});\n                            this.actions.set(actionData.name, action);\n                        }\n                    }\n                }\n            }\n            console.log(\"Loaded \".concat(this.actions.size, \" actions\"));\n        } catch (error) {\n            console.error('Error loading actions:', error);\n        }\n    }\n    getAction(actionName) {\n        return this.actions.get(actionName);\n    }\n    getAllActions() {\n        return Array.from(this.actions.values());\n    }\n    getAvailableActions() {\n        const availableActions = [];\n        for (const action of this.actions.values()){\n            const skill = this.skillManager ? this.skillManager.getSkill(action.skillType) : null;\n            if (!skill) continue;\n            // Check basic skill level requirement\n            if (skill.level < action.levelRequired) continue;\n            // Check dynamic availability using the availability engine\n            const context = this._buildActionContext();\n            const availability = this.availabilityEngine.checkActionAvailability(action, context);\n            if (availability.available) {\n                // Add availabilityInfo to the action instance without losing prototype methods\n                action.availabilityInfo = availability;\n                availableActions.push(action);\n            }\n        }\n        return availableActions;\n    }\n    /**\r\n     * Build context object for action availability checking\r\n     * @returns {Object} Context object with all necessary systems\r\n     */ _buildActionContext() {\n        return {\n            currentLocation: this.locationSystem ? this.locationSystem.getCurrentLocation() : null,\n            locationSystem: this.locationSystem,\n            inventoryManager: this.inventoryManager,\n            skillManager: this.skillManager,\n            questSystem: this.questSystem,\n            npcSystem: this.npcSystem,\n            configManager: this.configManager,\n            uiManager: this.uiManager\n        };\n    }\n    /**\r\n     * Execute an action\r\n     * @param {string} actionName - The name of the action to execute\r\n     * @param {*} variable - Optional variable parameter\r\n     * @returns {Object} Result of the action execution\r\n     */ executeAction(actionName) {\n        let variable = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        const action = this.getAction(actionName);\n        if (!action) {\n            return {\n                success: false,\n                message: 'Action not found'\n            };\n        }\n        const skill = this.skillManager ? this.skillManager.getSkill(action.skillType) : null;\n        if (!skill) {\n            return {\n                success: false,\n                message: 'Skill not found'\n            };\n        }\n        // Check dynamic availability before execution\n        const context = this._buildActionContext();\n        const availability = this.availabilityEngine.checkActionAvailability(action, context);\n        if (!availability.available) {\n            const reason = availability.reasons.length > 0 ? availability.reasons[0] : 'Action not available';\n            return {\n                success: false,\n                message: reason\n            };\n        }\n        // Check if player can perform the action (basic requirements)\n        if (!action.canPerform(skill.level, this.inventoryManager)) {\n            return {\n                success: false,\n                message: \"Requires \".concat(action.skillType, \" level \").concat(action.levelRequired)\n            };\n        }\n        // Handle item consumption\n        for (const [itemId, requiredQuantity] of Object.entries(action.itemConsumption)){\n            if (!this.inventoryManager || !this.inventoryManager.hasItem(itemId, requiredQuantity)) {\n                var _this_inventoryManager_getGameObject;\n                const itemName = this.inventoryManager ? ((_this_inventoryManager_getGameObject = this.inventoryManager.getGameObject(itemId)) === null || _this_inventoryManager_getGameObject === void 0 ? void 0 : _this_inventoryManager_getGameObject.displayName) || itemId : itemId;\n                const message = this.configManager ? this.configManager.getMessage('actionInsufficientItems', {\n                    itemName\n                }) : \"Insufficient \".concat(itemName);\n                return {\n                    success: false,\n                    message\n                };\n            }\n        }\n        // Consume items\n        for (const [itemId, quantity] of Object.entries(action.itemConsumption)){\n            if (this.inventoryManager) {\n                this.inventoryManager.removeItem(itemId, quantity);\n                // Emit item consumed event for achievement tracking\n                if (this.eventSystem) {\n                    this.eventSystem.emit('item:consumed', {\n                        itemId: itemId,\n                        quantity: quantity,\n                        actionName: actionName\n                    });\n                }\n            }\n        }\n        // Record action usage for cooldown tracking\n        if (action.availability && action.availability.cooldown) {\n            this.availabilityEngine.recordActionUsage(actionName);\n        }\n        // Perform action and gain XP\n        const xpGained = action.performAction(skill, variable);\n        const itemReward = action.itemReward;\n        const itemCount = action.itemRewardQuantity || 1;\n        if (itemReward && this.inventoryManager) {\n            this.inventoryManager.addItem(itemReward, itemCount);\n            // Emit crafting completed event for achievement tracking\n            if (this.eventSystem && action.skillType === 'crafting') {\n                this.eventSystem.emit('craft:completed', {\n                    itemId: itemReward,\n                    quantity: itemCount,\n                    actionName: actionName\n                });\n            }\n        }\n        return {\n            success: true,\n            xpGained,\n            itemGained: itemReward,\n            itemCount,\n            message: action.flavorText || 'Action completed successfully'\n        };\n    }\n    /**\r\n     * Get actions available at a specific spot\r\n     * @param {string} spotId - The spot ID\r\n     * @returns {Array} Array of available actions\r\n     */ getActionsForSpot(spotId) {\n        if (!this.locationSystem) {\n            return this.getAvailableActions();\n        }\n        const spot = this.locationSystem._findSpotById(spotId);\n        if (!spot || !spot.actions) {\n            return [];\n        }\n        const availableActions = [];\n        for (const actionName of spot.actions){\n            const action = this.actions.get(actionName);\n            if (action) {\n                const skill = this.skillManager ? this.skillManager.getSkill(action.skillType) : null;\n                if (skill) {\n                    // Check dynamic availability\n                    const context = this._buildActionContext();\n                    const availability = this.availabilityEngine.checkActionAvailability(action, context);\n                    if (availability.available) {\n                        // Add availabilityInfo to the action instance without losing prototype methods\n                        action.availabilityInfo = availability;\n                        availableActions.push(action);\n                    }\n                }\n            }\n        }\n        return availableActions;\n    }\n    /**\r\n     * Get travel actions for current location\r\n     * @param {Object} playerState - Current player state\r\n     * @returns {Array} Array of travel actions\r\n     */ getTravelActions(playerState) {\n        if (!this.locationSystem) return [];\n        const availableSpots = this.locationSystem.getAvailableSpots();\n        const travelActions = [];\n        for (const spot of availableSpots){\n            const travelCheck = this.locationSystem.canTravelToSpot(spot.id, playerState);\n            if (travelCheck.canTravel) {\n                var _spot_travelCost;\n                travelActions.push({\n                    name: \"travel_to_\".concat(spot.id),\n                    displayName: \"Travel to \".concat(spot.name),\n                    description: spot.description,\n                    icon: \"🚶\",\n                    tooltip: \"Travel to \".concat(spot.name, \" (\").concat(spot.travelTime, \" minutes)\"),\n                    levelRequired: 1,\n                    xpReward: 0,\n                    timeRequired: spot.travelTime || 1,\n                    timeUnit: \"minutes\",\n                    itemReward: null,\n                    itemCount: 0,\n                    itemConsumption: ((_spot_travelCost = spot.travelCost) === null || _spot_travelCost === void 0 ? void 0 : _spot_travelCost.items) || {},\n                    unlockMessage: \"\",\n                    flavorText: \"You travel to \".concat(spot.name, \".\"),\n                    skillType: \"travel\",\n                    isTravelAction: true,\n                    targetSpotId: spot.id\n                });\n            }\n        }\n        return travelActions;\n    }\n    markActionAsNewlyUnlocked(actionName) {\n        this.newlyUnlockedActions.add(actionName);\n    }\n    isNewlyUnlocked(actionName) {\n        return this.newlyUnlockedActions.has(actionName);\n    }\n    markActionUsed(actionName) {\n        this.newlyUnlockedActions.delete(actionName);\n    }\n    checkForNewUnlocks(skillName, fromLevel, toLevel) {\n        for (const action of this.actions.values()){\n            if (action.skillType === skillName && action.levelRequired > fromLevel && action.levelRequired <= toLevel) {\n                this.markActionAsNewlyUnlocked(action.name);\n                if (this.configManager && this.uiManager) {\n                    const message = this.configManager.getMessage('actionUnlocked', {\n                        actionName: action.displayName,\n                        level: action.levelRequired\n                    });\n                    this.uiManager.addNarrationMessage(message);\n                }\n            }\n        }\n    }\n    constructor(eventSystem, stateManager){\n        this.actions = new Map();\n        this.newlyUnlockedActions = new Set();\n        this.locationSystem = null;\n        this.configManager = null;\n        this.uiManager = null;\n        this.skillManager = null;\n        this.inventoryManager = null;\n        this.questSystem = null;\n        this.npcSystem = null;\n        this.eventSystem = eventSystem;\n        this.stateManager = stateManager;\n        // Initialize availability engine\n        this.availabilityEngine = new ActionAvailabilityEngine(eventSystem, stateManager);\n    }\n}\n// Action class for defining game actions\nclass Action {\n    canPerform(skillLevel, inventoryManager) {\n        if (skillLevel < this.levelRequired) {\n            return false;\n        }\n        // Check if player has required items\n        for (const [itemId, requiredQuantity] of Object.entries(this.itemConsumption)){\n            if (!inventoryManager.hasItem(itemId, requiredQuantity)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    getTimeDisplay() {\n        if (this.timeRequired <= 0) return '';\n        const timeValue = this.timeRequired === Math.floor(this.timeRequired) ? this.timeRequired : this.timeRequired.toFixed(1);\n        return \"\".concat(timeValue, \" \").concat(this.timeUnit);\n    }\n    hasVariables() {\n        return this.variables !== null && Object.keys(this.variables).length > 0;\n    }\n    performAction(skill) {\n        let variable = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        // Calculate XP based on variable amount if provided\n        let xpToGain = this.xpReward;\n        if (variable && this.variables && this.variables.amount) {\n            xpToGain = this.xpReward * variable;\n        }\n        // Add XP to the skill\n        if (skill && xpToGain > 0) {\n            skill.addXp(xpToGain);\n        }\n        return xpToGain;\n    }\n    constructor(name, displayName, description, icon, tooltip, levelRequired, xpReward, timeRequired, timeUnit, itemReward, itemCount, itemConsumption, unlockMessage, flavorText, skillType, variables = null, availability = {}){\n        this.name = name;\n        this.displayName = displayName;\n        this.description = description;\n        this.icon = icon;\n        this.tooltip = tooltip;\n        this.levelRequired = levelRequired;\n        this.xpReward = xpReward;\n        this.timeRequired = timeRequired || 0;\n        this.timeUnit = timeUnit || 'minutes';\n        this.itemReward = itemReward;\n        this.itemRewardQuantity = itemCount || 1;\n        this.itemConsumption = itemConsumption || {};\n        this.unlockMessage = unlockMessage;\n        this.flavorText = flavorText;\n        this.skillType = skillType;\n        this.variables = variables;\n        this.isTravelAction = false;\n        this.targetSpotId = null;\n        this.availability = availability;\n    }\n}\nif (true) window.ActionManager = ActionManager;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvc3lzdGVtcy9BY3Rpb25NYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTUE7SUFrQkY7OztLQUdDLEdBQ0RDLGlCQUFpQkMsYUFBYSxFQUFFO1FBQzVCLElBQUksQ0FBQ0EsYUFBYSxHQUFHQTtJQUN6QjtJQUVBOzs7S0FHQyxHQUNEQyxhQUFhQyxTQUFTLEVBQUU7UUFDcEIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO0lBQ3JCO0lBRUE7OztLQUdDLEdBQ0RDLGVBQWVDLFlBQVksRUFBRTtRQUN6QixJQUFJLENBQUNBLFlBQVksR0FBR0E7SUFDeEI7SUFFQTs7O0tBR0MsR0FDREMsbUJBQW1CQyxnQkFBZ0IsRUFBRTtRQUNqQyxJQUFJLENBQUNBLGdCQUFnQixHQUFHQTtJQUM1QjtJQUVBOzs7S0FHQyxHQUNEQyxrQkFBa0JDLGNBQWMsRUFBRTtRQUM5QixJQUFJLENBQUNBLGNBQWMsR0FBR0E7SUFDMUI7SUFFQTs7O0tBR0MsR0FDREMsZUFBZUMsV0FBVyxFQUFFO1FBQ3hCLElBQUksQ0FBQ0EsV0FBVyxHQUFHQTtJQUN2QjtJQUVBOzs7S0FHQyxHQUNEQyxhQUFhQyxTQUFTLEVBQUU7UUFDcEIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO0lBQ3JCO0lBRUFDLGVBQWVDLGFBQWEsRUFBRTtRQUMxQixJQUFJO1lBQ0FDLFFBQVFDLEdBQUcsQ0FBQztZQUNaLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxLQUFLO1lBRWxCLElBQUlKLGVBQWU7Z0JBQ2YsS0FBSyxNQUFNLENBQUNLLFdBQVdDLFVBQVUsSUFBSUMsT0FBT0MsT0FBTyxDQUFDUixlQUFnQjtvQkFDaEUsSUFBSU0sVUFBVUgsT0FBTyxFQUFFO3dCQUNuQixLQUFLLE1BQU1NLGNBQWNILFVBQVVILE9BQU8sQ0FBRTs0QkFDeEMsTUFBTU8sU0FBUyxJQUFJQyxPQUNmRixXQUFXRyxJQUFJLEVBQ2ZILFdBQVdJLFdBQVcsRUFD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RUEsSUFBSSxJQUE2QixFQUFFZ0csT0FBTzNJLGFBQWEsR0FBR0E7QUFFMUQsb0JBQW9CO0FBQ2EiLCJzb3VyY2VzIjpbIkM6XFxHaXRIdWJcXFNlbGZcXHRhdmVybnNcXHNyY1xcbGliXFxnYW1lLWVuZ2luZVxcc3lzdGVtc1xcQWN0aW9uTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBY3Rpb25NYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGV2ZW50U3lzdGVtLCBzdGF0ZU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmFjdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5uZXdseVVubG9ja2VkQWN0aW9ucyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB0aGlzLmxvY2F0aW9uU3lzdGVtID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudWlNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNraWxsTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnF1ZXN0U3lzdGVtID0gbnVsbDtcclxuICAgICAgICB0aGlzLm5wY1N5c3RlbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbSA9IGV2ZW50U3lzdGVtO1xyXG4gICAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyID0gc3RhdGVNYW5hZ2VyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgYXZhaWxhYmlsaXR5IGVuZ2luZVxyXG4gICAgICAgIHRoaXMuYXZhaWxhYmlsaXR5RW5naW5lID0gbmV3IEFjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZShldmVudFN5c3RlbSwgc3RhdGVNYW5hZ2VyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29uZmlndXJhdGlvbiBtYW5hZ2VyIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtDb25maWdNYW5hZ2VyfSBjb25maWdNYW5hZ2VyIC0gVGhlIGNvbmZpZ3VyYXRpb24gbWFuYWdlciBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXRDb25maWdNYW5hZ2VyKGNvbmZpZ01hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBjb25maWdNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBVSSBtYW5hZ2VyIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtVSU1hbmFnZXJ9IHVpTWFuYWdlciAtIFRoZSBVSSBtYW5hZ2VyIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHNldFVJTWFuYWdlcih1aU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLnVpTWFuYWdlciA9IHVpTWFuYWdlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc2tpbGwgbWFuYWdlciByZWZlcmVuY2VcclxuICAgICAqIEBwYXJhbSB7U2tpbGxNYW5hZ2VyfSBza2lsbE1hbmFnZXIgLSBUaGUgc2tpbGwgbWFuYWdlciBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXRTa2lsbFN5c3RlbShza2lsbE1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLnNraWxsTWFuYWdlciA9IHNraWxsTWFuYWdlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgaW52ZW50b3J5IG1hbmFnZXIgcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge0ludmVudG9yeU1hbmFnZXJ9IGludmVudG9yeU1hbmFnZXIgLSBUaGUgaW52ZW50b3J5IG1hbmFnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgc2V0SW52ZW50b3J5U3lzdGVtKGludmVudG9yeU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmludmVudG9yeU1hbmFnZXIgPSBpbnZlbnRvcnlNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBsb2NhdGlvbiBzeXN0ZW0gcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge0xvY2F0aW9uU3lzdGVtfSBsb2NhdGlvblN5c3RlbSAtIFRoZSBsb2NhdGlvbiBzeXN0ZW0gaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgc2V0TG9jYXRpb25TeXN0ZW0obG9jYXRpb25TeXN0ZW0pIHtcclxuICAgICAgICB0aGlzLmxvY2F0aW9uU3lzdGVtID0gbG9jYXRpb25TeXN0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHF1ZXN0IHN5c3RlbSByZWZlcmVuY2VcclxuICAgICAqIEBwYXJhbSB7UXVlc3RTeXN0ZW19IHF1ZXN0U3lzdGVtIC0gVGhlIHF1ZXN0IHN5c3RlbSBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXRRdWVzdFN5c3RlbShxdWVzdFN5c3RlbSkge1xyXG4gICAgICAgIHRoaXMucXVlc3RTeXN0ZW0gPSBxdWVzdFN5c3RlbTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgTlBDIHN5c3RlbSByZWZlcmVuY2VcclxuICAgICAqIEBwYXJhbSB7TlBDU3lzdGVtfSBucGNTeXN0ZW0gLSBUaGUgTlBDIHN5c3RlbSBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXROUENTeXN0ZW0obnBjU3lzdGVtKSB7XHJcbiAgICAgICAgdGhpcy5ucGNTeXN0ZW0gPSBucGNTeXN0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEZyb21Db25maWcoYWN0aW9uc0NvbmZpZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIGFjdGlvbnMuLi4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYWN0aW9uc0NvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbc2tpbGxUeXBlLCBza2lsbERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGFjdGlvbnNDb25maWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNraWxsRGF0YS5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uRGF0YSBvZiBza2lsbERhdGEuYWN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IEFjdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS5kaXNwbGF5TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkRhdGEuaWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLnRvb2x0aXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS5sZXZlbFJlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkRhdGEueHBSZXdhcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS50aW1lUmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS50aW1lVW5pdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLml0ZW1SZXdhcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS5pdGVtQ291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS5pdGVtQ29uc3VtcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRGF0YS51bmxvY2tNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkRhdGEuZmxhdm9yVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLnNraWxsVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLnZhcmlhYmxlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25EYXRhLmF2YWlsYWJpbGl0eSB8fCB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5zZXQoYWN0aW9uRGF0YS5uYW1lLCBhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7dGhpcy5hY3Rpb25zLnNpemV9IGFjdGlvbnNgKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGFjdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3Rpb24oYWN0aW9uTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnMuZ2V0KGFjdGlvbk5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbEFjdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hY3Rpb25zLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBdmFpbGFibGVBY3Rpb25zKCkge1xyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0aGlzLmFjdGlvbnMudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLnNraWxsTWFuYWdlciA/IHRoaXMuc2tpbGxNYW5hZ2VyLmdldFNraWxsKGFjdGlvbi5za2lsbFR5cGUpIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKCFza2lsbCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBiYXNpYyBza2lsbCBsZXZlbCByZXF1aXJlbWVudFxyXG4gICAgICAgICAgICBpZiAoc2tpbGwubGV2ZWwgPCBhY3Rpb24ubGV2ZWxSZXF1aXJlZCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBkeW5hbWljIGF2YWlsYWJpbGl0eSB1c2luZyB0aGUgYXZhaWxhYmlsaXR5IGVuZ2luZVxyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fYnVpbGRBY3Rpb25Db250ZXh0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YWlsYWJpbGl0eSA9IHRoaXMuYXZhaWxhYmlsaXR5RW5naW5lLmNoZWNrQWN0aW9uQXZhaWxhYmlsaXR5KGFjdGlvbiwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoYXZhaWxhYmlsaXR5LmF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGF2YWlsYWJpbGl0eUluZm8gdG8gdGhlIGFjdGlvbiBpbnN0YW5jZSB3aXRob3V0IGxvc2luZyBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmF2YWlsYWJpbGl0eUluZm8gPSBhdmFpbGFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVBY3Rpb25zLnB1c2goYWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYXZhaWxhYmxlQWN0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIGNvbnRleHQgb2JqZWN0IGZvciBhY3Rpb24gYXZhaWxhYmlsaXR5IGNoZWNraW5nXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDb250ZXh0IG9iamVjdCB3aXRoIGFsbCBuZWNlc3Nhcnkgc3lzdGVtc1xyXG4gICAgICovXHJcbiAgICBfYnVpbGRBY3Rpb25Db250ZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdGhpcy5sb2NhdGlvblN5c3RlbSA/IHRoaXMubG9jYXRpb25TeXN0ZW0uZ2V0Q3VycmVudExvY2F0aW9uKCkgOiBudWxsLFxyXG4gICAgICAgICAgICBsb2NhdGlvblN5c3RlbTogdGhpcy5sb2NhdGlvblN5c3RlbSxcclxuICAgICAgICAgICAgaW52ZW50b3J5TWFuYWdlcjogdGhpcy5pbnZlbnRvcnlNYW5hZ2VyLFxyXG4gICAgICAgICAgICBza2lsbE1hbmFnZXI6IHRoaXMuc2tpbGxNYW5hZ2VyLFxyXG4gICAgICAgICAgICBxdWVzdFN5c3RlbTogdGhpcy5xdWVzdFN5c3RlbSxcclxuICAgICAgICAgICAgbnBjU3lzdGVtOiB0aGlzLm5wY1N5c3RlbSxcclxuICAgICAgICAgICAgY29uZmlnTWFuYWdlcjogdGhpcy5jb25maWdNYW5hZ2VyLFxyXG4gICAgICAgICAgICB1aU1hbmFnZXI6IHRoaXMudWlNYW5hZ2VyXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgYW4gYWN0aW9uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24gdG8gZXhlY3V0ZVxyXG4gICAgICogQHBhcmFtIHsqfSB2YXJpYWJsZSAtIE9wdGlvbmFsIHZhcmlhYmxlIHBhcmFtZXRlclxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIHRoZSBhY3Rpb24gZXhlY3V0aW9uXHJcbiAgICAgKi9cclxuICAgIGV4ZWN1dGVBY3Rpb24oYWN0aW9uTmFtZSwgdmFyaWFibGUgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb24oYWN0aW9uTmFtZSk7XHJcbiAgICAgICAgaWYgKCFhY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdBY3Rpb24gbm90IGZvdW5kJyB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLnNraWxsTWFuYWdlciA/IHRoaXMuc2tpbGxNYW5hZ2VyLmdldFNraWxsKGFjdGlvbi5za2lsbFR5cGUpIDogbnVsbDtcclxuICAgICAgICBpZiAoIXNraWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnU2tpbGwgbm90IGZvdW5kJyB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZHluYW1pYyBhdmFpbGFiaWxpdHkgYmVmb3JlIGV4ZWN1dGlvblxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9idWlsZEFjdGlvbkNvbnRleHQoKTtcclxuICAgICAgICBjb25zdCBhdmFpbGFiaWxpdHkgPSB0aGlzLmF2YWlsYWJpbGl0eUVuZ2luZS5jaGVja0FjdGlvbkF2YWlsYWJpbGl0eShhY3Rpb24sIGNvbnRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYXZhaWxhYmlsaXR5LmF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICBjb25zdCByZWFzb24gPSBhdmFpbGFiaWxpdHkucmVhc29ucy5sZW5ndGggPiAwID8gYXZhaWxhYmlsaXR5LnJlYXNvbnNbMF0gOiAnQWN0aW9uIG5vdCBhdmFpbGFibGUnO1xyXG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogcmVhc29uIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBwbGF5ZXIgY2FuIHBlcmZvcm0gdGhlIGFjdGlvbiAoYmFzaWMgcmVxdWlyZW1lbnRzKVxyXG4gICAgICAgIGlmICghYWN0aW9uLmNhblBlcmZvcm0oc2tpbGwubGV2ZWwsIHRoaXMuaW52ZW50b3J5TWFuYWdlcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGBSZXF1aXJlcyAke2FjdGlvbi5za2lsbFR5cGV9IGxldmVsICR7YWN0aW9uLmxldmVsUmVxdWlyZWR9YCB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGl0ZW0gY29uc3VtcHRpb25cclxuICAgICAgICBmb3IgKGNvbnN0IFtpdGVtSWQsIHJlcXVpcmVkUXVhbnRpdHldIG9mIE9iamVjdC5lbnRyaWVzKGFjdGlvbi5pdGVtQ29uc3VtcHRpb24pKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pbnZlbnRvcnlNYW5hZ2VyIHx8ICF0aGlzLmludmVudG9yeU1hbmFnZXIuaGFzSXRlbShpdGVtSWQsIHJlcXVpcmVkUXVhbnRpdHkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IHRoaXMuaW52ZW50b3J5TWFuYWdlciA/IHRoaXMuaW52ZW50b3J5TWFuYWdlci5nZXRHYW1lT2JqZWN0KGl0ZW1JZCk/LmRpc3BsYXlOYW1lIHx8IGl0ZW1JZCA6IGl0ZW1JZDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmNvbmZpZ01hbmFnZXIgPyB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0TWVzc2FnZSgnYWN0aW9uSW5zdWZmaWNpZW50SXRlbXMnLCB7IGl0ZW1OYW1lIH0pIDogYEluc3VmZmljaWVudCAke2l0ZW1OYW1lfWA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb25zdW1lIGl0ZW1zXHJcbiAgICAgICAgZm9yIChjb25zdCBbaXRlbUlkLCBxdWFudGl0eV0gb2YgT2JqZWN0LmVudHJpZXMoYWN0aW9uLml0ZW1Db25zdW1wdGlvbikpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW52ZW50b3J5TWFuYWdlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyLnJlbW92ZUl0ZW0oaXRlbUlkLCBxdWFudGl0eSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEVtaXQgaXRlbSBjb25zdW1lZCBldmVudCBmb3IgYWNoaWV2ZW1lbnQgdHJhY2tpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50U3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5lbWl0KCdpdGVtOmNvbnN1bWVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiBhY3Rpb25OYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlY29yZCBhY3Rpb24gdXNhZ2UgZm9yIGNvb2xkb3duIHRyYWNraW5nXHJcbiAgICAgICAgaWYgKGFjdGlvbi5hdmFpbGFiaWxpdHkgJiYgYWN0aW9uLmF2YWlsYWJpbGl0eS5jb29sZG93bikge1xyXG4gICAgICAgICAgICB0aGlzLmF2YWlsYWJpbGl0eUVuZ2luZS5yZWNvcmRBY3Rpb25Vc2FnZShhY3Rpb25OYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBlcmZvcm0gYWN0aW9uIGFuZCBnYWluIFhQXHJcbiAgICAgICAgY29uc3QgeHBHYWluZWQgPSBhY3Rpb24ucGVyZm9ybUFjdGlvbihza2lsbCwgdmFyaWFibGUpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW1SZXdhcmQgPSBhY3Rpb24uaXRlbVJld2FyZDtcclxuICAgICAgICBjb25zdCBpdGVtQ291bnQgPSBhY3Rpb24uaXRlbVJld2FyZFF1YW50aXR5IHx8IDE7XHJcblxyXG4gICAgICAgIGlmIChpdGVtUmV3YXJkICYmIHRoaXMuaW52ZW50b3J5TWFuYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudG9yeU1hbmFnZXIuYWRkSXRlbShpdGVtUmV3YXJkLCBpdGVtQ291bnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRW1pdCBjcmFmdGluZyBjb21wbGV0ZWQgZXZlbnQgZm9yIGFjaGlldmVtZW50IHRyYWNraW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50U3lzdGVtICYmIGFjdGlvbi5za2lsbFR5cGUgPT09ICdjcmFmdGluZycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0uZW1pdCgnY3JhZnQ6Y29tcGxldGVkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbVJld2FyZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbk5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICB4cEdhaW5lZCxcclxuICAgICAgICAgICAgaXRlbUdhaW5lZDogaXRlbVJld2FyZCxcclxuICAgICAgICAgICAgaXRlbUNvdW50LFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBhY3Rpb24uZmxhdm9yVGV4dCB8fCAnQWN0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhY3Rpb25zIGF2YWlsYWJsZSBhdCBhIHNwZWNpZmljIHNwb3RcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcG90SWQgLSBUaGUgc3BvdCBJRFxyXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBhdmFpbGFibGUgYWN0aW9uc1xyXG4gICAgICovXHJcbiAgICBnZXRBY3Rpb25zRm9yU3BvdChzcG90SWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMubG9jYXRpb25TeXN0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXZhaWxhYmxlQWN0aW9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3BvdCA9IHRoaXMubG9jYXRpb25TeXN0ZW0uX2ZpbmRTcG90QnlJZChzcG90SWQpO1xyXG4gICAgICAgIGlmICghc3BvdCB8fCAhc3BvdC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUFjdGlvbnMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgb2Ygc3BvdC5hY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuYWN0aW9ucy5nZXQoYWN0aW9uTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsID0gdGhpcy5za2lsbE1hbmFnZXIgPyB0aGlzLnNraWxsTWFuYWdlci5nZXRTa2lsbChhY3Rpb24uc2tpbGxUeXBlKSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2tpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBkeW5hbWljIGF2YWlsYWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9idWlsZEFjdGlvbkNvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdmFpbGFiaWxpdHkgPSB0aGlzLmF2YWlsYWJpbGl0eUVuZ2luZS5jaGVja0FjdGlvbkF2YWlsYWJpbGl0eShhY3Rpb24sIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFiaWxpdHkuYXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhdmFpbGFiaWxpdHlJbmZvIHRvIHRoZSBhY3Rpb24gaW5zdGFuY2Ugd2l0aG91dCBsb3NpbmcgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLmF2YWlsYWJpbGl0eUluZm8gPSBhdmFpbGFiaWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUFjdGlvbnMucHVzaChhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGF2YWlsYWJsZUFjdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdHJhdmVsIGFjdGlvbnMgZm9yIGN1cnJlbnQgbG9jYXRpb25cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5ZXJTdGF0ZSAtIEN1cnJlbnQgcGxheWVyIHN0YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIHRyYXZlbCBhY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIGdldFRyYXZlbEFjdGlvbnMocGxheWVyU3RhdGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMubG9jYXRpb25TeXN0ZW0pIHJldHVybiBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlU3BvdHMgPSB0aGlzLmxvY2F0aW9uU3lzdGVtLmdldEF2YWlsYWJsZVNwb3RzKCk7XHJcbiAgICAgICAgY29uc3QgdHJhdmVsQWN0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHNwb3Qgb2YgYXZhaWxhYmxlU3BvdHMpIHtcclxuICAgICAgICAgICAgY29uc3QgdHJhdmVsQ2hlY2sgPSB0aGlzLmxvY2F0aW9uU3lzdGVtLmNhblRyYXZlbFRvU3BvdChzcG90LmlkLCBwbGF5ZXJTdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmICh0cmF2ZWxDaGVjay5jYW5UcmF2ZWwpIHtcclxuICAgICAgICAgICAgICAgIHRyYXZlbEFjdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYHRyYXZlbF90b18ke3Nwb3QuaWR9YCxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogYFRyYXZlbCB0byAke3Nwb3QubmFtZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzcG90LmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246IFwi8J+atlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IGBUcmF2ZWwgdG8gJHtzcG90Lm5hbWV9ICgke3Nwb3QudHJhdmVsVGltZX0gbWludXRlcylgLFxyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsUmVxdWlyZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgeHBSZXdhcmQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZVJlcXVpcmVkOiBzcG90LnRyYXZlbFRpbWUgfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lVW5pdDogXCJtaW51dGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVJld2FyZDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUNvbnN1bXB0aW9uOiBzcG90LnRyYXZlbENvc3Q/Lml0ZW1zIHx8IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIHVubG9ja01lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhdm9yVGV4dDogYFlvdSB0cmF2ZWwgdG8gJHtzcG90Lm5hbWV9LmAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxUeXBlOiBcInRyYXZlbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVHJhdmVsQWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFNwb3RJZDogc3BvdC5pZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cmF2ZWxBY3Rpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIG1hcmtBY3Rpb25Bc05ld2x5VW5sb2NrZWQoYWN0aW9uTmFtZSkge1xyXG4gICAgICAgIHRoaXMubmV3bHlVbmxvY2tlZEFjdGlvbnMuYWRkKGFjdGlvbk5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTmV3bHlVbmxvY2tlZChhY3Rpb25OYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV3bHlVbmxvY2tlZEFjdGlvbnMuaGFzKGFjdGlvbk5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hcmtBY3Rpb25Vc2VkKGFjdGlvbk5hbWUpIHtcclxuICAgICAgICB0aGlzLm5ld2x5VW5sb2NrZWRBY3Rpb25zLmRlbGV0ZShhY3Rpb25OYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0Zvck5ld1VubG9ja3Moc2tpbGxOYW1lLCBmcm9tTGV2ZWwsIHRvTGV2ZWwpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0aGlzLmFjdGlvbnMudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGlvbi5za2lsbFR5cGUgPT09IHNraWxsTmFtZSAmJiBcclxuICAgICAgICAgICAgICAgIGFjdGlvbi5sZXZlbFJlcXVpcmVkID4gZnJvbUxldmVsICYmIFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uLmxldmVsUmVxdWlyZWQgPD0gdG9MZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrQWN0aW9uQXNOZXdseVVubG9ja2VkKGFjdGlvbi5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ01hbmFnZXIgJiYgdGhpcy51aU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5jb25maWdNYW5hZ2VyLmdldE1lc3NhZ2UoJ2FjdGlvblVubG9ja2VkJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiBhY3Rpb24uZGlzcGxheU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBhY3Rpb24ubGV2ZWxSZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNYW5hZ2VyLmFkZE5hcnJhdGlvbk1lc3NhZ2UobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEFjdGlvbiBjbGFzcyBmb3IgZGVmaW5pbmcgZ2FtZSBhY3Rpb25zXHJcbmNsYXNzIEFjdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkaXNwbGF5TmFtZSwgZGVzY3JpcHRpb24sIGljb24sIHRvb2x0aXAsIGxldmVsUmVxdWlyZWQsIHhwUmV3YXJkLCB0aW1lUmVxdWlyZWQsIHRpbWVVbml0LCBpdGVtUmV3YXJkLCBpdGVtQ291bnQsIGl0ZW1Db25zdW1wdGlvbiwgdW5sb2NrTWVzc2FnZSwgZmxhdm9yVGV4dCwgc2tpbGxUeXBlLCB2YXJpYWJsZXMgPSBudWxsLCBhdmFpbGFiaWxpdHkgPSB7fSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xyXG4gICAgICAgIHRoaXMudG9vbHRpcCA9IHRvb2x0aXA7XHJcbiAgICAgICAgdGhpcy5sZXZlbFJlcXVpcmVkID0gbGV2ZWxSZXF1aXJlZDtcclxuICAgICAgICB0aGlzLnhwUmV3YXJkID0geHBSZXdhcmQ7XHJcbiAgICAgICAgdGhpcy50aW1lUmVxdWlyZWQgPSB0aW1lUmVxdWlyZWQgfHwgMDtcclxuICAgICAgICB0aGlzLnRpbWVVbml0ID0gdGltZVVuaXQgfHwgJ21pbnV0ZXMnO1xyXG4gICAgICAgIHRoaXMuaXRlbVJld2FyZCA9IGl0ZW1SZXdhcmQ7XHJcbiAgICAgICAgdGhpcy5pdGVtUmV3YXJkUXVhbnRpdHkgPSBpdGVtQ291bnQgfHwgMTtcclxuICAgICAgICB0aGlzLml0ZW1Db25zdW1wdGlvbiA9IGl0ZW1Db25zdW1wdGlvbiB8fCB7fTtcclxuICAgICAgICB0aGlzLnVubG9ja01lc3NhZ2UgPSB1bmxvY2tNZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuZmxhdm9yVGV4dCA9IGZsYXZvclRleHQ7XHJcbiAgICAgICAgdGhpcy5za2lsbFR5cGUgPSBza2lsbFR5cGU7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZXMgPSB2YXJpYWJsZXM7XHJcbiAgICAgICAgdGhpcy5pc1RyYXZlbEFjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0U3BvdElkID0gbnVsbDtcclxuICAgICAgICB0aGlzLmF2YWlsYWJpbGl0eSA9IGF2YWlsYWJpbGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBjYW5QZXJmb3JtKHNraWxsTGV2ZWwsIGludmVudG9yeU1hbmFnZXIpIHtcclxuICAgICAgICBpZiAoc2tpbGxMZXZlbCA8IHRoaXMubGV2ZWxSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBwbGF5ZXIgaGFzIHJlcXVpcmVkIGl0ZW1zXHJcbiAgICAgICAgZm9yIChjb25zdCBbaXRlbUlkLCByZXF1aXJlZFF1YW50aXR5XSBvZiBPYmplY3QuZW50cmllcyh0aGlzLml0ZW1Db25zdW1wdGlvbikpIHtcclxuICAgICAgICAgICAgaWYgKCFpbnZlbnRvcnlNYW5hZ2VyLmhhc0l0ZW0oaXRlbUlkLCByZXF1aXJlZFF1YW50aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUaW1lRGlzcGxheSgpIHtcclxuICAgICAgICBpZiAodGhpcy50aW1lUmVxdWlyZWQgPD0gMCkgcmV0dXJuICcnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRpbWVWYWx1ZSA9IHRoaXMudGltZVJlcXVpcmVkID09PSBNYXRoLmZsb29yKHRoaXMudGltZVJlcXVpcmVkKSBcclxuICAgICAgICAgICAgPyB0aGlzLnRpbWVSZXF1aXJlZCBcclxuICAgICAgICAgICAgOiB0aGlzLnRpbWVSZXF1aXJlZC50b0ZpeGVkKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBgJHt0aW1lVmFsdWV9ICR7dGhpcy50aW1lVW5pdH1gO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc1ZhcmlhYmxlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52YXJpYWJsZXMgIT09IG51bGwgJiYgT2JqZWN0LmtleXModGhpcy52YXJpYWJsZXMpLmxlbmd0aCA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcGVyZm9ybUFjdGlvbihza2lsbCwgdmFyaWFibGUgPSBudWxsKSB7XHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIFhQIGJhc2VkIG9uIHZhcmlhYmxlIGFtb3VudCBpZiBwcm92aWRlZFxyXG4gICAgICAgIGxldCB4cFRvR2FpbiA9IHRoaXMueHBSZXdhcmQ7XHJcbiAgICAgICAgaWYgKHZhcmlhYmxlICYmIHRoaXMudmFyaWFibGVzICYmIHRoaXMudmFyaWFibGVzLmFtb3VudCkge1xyXG4gICAgICAgICAgICB4cFRvR2FpbiA9IHRoaXMueHBSZXdhcmQgKiB2YXJpYWJsZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIFhQIHRvIHRoZSBza2lsbFxyXG4gICAgICAgIGlmIChza2lsbCAmJiB4cFRvR2FpbiA+IDApIHtcclxuICAgICAgICAgICAgc2tpbGwuYWRkWHAoeHBUb0dhaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4geHBUb0dhaW47XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LkFjdGlvbk1hbmFnZXIgPSBBY3Rpb25NYW5hZ2VyO1xyXG5cclxuLy8gRVMgTW9kdWxlIGV4cG9ydHNcclxuZXhwb3J0IHsgQWN0aW9uTWFuYWdlciwgQWN0aW9uIH07ICJdLCJuYW1lcyI6WyJBY3Rpb25NYW5hZ2VyIiwic2V0Q29uZmlnTWFuYWdlciIsImNvbmZpZ01hbmFnZXIiLCJzZXRVSU1hbmFnZXIiLCJ1aU1hbmFnZXIiLCJzZXRTa2lsbFN5c3RlbSIsInNraWxsTWFuYWdlciIsInNldEludmVudG9yeVN5c3RlbSIsImludmVudG9yeU1hbmFnZXIiLCJzZXRMb2NhdGlvblN5c3RlbSIsImxvY2F0aW9uU3lzdGVtIiwic2V0UXVlc3RTeXN0ZW0iLCJxdWVzdFN5c3RlbSIsInNldE5QQ1N5c3RlbSIsIm5wY1N5c3RlbSIsImxvYWRGcm9tQ29uZmlnIiwiYWN0aW9uc0NvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJhY3Rpb25zIiwiY2xlYXIiLCJza2lsbFR5cGUiLCJza2lsbERhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwiYWN0aW9uRGF0YSIsImFjdGlvbiIsIkFjdGlvbiIsIm5hbWUiLCJkaXNwbGF5TmFtZSIsImRlc2NyaXB0aW9uIiwiaWNvbiIsInRvb2x0aXAiLCJsZXZlbFJlcXVpcmVkIiwieHBSZXdhcmQiLCJ0aW1lUmVxdWlyZWQiLCJ0aW1lVW5pdCIsIml0ZW1SZXdhcmQiLCJpdGVtQ291bnQiLCJpdGVtQ29uc3VtcHRpb24iLCJ1bmxvY2tNZXNzYWdlIiwiZmxhdm9yVGV4dCIsInZhcmlhYmxlcyIsImF2YWlsYWJpbGl0eSIsInNldCIsInNpemUiLCJlcnJvciIsImdldEFjdGlvbiIsImFjdGlvbk5hbWUiLCJnZXQiLCJnZXRBbGxBY3Rpb25zIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZ2V0QXZhaWxhYmxlQWN0aW9ucyIsImF2YWlsYWJsZUFjdGlvbnMiLCJza2lsbCIsImdldFNraWxsIiwibGV2ZWwiLCJjb250ZXh0IiwiX2J1aWxkQWN0aW9uQ29udGV4dCIsImF2YWlsYWJpbGl0eUVuZ2luZSIsImNoZWNrQWN0aW9uQXZhaWxhYmlsaXR5IiwiYXZhaWxhYmxlIiwiYXZhaWxhYmlsaXR5SW5mbyIsInB1c2giLCJjdXJyZW50TG9jYXRpb24iLCJnZXRDdXJyZW50TG9jYXRpb24iLCJleGVjdXRlQWN0aW9uIiwidmFyaWFibGUiLCJzdWNjZXNzIiwibWVzc2FnZSIsInJlYXNvbiIsInJlYXNvbnMiLCJsZW5ndGgiLCJjYW5QZXJmb3JtIiwiaXRlbUlkIiwicmVxdWlyZWRRdWFudGl0eSIsImhhc0l0ZW0iLCJpdGVtTmFtZSIsImdldEdhbWVPYmplY3QiLCJnZXRNZXNzYWdlIiwicXVhbnRpdHkiLCJyZW1vdmVJdGVtIiwiZXZlbnRTeXN0ZW0iLCJlbWl0IiwiY29vbGRvd24iLCJyZWNvcmRBY3Rpb25Vc2FnZSIsInhwR2FpbmVkIiwicGVyZm9ybUFjdGlvbiIsIml0ZW1SZXdhcmRRdWFudGl0eSIsImFkZEl0ZW0iLCJpdGVtR2FpbmVkIiwiZ2V0QWN0aW9uc0ZvclNwb3QiLCJzcG90SWQiLCJzcG90IiwiX2ZpbmRTcG90QnlJZCIsImdldFRyYXZlbEFjdGlvbnMiLCJwbGF5ZXJTdGF0ZSIsImF2YWlsYWJsZVNwb3RzIiwiZ2V0QXZhaWxhYmxlU3BvdHMiLCJ0cmF2ZWxBY3Rpb25zIiwidHJhdmVsQ2hlY2siLCJjYW5UcmF2ZWxUb1Nwb3QiLCJpZCIsImNhblRyYXZlbCIsInRyYXZlbFRpbWUiLCJ0cmF2ZWxDb3N0IiwiaXRlbXMiLCJpc1RyYXZlbEFjdGlvbiIsInRhcmdldFNwb3RJZCIsIm1hcmtBY3Rpb25Bc05ld2x5VW5sb2NrZWQiLCJuZXdseVVubG9ja2VkQWN0aW9ucyIsImFkZCIsImlzTmV3bHlVbmxvY2tlZCIsImhhcyIsIm1hcmtBY3Rpb25Vc2VkIiwiZGVsZXRlIiwiY2hlY2tGb3JOZXdVbmxvY2tzIiwic2tpbGxOYW1lIiwiZnJvbUxldmVsIiwidG9MZXZlbCIsImFkZE5hcnJhdGlvbk1lc3NhZ2UiLCJjb25zdHJ1Y3RvciIsInN0YXRlTWFuYWdlciIsIk1hcCIsIlNldCIsIkFjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZSIsInNraWxsTGV2ZWwiLCJnZXRUaW1lRGlzcGxheSIsInRpbWVWYWx1ZSIsIk1hdGgiLCJmbG9vciIsInRvRml4ZWQiLCJoYXNWYXJpYWJsZXMiLCJrZXlzIiwieHBUb0dhaW4iLCJhbW91bnQiLCJhZGRYcCIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/systems/ActionManager.js\n"));

/***/ })

}]);