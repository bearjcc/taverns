"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_lib_game-engine_systems_SkillManager_js"],{

/***/ "(app-pages-browser)/./src/lib/game-engine/systems/SkillManager.js":
/*!*****************************************************!*\
  !*** ./src/lib/game-engine/systems/SkillManager.js ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Skill: () => (/* binding */ Skill),\n/* harmony export */   SkillManager: () => (/* binding */ SkillManager)\n/* harmony export */ });\nclass SkillManager {\n    /**\r\n     * Set the configuration manager reference\r\n     * @param {ConfigManager} configManager - The configuration manager instance\r\n     */ setConfigManager(configManager) {\n        this.configManager = configManager;\n    }\n    /**\r\n     * Set the UI manager reference\r\n     * @param {UIManager} uiManager - The UI manager instance\r\n     */ setUIManager(uiManager) {\n        this.uiManager = uiManager;\n    }\n    /**\r\n     * Set the inventory manager reference\r\n     * @param {InventoryManager} inventoryManager - The inventory manager instance\r\n     */ setInventorySystem(inventoryManager) {\n        this.inventoryManager = inventoryManager;\n    }\n    /**\r\n     * Set the event system reference\r\n     * @param {EventSystem} eventSystem - The event system instance\r\n     */ setEventSystem(eventSystem) {\n        this.eventSystem = eventSystem;\n    }\n    loadFromConfig(skillsConfig, gameConfig) {\n        try {\n            console.log('Loading skills...');\n            this.skills.clear();\n            if (skillsConfig) {\n                const processCategory = (categoryData)=>{\n                    for (const [key, data] of Object.entries(categoryData)){\n                        // Create skill with default values if level/experience not specified\n                        const level = data.hasOwnProperty('level') ? data.level : null;\n                        const experience = data.hasOwnProperty('experience') ? data.experience : null;\n                        const skill = new Skill(key, level, experience, this.configManager);\n                        this.skills.set(key, skill);\n                        if (data.sub_skills) {\n                            processCategory(data.sub_skills);\n                        }\n                    }\n                };\n                for(const category in skillsConfig){\n                    processCategory(skillsConfig[category]);\n                }\n            }\n            console.log(\"Loaded \".concat(this.skills.size, \" skills\"));\n        } catch (error) {\n            console.error('Error loading skills:', error);\n        }\n    }\n    addSkill(skillName, skill) {\n        this.skills.set(skillName, skill);\n    }\n    getSkill(skillName) {\n        return this.skills.get(skillName);\n    }\n    addSkillXp(skillName, xpAmount) {\n        const skill = this.skills.get(skillName);\n        if (skill) {\n            const fromLevel = skill.level;\n            const levelUps = skill.addXp(xpAmount);\n            if (levelUps > 0 && this.uiManager && this.configManager) {\n                const message = this.configManager.getMessage('levelUp', {\n                    skillName: skillName,\n                    level: skill.level\n                });\n                this.uiManager.addNarrationMessage(message);\n                // Emit skill level up event for achievement tracking\n                if (this.eventSystem) {\n                    this.eventSystem.emit('skill:levelUp', {\n                        skillName: skillName,\n                        oldLevel: fromLevel,\n                        newLevel: skill.level,\n                        levelUps: levelUps\n                    });\n                }\n            }\n            return levelUps;\n        }\n        return 0;\n    }\n    getAllSkills() {\n        return Array.from(this.skills.values());\n    }\n    checkForNewUnlocks(skillName, fromLevel, toLevel) {\n    // This will be handled by ActionManager\n    }\n    constructor(){\n        this.skills = new Map();\n        this.newlyUnlockedActions = new Set();\n        this.configManager = null;\n        this.uiManager = null;\n        this.inventoryManager = null;\n        this.eventSystem = null;\n    }\n}\n// Skill class for managing individual skills\nclass Skill {\n    getXpToNextLevel(level) {\n        const multiplier = this.configManager ? this.configManager.getConstant('xpMultiplier', 100) : 100;\n        return level * multiplier;\n    }\n    addXp(amount) {\n        this.xp += amount;\n        let levelUps = 0;\n        while(this.xp >= this.xpToNext){\n            this.level++;\n            this.xp -= this.xpToNext;\n            this.xpToNext = this.getXpToNextLevel(this.level);\n            levelUps++;\n        }\n        return levelUps;\n    }\n    getProgress() {\n        const progressMax = this.configManager ? this.configManager.getConstant('progressMax', 100) : 100;\n        return this.xp / this.xpToNext * progressMax;\n    }\n    constructor(name, level = null, xp = null, configManager = null){\n        this.name = name;\n        this.level = level !== null ? level : 1;\n        this.xp = xp !== null ? xp : 0;\n        this.configManager = configManager;\n        this.xpToNext = this.getXpToNextLevel(this.level);\n    }\n}\nif (true) window.SkillManager = SkillManager;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvc3lzdGVtcy9Ta2lsbE1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxNQUFNQTtJQVVGOzs7S0FHQyxHQUNEQyxpQkFBaUJDLGFBQWEsRUFBRTtRQUM1QixJQUFJLENBQUNBLGFBQWEsR0FBR0E7SUFDekI7SUFFQTs7O0tBR0MsR0FDREMsYUFBYUMsU0FBUyxFQUFFO1FBQ3BCLElBQUksQ0FBQ0EsU0FBUyxHQUFHQTtJQUNyQjtJQUVBOzs7S0FHQyxHQUNEQyxtQkFBbUJDLGdCQUFnQixFQUFFO1FBQ2pDLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdBO0lBQzVCO0lBRUE7OztLQUdDLEdBQ0RDLGVBQWVDLFdBQVcsRUFBRTtRQUN4QixJQUFJLENBQUNBLFdBQVcsR0FBR0E7SUFDdkI7SUFFQUMsZUFBZUMsWUFBWSxFQUFFQyxVQUFVLEVBQUU7UUFDckMsSUFBSTtZQUNBQyxRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSztZQUVqQixJQUFJTCxjQUFjO2dCQUNkLE1BQU1NLGtCQUFrQixDQUFDQztvQkFDckIsS0FBSyxNQUFNLENBQUNDLEtBQUtDLEtBQUssSUFBSUMsT0FBT0MsT0FBTyxDQUFDSixjQUFlO3dCQUNwRCxxRUFBcUU7d0JBQ3JFLE1BQU1LLFFBQVFILEtBQUtJLGNBQWMsQ0FBQyxXQUFXSixLQUFLRyxLQUFLLEdBQUc7d0JBQzFELE1BQU1FLGFBQWFMLEtBQUtJLGNBQWMsQ0FBQyxnQkFBZ0JKLEtBQUtLLFVBQVUsR0FBRzt3QkFDekUsTUFBTUMsUUFBUSxJQUFJQyxNQUFNUixLQUFLSSxPQUFPRSxZQUFZLElBQUksQ0FBQ3RCLGFBQWE7d0JBQ2xFLElBQUksQ0FBQ1ksTUFBTSxDQUFDYSxHQUFHLENBQUNULEtBQUtPO3dCQUVyQixJQUFJTixLQUFLUyxVQUFVLEVBQUU7NEJBQ2pCWixnQkFBZ0JHLEtBQUtTLFVBQVU7d0JBQ25D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RyxJQUFJLENBQUNBLGFBQWEsQ0FBQ3lELFdBQVcsQ0FBQyxlQUFlLE9BQU87UUFDOUYsT0FBTyxJQUFLLENBQUNFLEVBQUUsR0FBRyxJQUFJLENBQUNDLFFBQVEsR0FBSUU7SUFDdkM7SUE5QkFYLFlBQVlZLElBQUksRUFBRTNDLFFBQVEsSUFBSSxFQUFFdUMsS0FBSyxJQUFJLEVBQUUzRCxnQkFBZ0IsSUFBSSxDQUFFO1FBQzdELElBQUksQ0FBQytELElBQUksR0FBR0E7UUFDWixJQUFJLENBQUMzQyxLQUFLLEdBQUdBLFVBQVUsT0FBT0EsUUFBUTtRQUN0QyxJQUFJLENBQUN1QyxFQUFFLEdBQUdBLE9BQU8sT0FBT0EsS0FBSztRQUM3QixJQUFJLENBQUMzRCxhQUFhLEdBQUdBO1FBQ3JCLElBQUksQ0FBQzRELFFBQVEsR0FBRyxJQUFJLENBQUNMLGdCQUFnQixDQUFDLElBQUksQ0FBQ25DLEtBQUs7SUFDcEQ7QUF5Qko7QUFFQSxJQUFJLElBQTZCLEVBQUU0QyxPQUFPbEUsWUFBWSxHQUFHQTtBQUV6RCxvQkFBb0I7QUFDVyIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFxzeXN0ZW1zXFxTa2lsbE1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2tpbGxNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2tpbGxzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubmV3bHlVbmxvY2tlZEFjdGlvbnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5jb25maWdNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnVpTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmV2ZW50U3lzdGVtID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29uZmlndXJhdGlvbiBtYW5hZ2VyIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtDb25maWdNYW5hZ2VyfSBjb25maWdNYW5hZ2VyIC0gVGhlIGNvbmZpZ3VyYXRpb24gbWFuYWdlciBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXRDb25maWdNYW5hZ2VyKGNvbmZpZ01hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBjb25maWdNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBVSSBtYW5hZ2VyIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtVSU1hbmFnZXJ9IHVpTWFuYWdlciAtIFRoZSBVSSBtYW5hZ2VyIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHNldFVJTWFuYWdlcih1aU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLnVpTWFuYWdlciA9IHVpTWFuYWdlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgaW52ZW50b3J5IG1hbmFnZXIgcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge0ludmVudG9yeU1hbmFnZXJ9IGludmVudG9yeU1hbmFnZXIgLSBUaGUgaW52ZW50b3J5IG1hbmFnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgc2V0SW52ZW50b3J5U3lzdGVtKGludmVudG9yeU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmludmVudG9yeU1hbmFnZXIgPSBpbnZlbnRvcnlNYW5hZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBldmVudCBzeXN0ZW0gcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50U3lzdGVtfSBldmVudFN5c3RlbSAtIFRoZSBldmVudCBzeXN0ZW0gaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgc2V0RXZlbnRTeXN0ZW0oZXZlbnRTeXN0ZW0pIHtcclxuICAgICAgICB0aGlzLmV2ZW50U3lzdGVtID0gZXZlbnRTeXN0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEZyb21Db25maWcoc2tpbGxzQ29uZmlnLCBnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgc2tpbGxzLi4uJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxzLmNsZWFyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2tpbGxzQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzQ2F0ZWdvcnkgPSAoY2F0ZWdvcnlEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBkYXRhXSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeURhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBza2lsbCB3aXRoIGRlZmF1bHQgdmFsdWVzIGlmIGxldmVsL2V4cGVyaWVuY2Ugbm90IHNwZWNpZmllZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IGRhdGEuaGFzT3duUHJvcGVydHkoJ2xldmVsJykgPyBkYXRhLmxldmVsIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZXJpZW5jZSA9IGRhdGEuaGFzT3duUHJvcGVydHkoJ2V4cGVyaWVuY2UnKSA/IGRhdGEuZXhwZXJpZW5jZSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsID0gbmV3IFNraWxsKGtleSwgbGV2ZWwsIGV4cGVyaWVuY2UsIHRoaXMuY29uZmlnTWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpbGxzLnNldChrZXksIHNraWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Yl9za2lsbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDYXRlZ29yeShkYXRhLnN1Yl9za2lsbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIHNraWxsc0NvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDYXRlZ29yeShza2lsbHNDb25maWdbY2F0ZWdvcnldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYExvYWRlZCAke3RoaXMuc2tpbGxzLnNpemV9IHNraWxsc2ApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2tpbGxzOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2tpbGwoc2tpbGxOYW1lLCBza2lsbCkge1xyXG4gICAgICAgIHRoaXMuc2tpbGxzLnNldChza2lsbE5hbWUsIHNraWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTa2lsbChza2lsbE5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5za2lsbHMuZ2V0KHNraWxsTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2tpbGxYcChza2lsbE5hbWUsIHhwQW1vdW50KSB7XHJcbiAgICAgICAgY29uc3Qgc2tpbGwgPSB0aGlzLnNraWxscy5nZXQoc2tpbGxOYW1lKTtcclxuICAgICAgICBpZiAoc2tpbGwpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJvbUxldmVsID0gc2tpbGwubGV2ZWw7XHJcbiAgICAgICAgICAgIGNvbnN0IGxldmVsVXBzID0gc2tpbGwuYWRkWHAoeHBBbW91bnQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGxldmVsVXBzID4gMCAmJiB0aGlzLnVpTWFuYWdlciAmJiB0aGlzLmNvbmZpZ01hbmFnZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0TWVzc2FnZSgnbGV2ZWxVcCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBza2lsbE5hbWU6IHNraWxsTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogc2tpbGwubGV2ZWxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51aU1hbmFnZXIuYWRkTmFycmF0aW9uTWVzc2FnZShtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRW1pdCBza2lsbCBsZXZlbCB1cCBldmVudCBmb3IgYWNoaWV2ZW1lbnQgdHJhY2tpbmdcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50U3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5lbWl0KCdza2lsbDpsZXZlbFVwJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbE5hbWU6IHNraWxsTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkTGV2ZWw6IGZyb21MZXZlbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TGV2ZWw6IHNraWxsLmxldmVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbFVwczogbGV2ZWxVcHNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGxldmVsVXBzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGxTa2lsbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5za2lsbHMudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrRm9yTmV3VW5sb2Nrcyhza2lsbE5hbWUsIGZyb21MZXZlbCwgdG9MZXZlbCkge1xyXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IEFjdGlvbk1hbmFnZXJcclxuICAgIH1cclxufVxyXG5cclxuLy8gU2tpbGwgY2xhc3MgZm9yIG1hbmFnaW5nIGluZGl2aWR1YWwgc2tpbGxzXHJcbmNsYXNzIFNraWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGxldmVsID0gbnVsbCwgeHAgPSBudWxsLCBjb25maWdNYW5hZ2VyID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsICE9PSBudWxsID8gbGV2ZWwgOiAxO1xyXG4gICAgICAgIHRoaXMueHAgPSB4cCAhPT0gbnVsbCA/IHhwIDogMDtcclxuICAgICAgICB0aGlzLmNvbmZpZ01hbmFnZXIgPSBjb25maWdNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMueHBUb05leHQgPSB0aGlzLmdldFhwVG9OZXh0TGV2ZWwodGhpcy5sZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0WHBUb05leHRMZXZlbChsZXZlbCkge1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSB0aGlzLmNvbmZpZ01hbmFnZXIgPyB0aGlzLmNvbmZpZ01hbmFnZXIuZ2V0Q29uc3RhbnQoJ3hwTXVsdGlwbGllcicsIDEwMCkgOiAxMDA7XHJcbiAgICAgICAgcmV0dXJuIGxldmVsICogbXVsdGlwbGllcjtcclxuICAgIH1cclxuXHJcbiAgICBhZGRYcChhbW91bnQpIHtcclxuICAgICAgICB0aGlzLnhwICs9IGFtb3VudDtcclxuICAgICAgICBsZXQgbGV2ZWxVcHMgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdoaWxlICh0aGlzLnhwID49IHRoaXMueHBUb05leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbCsrO1xyXG4gICAgICAgICAgICB0aGlzLnhwIC09IHRoaXMueHBUb05leHQ7XHJcbiAgICAgICAgICAgIHRoaXMueHBUb05leHQgPSB0aGlzLmdldFhwVG9OZXh0TGV2ZWwodGhpcy5sZXZlbCk7XHJcbiAgICAgICAgICAgIGxldmVsVXBzKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBsZXZlbFVwcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9ncmVzcygpIHtcclxuICAgICAgICBjb25zdCBwcm9ncmVzc01heCA9IHRoaXMuY29uZmlnTWFuYWdlciA/IHRoaXMuY29uZmlnTWFuYWdlci5nZXRDb25zdGFudCgncHJvZ3Jlc3NNYXgnLCAxMDApIDogMTAwO1xyXG4gICAgICAgIHJldHVybiAodGhpcy54cCAvIHRoaXMueHBUb05leHQpICogcHJvZ3Jlc3NNYXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LlNraWxsTWFuYWdlciA9IFNraWxsTWFuYWdlcjtcclxuXHJcbi8vIEVTIE1vZHVsZSBleHBvcnRzXHJcbmV4cG9ydCB7IFNraWxsTWFuYWdlciwgU2tpbGwgfTsgIl0sIm5hbWVzIjpbIlNraWxsTWFuYWdlciIsInNldENvbmZpZ01hbmFnZXIiLCJjb25maWdNYW5hZ2VyIiwic2V0VUlNYW5hZ2VyIiwidWlNYW5hZ2VyIiwic2V0SW52ZW50b3J5U3lzdGVtIiwiaW52ZW50b3J5TWFuYWdlciIsInNldEV2ZW50U3lzdGVtIiwiZXZlbnRTeXN0ZW0iLCJsb2FkRnJvbUNvbmZpZyIsInNraWxsc0NvbmZpZyIsImdhbWVDb25maWciLCJjb25zb2xlIiwibG9nIiwic2tpbGxzIiwiY2xlYXIiLCJwcm9jZXNzQ2F0ZWdvcnkiLCJjYXRlZ29yeURhdGEiLCJrZXkiLCJkYXRhIiwiT2JqZWN0IiwiZW50cmllcyIsImxldmVsIiwiaGFzT3duUHJvcGVydHkiLCJleHBlcmllbmNlIiwic2tpbGwiLCJTa2lsbCIsInNldCIsInN1Yl9za2lsbHMiLCJjYXRlZ29yeSIsInNpemUiLCJlcnJvciIsImFkZFNraWxsIiwic2tpbGxOYW1lIiwiZ2V0U2tpbGwiLCJnZXQiLCJhZGRTa2lsbFhwIiwieHBBbW91bnQiLCJmcm9tTGV2ZWwiLCJsZXZlbFVwcyIsImFkZFhwIiwibWVzc2FnZSIsImdldE1lc3NhZ2UiLCJhZGROYXJyYXRpb25NZXNzYWdlIiwiZW1pdCIsIm9sZExldmVsIiwibmV3TGV2ZWwiLCJnZXRBbGxTa2lsbHMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJjaGVja0Zvck5ld1VubG9ja3MiLCJ0b0xldmVsIiwiY29uc3RydWN0b3IiLCJNYXAiLCJuZXdseVVubG9ja2VkQWN0aW9ucyIsIlNldCIsImdldFhwVG9OZXh0TGV2ZWwiLCJtdWx0aXBsaWVyIiwiZ2V0Q29uc3RhbnQiLCJhbW91bnQiLCJ4cCIsInhwVG9OZXh0IiwiZ2V0UHJvZ3Jlc3MiLCJwcm9ncmVzc01heCIsIm5hbWUiLCJ3aW5kb3ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/systems/SkillManager.js\n"));

/***/ })

}]);