/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CGitHub%5C%5CSelf%5C%5Ctaverns%5C%5Csrc%5C%5Ccomponents%5C%5Cgame%5C%5CGameInterface.tsx%22%2C%22ids%22%3A%5B%22GameInterface%22%5D%7D&server=false!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CGitHub%5C%5CSelf%5C%5Ctaverns%5C%5Csrc%5C%5Ccomponents%5C%5Cgame%5C%5CGameInterface.tsx%22%2C%22ids%22%3A%5B%22GameInterface%22%5D%7D&server=false! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/game/GameInterface.tsx */ \"(app-pages-browser)/./src/components/game/GameInterface.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q0dpdEh1YiU1QyU1Q1NlbGYlNUMlNUN0YXZlcm5zJTVDJTVDc3JjJTVDJTVDY29tcG9uZW50cyU1QyU1Q2dhbWUlNUMlNUNHYW1lSW50ZXJmYWNlLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMkdhbWVJbnRlcmZhY2UlMjIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSx3TUFBMkkiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIkdhbWVJbnRlcmZhY2VcIl0gKi8gXCJDOlxcXFxHaXRIdWJcXFxcU2VsZlxcXFx0YXZlcm5zXFxcXHNyY1xcXFxjb21wb25lbnRzXFxcXGdhbWVcXFxcR2FtZUludGVyZmFjZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CGitHub%5C%5CSelf%5C%5Ctaverns%5C%5Csrc%5C%5Ccomponents%5C%5Cgame%5C%5CGameInterface.tsx%22%2C%22ids%22%3A%5B%22GameInterface%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      \"react-stack-bottom-frame\": function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React[\"react-stack-bottom-frame\"].bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self\n    ) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFnRDtBQUNoRSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0EsZ0NBQWdDLGtDQUFrQyxPQUFPO0FBQ3pFO0FBQ0EsZ0dBQWdHLFNBQVMsVUFBVSxzRkFBc0YsYUFBYSxVQUFVLFVBQVU7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQU8sQ0FBQyxzR0FBMEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQixJQUFJLGNBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHIiwic291cmNlcyI6WyJDOlxcR2l0SHViXFxTZWxmXFx0YXZlcm5zXFxub2RlX21vZHVsZXNcXG5leHRcXGRpc3RcXGNvbXBpbGVkXFxyZWFjdFxcY2pzXFxyZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFza05hbWUodHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHJldHVybiBcIjw+XCI7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFXG4gICAgICApXG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgPyBcIjxcIiArIG5hbWUgKyBcIj5cIiA6IFwiPC4uLj5cIjtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiPC4uLj5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVua25vd25Pd25lcigpIHtcbiAgICAgIHJldHVybiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQoXG4gICAgICB0eXBlLFxuICAgICAga2V5LFxuICAgICAgc2VsZixcbiAgICAgIHNvdXJjZSxcbiAgICAgIG93bmVyLFxuICAgICAgcHJvcHMsXG4gICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgZGVidWdUYXNrXG4gICAgKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZixcbiAgICAgIGRlYnVnU3RhY2ssXG4gICAgICBkZWJ1Z1Rhc2tcbiAgICApIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dKTtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbik7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBzZWxmLFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGdldE93bmVyKCksXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgICBkZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgIG5vZGUuX3N0b3JlICYmXG4gICAgICAgIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik7XG4gICAgdmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgY3JlYXRlVGFzayA9IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA/IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH07XG4gICAgUmVhY3QgPSB7XG4gICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoY2FsbFN0YWNrRm9yRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxTdGFja0ZvckVycm9yKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdTdGFjayA9IFJlYWN0W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoXG4gICAgICBSZWFjdCxcbiAgICAgIFVua25vd25Pd25lclxuICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgdmFyIHRyYWNrQWN0dWFsT3duZXIgPVxuICAgICAgICAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgc2VsZixcbiAgICAgICAgdHJhY2tBY3R1YWxPd25lclxuICAgICAgICAgID8gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIilcbiAgICAgICAgICA6IHVua25vd25Pd25lckRlYnVnU3RhY2ssXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXIgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICB9KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIkM6XFxHaXRIdWJcXFNlbGZcXHRhdmVybnNcXG5vZGVfbW9kdWxlc1xcbmV4dFxcZGlzdFxcY29tcGlsZWRcXHJlYWN0XFxqc3gtZGV2LXJ1bnRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/game/GameInterface.tsx":
/*!***********************************************!*\
  !*** ./src/components/game/GameInterface.tsx ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameInterface: () => (/* binding */ GameInterface)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_game_engine_GameEngineWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/game-engine/GameEngineWrapper */ \"(app-pages-browser)/./src/lib/game-engine/GameEngineWrapper.ts\");\n/* __next_internal_client_entry_do_not_use__ GameInterface auto */ \nvar _s = $RefreshSig$();\n\n\n// Lazy load components for better performance\nconst NarrationPanel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_src_components_game_NarrationPanel_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./NarrationPanel */ \"(app-pages-browser)/./src/components/game/NarrationPanel.tsx\")).then((module)=>({\n            default: module.NarrationPanel\n        })));\n_c = NarrationPanel;\nconst ActionsPanel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_src_components_game_ActionsPanel_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./ActionsPanel */ \"(app-pages-browser)/./src/components/game/ActionsPanel.tsx\")).then((module)=>({\n            default: module.ActionsPanel\n        })));\n_c1 = ActionsPanel;\nconst SidebarPanel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.lazy)(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_src_components_game_SidebarPanel_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! ./SidebarPanel */ \"(app-pages-browser)/./src/components/game/SidebarPanel.tsx\")).then((module)=>({\n            default: module.SidebarPanel\n        })));\n_c2 = SidebarPanel;\n// Loading component for lazy-loaded panels\nfunction PanelLoading() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"animate-pulse\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"h-4 bg-gray-300 rounded w-1/2 mb-2\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                    lineNumber: 32,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"h-3 bg-gray-300 rounded w-3/4\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                    lineNumber: 33,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n            lineNumber: 31,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n        lineNumber: 30,\n        columnNumber: 5\n    }, this);\n}\n_c3 = PanelLoading;\nfunction GameInterface() {\n    _s();\n    const [engine, setEngine] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameState, setGameState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Initialize game engine\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GameInterface.useEffect\": ()=>{\n            const initializeEngine = {\n                \"GameInterface.useEffect.initializeEngine\": async ()=>{\n                    try {\n                        const gameEngine = new _lib_game_engine_GameEngineWrapper__WEBPACK_IMPORTED_MODULE_2__.GameEngineWrapper();\n                        await gameEngine.init();\n                        // Set up event listeners for game state changes\n                        gameEngine.on('state:changed', {\n                            \"GameInterface.useEffect.initializeEngine\": (data)=>{\n                                updateGameState(gameEngine);\n                            }\n                        }[\"GameInterface.useEffect.initializeEngine\"]);\n                        gameEngine.on('message:add', {\n                            \"GameInterface.useEffect.initializeEngine\": (message)=>{\n                                setMessages({\n                                    \"GameInterface.useEffect.initializeEngine\": (prev)=>[\n                                            ...prev,\n                                            {\n                                                id: Date.now(),\n                                                text: message.text,\n                                                type: message.type || 'system',\n                                                timestamp: new Date()\n                                            }\n                                        ]\n                                }[\"GameInterface.useEffect.initializeEngine\"]);\n                            }\n                        }[\"GameInterface.useEffect.initializeEngine\"]);\n                        // Load initial game state\n                        updateGameState(gameEngine);\n                        // Add welcome messages\n                        setMessages([\n                            {\n                                id: 1,\n                                text: \"Welcome to Taverns and Treasures! Your adventure begins in a small village tavern.\",\n                                type: 'story',\n                                timestamp: new Date()\n                            },\n                            {\n                                id: 2,\n                                text: \"The innkeeper looks at you with curiosity. What will you do?\",\n                                type: 'story',\n                                timestamp: new Date()\n                            }\n                        ]);\n                        setEngine(gameEngine);\n                        setIsLoading(false);\n                    } catch (err) {\n                        setError(err instanceof Error ? err.message : 'Failed to initialize game engine');\n                        setIsLoading(false);\n                    }\n                }\n            }[\"GameInterface.useEffect.initializeEngine\"];\n            initializeEngine();\n        }\n    }[\"GameInterface.useEffect\"], []);\n    const updateGameState = (gameEngine)=>{\n        try {\n            const newState = {\n                skills: gameEngine.getSkills(),\n                inventory: gameEngine.getInventory(),\n                achievements: gameEngine.getAchievements(),\n                location: 'village_tavern',\n                messages: messages\n            };\n            setGameState(newState);\n        } catch (error) {\n            console.error('Failed to update game state:', error);\n        }\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full min-h-screen flex items-center justify-center bg-background text-foreground font-mono dark\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: \"Loading game...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                lineNumber: 115,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n            lineNumber: 114,\n            columnNumber: 7\n        }, this);\n    }\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full min-h-screen flex items-center justify-center bg-background text-foreground font-mono dark\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-red-500\",\n                children: [\n                    \"Error: \",\n                    error\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                lineNumber: 123,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n            lineNumber: 122,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full min-h-screen flex flex-row bg-background text-foreground font-mono dark\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 p-2 max-w-xs\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PanelLoading, {}, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 131,\n                        columnNumber: 29\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NarrationPanel, {\n                        gameState: gameState\n                    }, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                    lineNumber: 131,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                lineNumber: 130,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-[2] p-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PanelLoading, {}, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 136,\n                        columnNumber: 29\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActionsPanel, {\n                        engine: engine,\n                        gameState: gameState,\n                        setGameState: setGameState\n                    }, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                    lineNumber: 136,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                lineNumber: 135,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 p-2 max-w-xs\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                    fallback: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PanelLoading, {}, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 141,\n                        columnNumber: 29\n                    }, void 0),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SidebarPanel, {\n                        gameState: gameState\n                    }, void 0, false, {\n                        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                        lineNumber: 142,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                    lineNumber: 141,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n                lineNumber: 140,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\GitHub\\\\Self\\\\taverns\\\\src\\\\components\\\\game\\\\GameInterface.tsx\",\n        lineNumber: 129,\n        columnNumber: 5\n    }, this);\n}\n_s(GameInterface, \"qD1kWSTGLPHiD4XaVGYCn/k6TFQ=\");\n_c4 = GameInterface;\nvar _c, _c1, _c2, _c3, _c4;\n$RefreshReg$(_c, \"NarrationPanel\");\n$RefreshReg$(_c1, \"ActionsPanel\");\n$RefreshReg$(_c2, \"SidebarPanel\");\n$RefreshReg$(_c3, \"PanelLoading\");\n$RefreshReg$(_c4, \"GameInterface\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2dhbWUvR2FtZUludGVyZmFjZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUU0RDtBQUVZO0FBRXhFLDhDQUE4QztBQUM5QyxNQUFNSywrQkFBaUJGLDJDQUFJQSxDQUFDLElBQU0sOE9BQTBCLENBQUNHLElBQUksQ0FBQ0MsQ0FBQUEsU0FBVztZQUFFQyxTQUFTRCxPQUFPRixjQUFjO1FBQUM7S0FBeEdBO0FBQ04sTUFBTUksNkJBQWVOLDJDQUFJQSxDQUFDLElBQU0sd09BQXdCLENBQUNHLElBQUksQ0FBQ0MsQ0FBQUEsU0FBVztZQUFFQyxTQUFTRCxPQUFPRSxZQUFZO1FBQUM7TUFBbEdBO0FBQ04sTUFBTUMsNkJBQWVQLDJDQUFJQSxDQUFDLElBQU0sd09BQXdCLENBQUNHLElBQUksQ0FBQ0MsQ0FBQUEsU0FBVztZQUFFQyxTQUFTRCxPQUFPRyxZQUFZO1FBQUM7TUFBbEdBO0FBaUJOLDJDQUEyQztBQUMzQyxTQUFTQztJQUNQLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0Q7b0JBQUlDLFdBQVU7Ozs7Ozs4QkFDZiw4REFBQ0Q7b0JBQUlDLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSXZCO01BVFNGO0FBV0YsU0FBU0c7O0lBQ2QsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdoQiwrQ0FBUUEsQ0FBMkI7SUFDL0QsTUFBTSxDQUFDaUIsV0FBV0MsYUFBYSxHQUFHbEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDbUIsT0FBT0MsU0FBUyxHQUFHcEIsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ3FCLFdBQVdDLGFBQWEsR0FBR3RCLCtDQUFRQSxDQUFtQjtJQUM3RCxNQUFNLENBQUN1QixVQUFVQyxZQUFZLEdBQUd4QiwrQ0FBUUEsQ0FBbUUsRUFBRTtJQUU3Ryx5QkFBeUI7SUFDekJDLGdEQUFTQTttQ0FBQztZQUNSLE1BQU13Qjs0REFBbUI7b0JBQ3ZCLElBQUk7d0JBQ0YsTUFBTUMsYUFBYSxJQUFJdEIsaUZBQWlCQTt3QkFDeEMsTUFBTXNCLFdBQVdDLElBQUk7d0JBRXJCLGdEQUFnRDt3QkFDaERELFdBQVdFLEVBQUUsQ0FBQzt3RUFBaUIsQ0FBQ0M7Z0NBQzlCQyxnQkFBZ0JKOzRCQUNsQjs7d0JBRUFBLFdBQVdFLEVBQUUsQ0FBQzt3RUFBZSxDQUFDRztnQ0FDNUJQO2dGQUFZUSxDQUFBQSxPQUFROytDQUFJQTs0Q0FBTTtnREFDNUJDLElBQUlDLEtBQUtDLEdBQUc7Z0RBQ1pDLE1BQU1MLFFBQVFLLElBQUk7Z0RBQ2xCQyxNQUFNLFFBQVNBLElBQUksSUFBc0Q7Z0RBQ3pFQyxXQUFXLElBQUlKOzRDQUNqQjt5Q0FBRTs7NEJBQ0o7O3dCQUVBLDBCQUEwQjt3QkFDMUJKLGdCQUFnQko7d0JBRWhCLHVCQUF1Qjt3QkFDdkJGLFlBQVk7NEJBQ1Y7Z0NBQ0VTLElBQUk7Z0NBQ0pHLE1BQU07Z0NBQ05DLE1BQU07Z0NBQ05DLFdBQVcsSUFBSUo7NEJBQ2pCOzRCQUNBO2dDQUNFRCxJQUFJO2dDQUNKRyxNQUFNO2dDQUNOQyxNQUFNO2dDQUNOQyxXQUFXLElBQUlKOzRCQUNqQjt5QkFDRDt3QkFFRGxCLFVBQVVVO3dCQUNWUixhQUFhO29CQUNmLEVBQUUsT0FBT3FCLEtBQUs7d0JBQ1puQixTQUFTbUIsZUFBZUMsUUFBUUQsSUFBSVIsT0FBTyxHQUFHO3dCQUM5Q2IsYUFBYTtvQkFDZjtnQkFDRjs7WUFFQU87UUFDRjtrQ0FBRyxFQUFFO0lBRUwsTUFBTUssa0JBQWtCLENBQUNKO1FBQ3ZCLElBQUk7WUFDRixNQUFNZSxXQUFzQjtnQkFDMUJDLFFBQVFoQixXQUFXaUIsU0FBUztnQkFDNUJDLFdBQVdsQixXQUFXbUIsWUFBWTtnQkFDbENDLGNBQWNwQixXQUFXcUIsZUFBZTtnQkFDeENDLFVBQVU7Z0JBQ1Z6QixVQUFVQTtZQUNaO1lBQ0FELGFBQWFtQjtRQUNmLEVBQUUsT0FBT3RCLE9BQU87WUFDZDhCLFFBQVE5QixLQUFLLENBQUMsZ0NBQWdDQTtRQUNoRDtJQUNGO0lBRUEsSUFBSUYsV0FBVztRQUNiLHFCQUNFLDhEQUFDTDtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDswQkFBSTs7Ozs7Ozs7Ozs7SUFHWDtJQUVBLElBQUlPLE9BQU87UUFDVCxxQkFDRSw4REFBQ1A7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O29CQUFlO29CQUFRTTs7Ozs7Ozs7Ozs7O0lBRzVDO0lBRUEscUJBQ0UsOERBQUNQO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ1gsMkNBQVFBO29CQUFDZ0Qsd0JBQVUsOERBQUN2Qzs7Ozs7OEJBQ25CLDRFQUFDTjt3QkFBZWdCLFdBQVdBOzs7Ozs7Ozs7Ozs7Ozs7OzBCQUcvQiw4REFBQ1Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNYLDJDQUFRQTtvQkFBQ2dELHdCQUFVLDhEQUFDdkM7Ozs7OzhCQUNuQiw0RUFBQ0Y7d0JBQWFNLFFBQVFBO3dCQUFRTSxXQUFXQTt3QkFBV0MsY0FBY0E7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBR3RFLDhEQUFDVjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ1gsMkNBQVFBO29CQUFDZ0Qsd0JBQVUsOERBQUN2Qzs7Ozs7OEJBQ25CLDRFQUFDRDt3QkFBYVcsV0FBV0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbkM7R0E1R2dCUDtNQUFBQSIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxjb21wb25lbnRzXFxnYW1lXFxHYW1lSW50ZXJmYWNlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIFN1c3BlbnNlLCBsYXp5IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcclxuaW1wb3J0IHsgR2FtZUVuZ2luZVdyYXBwZXIgfSBmcm9tIFwiQC9saWIvZ2FtZS1lbmdpbmUvR2FtZUVuZ2luZVdyYXBwZXJcIjtcclxuXHJcbi8vIExhenkgbG9hZCBjb21wb25lbnRzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcclxuY29uc3QgTmFycmF0aW9uUGFuZWwgPSBsYXp5KCgpID0+IGltcG9ydChcIi4vTmFycmF0aW9uUGFuZWxcIikudGhlbihtb2R1bGUgPT4gKHsgZGVmYXVsdDogbW9kdWxlLk5hcnJhdGlvblBhbmVsIH0pKSk7XHJcbmNvbnN0IEFjdGlvbnNQYW5lbCA9IGxhenkoKCkgPT4gaW1wb3J0KFwiLi9BY3Rpb25zUGFuZWxcIikudGhlbihtb2R1bGUgPT4gKHsgZGVmYXVsdDogbW9kdWxlLkFjdGlvbnNQYW5lbCB9KSkpO1xyXG5jb25zdCBTaWRlYmFyUGFuZWwgPSBsYXp5KCgpID0+IGltcG9ydChcIi4vU2lkZWJhclBhbmVsXCIpLnRoZW4obW9kdWxlID0+ICh7IGRlZmF1bHQ6IG1vZHVsZS5TaWRlYmFyUGFuZWwgfSkpKTtcclxuXHJcbmludGVyZmFjZSBHYW1lTWVzc2FnZSB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICB0ZXh0OiBzdHJpbmc7XHJcbiAgdHlwZTogJ2FjdGlvbicgfCAnc3RvcnknIHwgJ3N5c3RlbScgfCAnYWNoaWV2ZW1lbnQnO1xyXG4gIHRpbWVzdGFtcDogRGF0ZTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEdhbWVTdGF0ZSB7XHJcbiAgc2tpbGxzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcbiAgaW52ZW50b3J5PzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XHJcbiAgYWNoaWV2ZW1lbnRzPzogdW5rbm93bltdO1xyXG4gIGxvY2F0aW9uPzogc3RyaW5nO1xyXG4gIG1lc3NhZ2VzPzogR2FtZU1lc3NhZ2VbXTtcclxufVxyXG5cclxuLy8gTG9hZGluZyBjb21wb25lbnQgZm9yIGxhenktbG9hZGVkIHBhbmVsc1xyXG5mdW5jdGlvbiBQYW5lbExvYWRpbmcoKSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1wdWxzZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC00IGJnLWdyYXktMzAwIHJvdW5kZWQgdy0xLzIgbWItMlwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0zIGJnLWdyYXktMzAwIHJvdW5kZWQgdy0zLzRcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2FtZUludGVyZmFjZSgpIHtcclxuICBjb25zdCBbZW5naW5lLCBzZXRFbmdpbmVdID0gdXNlU3RhdGU8R2FtZUVuZ2luZVdyYXBwZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZ2FtZVN0YXRlLCBzZXRHYW1lU3RhdGVdID0gdXNlU3RhdGU8R2FtZVN0YXRlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxBcnJheTx7aWQ6IG51bWJlciwgdGV4dDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIHRpbWVzdGFtcDogRGF0ZX0+PihbXSk7XHJcblxyXG4gIC8vIEluaXRpYWxpemUgZ2FtZSBlbmdpbmVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaW5pdGlhbGl6ZUVuZ2luZSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBnYW1lRW5naW5lID0gbmV3IEdhbWVFbmdpbmVXcmFwcGVyKCk7XHJcbiAgICAgICAgYXdhaXQgZ2FtZUVuZ2luZS5pbml0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZ2FtZSBzdGF0ZSBjaGFuZ2VzXHJcbiAgICAgICAgZ2FtZUVuZ2luZS5vbignc3RhdGU6Y2hhbmdlZCcsIChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgIHVwZGF0ZUdhbWVTdGF0ZShnYW1lRW5naW5lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ2FtZUVuZ2luZS5vbignbWVzc2FnZTphZGQnLCAobWVzc2FnZTogYW55KSA9PiB7XHJcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XHJcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLnRleHQsXHJcbiAgICAgICAgICAgIHR5cGU6IChtZXNzYWdlLnR5cGUgYXMgJ2FjdGlvbicgfCAnc3RvcnknIHwgJ3N5c3RlbScgfCAnYWNoaWV2ZW1lbnQnKSB8fCAnc3lzdGVtJyxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCBnYW1lIHN0YXRlXHJcbiAgICAgICAgdXBkYXRlR2FtZVN0YXRlKGdhbWVFbmdpbmUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCB3ZWxjb21lIG1lc3NhZ2VzXHJcbiAgICAgICAgc2V0TWVzc2FnZXMoW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZDogMSxcclxuICAgICAgICAgICAgdGV4dDogXCJXZWxjb21lIHRvIFRhdmVybnMgYW5kIFRyZWFzdXJlcyEgWW91ciBhZHZlbnR1cmUgYmVnaW5zIGluIGEgc21hbGwgdmlsbGFnZSB0YXZlcm4uXCIsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzdG9yeScgYXMgY29uc3QsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaWQ6IDIsXHJcbiAgICAgICAgICAgIHRleHQ6IFwiVGhlIGlubmtlZXBlciBsb29rcyBhdCB5b3Ugd2l0aCBjdXJpb3NpdHkuIFdoYXQgd2lsbCB5b3UgZG8/XCIsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzdG9yeScgYXMgY29uc3QsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICBzZXRFbmdpbmUoZ2FtZUVuZ2luZSk7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBnYW1lIGVuZ2luZScpO1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaW5pdGlhbGl6ZUVuZ2luZSgpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgdXBkYXRlR2FtZVN0YXRlID0gKGdhbWVFbmdpbmU6IEdhbWVFbmdpbmVXcmFwcGVyKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBuZXdTdGF0ZTogR2FtZVN0YXRlID0ge1xyXG4gICAgICAgIHNraWxsczogZ2FtZUVuZ2luZS5nZXRTa2lsbHMoKSxcclxuICAgICAgICBpbnZlbnRvcnk6IGdhbWVFbmdpbmUuZ2V0SW52ZW50b3J5KCksXHJcbiAgICAgICAgYWNoaWV2ZW1lbnRzOiBnYW1lRW5naW5lLmdldEFjaGlldmVtZW50cygpLFxyXG4gICAgICAgIGxvY2F0aW9uOiAndmlsbGFnZV90YXZlcm4nLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlc1xyXG4gICAgICB9O1xyXG4gICAgICBzZXRHYW1lU3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBnYW1lIHN0YXRlOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmFja2dyb3VuZCB0ZXh0LWZvcmVncm91bmQgZm9udC1tb25vIGRhcmtcIj5cclxuICAgICAgICA8ZGl2PkxvYWRpbmcgZ2FtZS4uLjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1iYWNrZ3JvdW5kIHRleHQtZm9yZWdyb3VuZCBmb250LW1vbm8gZGFya1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+RXJyb3I6IHtlcnJvcn08L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtcm93IGJnLWJhY2tncm91bmQgdGV4dC1mb3JlZ3JvdW5kIGZvbnQtbW9ubyBkYXJrXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHAtMiBtYXgtdy14c1wiPlxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PFBhbmVsTG9hZGluZyAvPn0+XHJcbiAgICAgICAgICA8TmFycmF0aW9uUGFuZWwgZ2FtZVN0YXRlPXtnYW1lU3RhdGV9IC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1bMl0gcC0yXCI+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8UGFuZWxMb2FkaW5nIC8+fT5cclxuICAgICAgICAgIDxBY3Rpb25zUGFuZWwgZW5naW5lPXtlbmdpbmV9IGdhbWVTdGF0ZT17Z2FtZVN0YXRlfSBzZXRHYW1lU3RhdGU9e3NldEdhbWVTdGF0ZX0gLz5cclxuICAgICAgICA8L1N1c3BlbnNlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcC0yIG1heC13LXhzXCI+XHJcbiAgICAgICAgPFN1c3BlbnNlIGZhbGxiYWNrPXs8UGFuZWxMb2FkaW5nIC8+fT5cclxuICAgICAgICAgIDxTaWRlYmFyUGFuZWwgZ2FtZVN0YXRlPXtnYW1lU3RhdGV9IC8+XHJcbiAgICAgICAgPC9TdXNwZW5zZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlN1c3BlbnNlIiwibGF6eSIsIkdhbWVFbmdpbmVXcmFwcGVyIiwiTmFycmF0aW9uUGFuZWwiLCJ0aGVuIiwibW9kdWxlIiwiZGVmYXVsdCIsIkFjdGlvbnNQYW5lbCIsIlNpZGViYXJQYW5lbCIsIlBhbmVsTG9hZGluZyIsImRpdiIsImNsYXNzTmFtZSIsIkdhbWVJbnRlcmZhY2UiLCJlbmdpbmUiLCJzZXRFbmdpbmUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZ2FtZVN0YXRlIiwic2V0R2FtZVN0YXRlIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImluaXRpYWxpemVFbmdpbmUiLCJnYW1lRW5naW5lIiwiaW5pdCIsIm9uIiwiZGF0YSIsInVwZGF0ZUdhbWVTdGF0ZSIsIm1lc3NhZ2UiLCJwcmV2IiwiaWQiLCJEYXRlIiwibm93IiwidGV4dCIsInR5cGUiLCJ0aW1lc3RhbXAiLCJlcnIiLCJFcnJvciIsIm5ld1N0YXRlIiwic2tpbGxzIiwiZ2V0U2tpbGxzIiwiaW52ZW50b3J5IiwiZ2V0SW52ZW50b3J5IiwiYWNoaWV2ZW1lbnRzIiwiZ2V0QWNoaWV2ZW1lbnRzIiwibG9jYXRpb24iLCJjb25zb2xlIiwiZmFsbGJhY2siXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/game/GameInterface.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/GameEngineWrapper.ts":
/*!**************************************************!*\
  !*** ./src/lib/game-engine/GameEngineWrapper.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameEngineWrapper: () => (/* binding */ GameEngineWrapper)\n/* harmony export */ });\n/* harmony import */ var _core_GameEngine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/GameEngine.js */ \"(app-pages-browser)/./src/lib/game-engine/core/GameEngine.js\");\n\nclass GameEngineWrapper {\n    async init() {\n        try {\n            await this.engine.initialize('base-game');\n            this.isInitialized = true;\n            console.log('Game engine initialized successfully');\n        } catch (error) {\n            console.error('Failed to initialize game engine:', error);\n            throw error;\n        }\n    }\n    start() {\n        if (!this.isInitialized) {\n            throw new Error('Engine must be initialized before starting');\n        }\n        this.engine.start();\n    }\n    stop() {\n        this.engine.stop();\n    }\n    // Game state access methods\n    getGameData() {\n        return this.engine.getGameData();\n    }\n    getSystem(systemName) {\n        return this.engine.getSystem(systemName);\n    }\n    // Skills system methods\n    getSkills() {\n        const skillManager = this.engine.getSystem('skills');\n        return skillManager ? skillManager.getAllSkills() : {};\n    }\n    getSkillLevel(skillName) {\n        const skillManager = this.engine.getSystem('skills');\n        return skillManager ? skillManager.getSkillLevel(skillName) : 1;\n    }\n    // Inventory system methods\n    getInventory() {\n        const inventoryManager = this.engine.getSystem('inventory');\n        return inventoryManager ? inventoryManager.getAllItems() : {};\n    }\n    // Action system methods\n    getAvailableActions() {\n        const actionManager = this.engine.getSystem('actions');\n        return actionManager ? actionManager.getAvailableActions() : [];\n    }\n    async performAction(actionId) {\n        const actionManager = this.engine.getSystem('actions');\n        if (actionManager && actionManager.performAction) {\n            return await actionManager.performAction(actionId);\n        }\n        throw new Error('Action system not available');\n    }\n    // Achievement system methods\n    getAchievements() {\n        const achievementSystem = this.engine.getSystem('achievements');\n        return achievementSystem ? achievementSystem.getAllAchievements() : [];\n    }\n    // State persistence\n    saveGame() {\n        const stateManager = this.engine.getSystem('state');\n        if (stateManager && stateManager.save) {\n            stateManager.save();\n        }\n    }\n    loadGame() {\n        const stateManager = this.engine.getSystem('state');\n        if (stateManager && stateManager.load) {\n            return stateManager.load();\n        }\n    }\n    // Event system access\n    on(event, callback) {\n        const eventSystem = this.engine.getSystem('events');\n        if (eventSystem && eventSystem.on) {\n            eventSystem.on(event, callback);\n        }\n    }\n    off(event, callback) {\n        const eventSystem = this.engine.getSystem('events');\n        if (eventSystem && eventSystem.off) {\n            eventSystem.off(event, callback);\n        }\n    }\n    emit(event, data) {\n        const eventSystem = this.engine.getSystem('events');\n        if (eventSystem && eventSystem.emit) {\n            eventSystem.emit(event, data);\n        }\n    }\n    // Check if engine is ready\n    isReady() {\n        return this.isInitialized;\n    }\n    constructor(){\n        this.isInitialized = false;\n        this.engine = new _core_GameEngine_js__WEBPACK_IMPORTED_MODULE_0__.GameEngine();\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvR2FtZUVuZ2luZVdyYXBwZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7QUFFM0MsTUFBTUM7SUFRWCxNQUFNQyxPQUFPO1FBQ1gsSUFBSTtZQUNGLE1BQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNDLFVBQVUsQ0FBQztZQUM3QixJQUFJLENBQUNDLGFBQWEsR0FBRztZQUNyQkMsUUFBUUMsR0FBRyxDQUFDO1FBQ2QsRUFBRSxPQUFPQyxPQUFPO1lBQ2RGLFFBQVFFLEtBQUssQ0FBQyxxQ0FBcUNBO1lBQ25ELE1BQU1BO1FBQ1I7SUFDRjtJQUVBQyxRQUFRO1FBQ04sSUFBSSxDQUFDLElBQUksQ0FBQ0osYUFBYSxFQUFFO1lBQ3ZCLE1BQU0sSUFBSUssTUFBTTtRQUNsQjtRQUNBLElBQUksQ0FBQ1AsTUFBTSxDQUFDTSxLQUFLO0lBQ25CO0lBRUFFLE9BQU87UUFDTCxJQUFJLENBQUNSLE1BQU0sQ0FBQ1EsSUFBSTtJQUNsQjtJQUVBLDRCQUE0QjtJQUM1QkMsY0FBYztRQUNaLE9BQU8sSUFBSSxDQUFDVCxNQUFNLENBQUNTLFdBQVc7SUFDaEM7SUFFQUMsVUFBVUMsVUFBa0IsRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQ1gsTUFBTSxDQUFDVSxTQUFTLENBQUNDO0lBQy9CO0lBRUEsd0JBQXdCO0lBQ3hCQyxZQUFZO1FBQ1YsTUFBTUMsZUFBZSxJQUFJLENBQUNiLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDO1FBQzNDLE9BQU9HLGVBQWVBLGFBQWFDLFlBQVksS0FBSyxDQUFDO0lBQ3ZEO0lBRUFDLGNBQWNDLFNBQWlCLEVBQUU7UUFDL0IsTUFBTUgsZUFBZSxJQUFJLENBQUNiLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDO1FBQzNDLE9BQU9HLGVBQWVBLGFBQWFFLGFBQWEsQ0FBQ0MsYUFBYTtJQUNoRTtJQUVBLDJCQUEyQjtJQUMzQkMsZUFBZTtRQUNiLE1BQU1DLG1CQUFtQixJQUFJLENBQUNsQixNQUFNLENBQUNVLFNBQVMsQ0FBQztRQUMvQyxPQUFPUSxtQkFBbUJBLGlCQUFpQkMsV0FBVyxLQUFLLENBQUM7SUFDOUQ7SUFFQSx3QkFBd0I7SUFDeEJDLHNCQUFzQjtRQUNwQixNQUFNQyxnQkFBZ0IsSUFBSSxDQUFDckIsTUFBTSxDQUFDVSxTQUFTLENBQUM7UUFDNUMsT0FBT1csZ0JBQWdCQSxjQUFjRCxtQkFBbUIsS0FBSyxFQUFFO0lBQ2pFO0lBRUEsTUFBTUUsY0FBY0MsUUFBZ0IsRUFBRTtRQUNwQyxNQUFNRixnQkFBZ0IsSUFBSSxDQUFDckIsTUFBTSxDQUFDVSxTQUFTLENBQUM7UUFDNUMsSUFBSVcsaUJBQWlCQSxjQUFjQyxhQUFhLEVBQUU7WUFDaEQsT0FBTyxNQUFNRCxjQUFjQyxhQUFhLENBQUNDO1FBQzNDO1FBQ0EsTUFBTSxJQUFJaEIsTUFBTTtJQUNsQjtJQUVBLDZCQUE2QjtJQUM3QmlCLGtCQUFrQjtRQUNoQixNQUFNQyxvQkFBb0IsSUFBSSxDQUFDekIsTUFBTSxDQUFDVSxTQUFTLENBQUM7UUFDaEQsT0FBT2Usb0JBQW9CQSxrQkFBa0JDLGtCQUFrQixLQUFLLEVBQUU7SUFDeEU7SUFFQSxvQkFBb0I7SUFDcEJDLFdBQVc7UUFDVCxNQUFNQyxlQUFlLElBQUksQ0FBQzVCLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDO1FBQzNDLElBQUlrQixnQkFBZ0JBLGFBQWFDLElBQUksRUFBRTtZQUNyQ0QsYUFBYUMsSUFBSTtRQUNuQjtJQUNGO0lBRUFDLFdBQVc7UUFDVCxNQUFNRixlQUFlLElBQUksQ0FBQzVCLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDO1FBQzNDLElBQUlrQixnQkFBZ0JBLGFBQWFHLElBQUksRUFBRTtZQUNyQyxPQUFPSCxhQUFhRyxJQUFJO1FBQzFCO0lBQ0Y7SUFFQSxzQkFBc0I7SUFDdEJDLEdBQUdDLEtBQWEsRUFBRUMsUUFBa0IsRUFBRTtRQUNwQyxNQUFNQyxjQUFjLElBQUksQ0FBQ25DLE1BQU0sQ0FBQ1UsU0FBUyxDQUFDO1FBQzFDLElBQUl5QixlQUFlQSxZQUFZSCxFQUFFLEVBQUU7WUFDakNHLFlBQVlILEVBQUUsQ0FBQ0MsT0FBT0M7UUFDeEI7SUFDRjtJQUVBRSxJQUFJSCxLQUFhLEVBQUVDLFFBQWtCLEVBQUU7UUFDckMsTUFBTUMsY0FBYyxJQUFJLENBQUNuQyxNQUFNLENBQUNVLFNBQVMsQ0FBQztRQUMxQyxJQUFJeUIsZUFBZUEsWUFBWUMsR0FBRyxFQUFFO1lBQ2xDRCxZQUFZQyxHQUFHLENBQUNILE9BQU9DO1FBQ3pCO0lBQ0Y7SUFFQUcsS0FBS0osS0FBYSxFQUFFSyxJQUFVLEVBQUU7UUFDOUIsTUFBTUgsY0FBYyxJQUFJLENBQUNuQyxNQUFNLENBQUNVLFNBQVMsQ0FBQztRQUMxQyxJQUFJeUIsZUFBZUEsWUFBWUUsSUFBSSxFQUFFO1lBQ25DRixZQUFZRSxJQUFJLENBQUNKLE9BQU9LO1FBQzFCO0lBQ0Y7SUFFQSwyQkFBMkI7SUFDM0JDLFVBQVU7UUFDUixPQUFPLElBQUksQ0FBQ3JDLGFBQWE7SUFDM0I7SUFoSEFzQyxhQUFjO2FBRk50QyxnQkFBeUI7UUFHL0IsSUFBSSxDQUFDRixNQUFNLEdBQUcsSUFBSUgsMkRBQVVBO0lBQzlCO0FBK0dGIiwic291cmNlcyI6WyJDOlxcR2l0SHViXFxTZWxmXFx0YXZlcm5zXFxzcmNcXGxpYlxcZ2FtZS1lbmdpbmVcXEdhbWVFbmdpbmVXcmFwcGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdhbWVFbmdpbmUgfSBmcm9tIFwiLi9jb3JlL0dhbWVFbmdpbmUuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lRW5naW5lV3JhcHBlciB7XHJcbiAgcHJpdmF0ZSBlbmdpbmU6IGFueTsgLy8gVXNlIGFueSB0eXBlIGZvciB0aGUgSlMgZW5naW5lIHVudGlsIHdlIGhhdmUgcHJvcGVyIHR5cGVzXHJcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5lbmdpbmUgPSBuZXcgR2FtZUVuZ2luZSgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgaW5pdCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZW5naW5lLmluaXRpYWxpemUoJ2Jhc2UtZ2FtZScpO1xyXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZygnR2FtZSBlbmdpbmUgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBnYW1lIGVuZ2luZTonLCBlcnJvcik7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBtdXN0IGJlIGluaXRpYWxpemVkIGJlZm9yZSBzdGFydGluZycpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lbmdpbmUuc3RhcnQoKTtcclxuICB9XHJcblxyXG4gIHN0b3AoKSB7XHJcbiAgICB0aGlzLmVuZ2luZS5zdG9wKCk7XHJcbiAgfVxyXG5cclxuICAvLyBHYW1lIHN0YXRlIGFjY2VzcyBtZXRob2RzXHJcbiAgZ2V0R2FtZURhdGEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmdpbmUuZ2V0R2FtZURhdGEoKTtcclxuICB9XHJcblxyXG4gIGdldFN5c3RlbShzeXN0ZW1OYW1lOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oc3lzdGVtTmFtZSk7XHJcbiAgfVxyXG5cclxuICAvLyBTa2lsbHMgc3lzdGVtIG1ldGhvZHNcclxuICBnZXRTa2lsbHMoKSB7XHJcbiAgICBjb25zdCBza2lsbE1hbmFnZXIgPSB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oJ3NraWxscycpO1xyXG4gICAgcmV0dXJuIHNraWxsTWFuYWdlciA/IHNraWxsTWFuYWdlci5nZXRBbGxTa2lsbHMoKSA6IHt9O1xyXG4gIH1cclxuXHJcbiAgZ2V0U2tpbGxMZXZlbChza2lsbE5hbWU6IHN0cmluZykge1xyXG4gICAgY29uc3Qgc2tpbGxNYW5hZ2VyID0gdGhpcy5lbmdpbmUuZ2V0U3lzdGVtKCdza2lsbHMnKTtcclxuICAgIHJldHVybiBza2lsbE1hbmFnZXIgPyBza2lsbE1hbmFnZXIuZ2V0U2tpbGxMZXZlbChza2lsbE5hbWUpIDogMTtcclxuICB9XHJcblxyXG4gIC8vIEludmVudG9yeSBzeXN0ZW0gbWV0aG9kc1xyXG4gIGdldEludmVudG9yeSgpIHtcclxuICAgIGNvbnN0IGludmVudG9yeU1hbmFnZXIgPSB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oJ2ludmVudG9yeScpO1xyXG4gICAgcmV0dXJuIGludmVudG9yeU1hbmFnZXIgPyBpbnZlbnRvcnlNYW5hZ2VyLmdldEFsbEl0ZW1zKCkgOiB7fTtcclxuICB9XHJcblxyXG4gIC8vIEFjdGlvbiBzeXN0ZW0gbWV0aG9kc1xyXG4gIGdldEF2YWlsYWJsZUFjdGlvbnMoKSB7XHJcbiAgICBjb25zdCBhY3Rpb25NYW5hZ2VyID0gdGhpcy5lbmdpbmUuZ2V0U3lzdGVtKCdhY3Rpb25zJyk7XHJcbiAgICByZXR1cm4gYWN0aW9uTWFuYWdlciA/IGFjdGlvbk1hbmFnZXIuZ2V0QXZhaWxhYmxlQWN0aW9ucygpIDogW107XHJcbiAgfVxyXG5cclxuICBhc3luYyBwZXJmb3JtQWN0aW9uKGFjdGlvbklkOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGFjdGlvbk1hbmFnZXIgPSB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oJ2FjdGlvbnMnKTtcclxuICAgIGlmIChhY3Rpb25NYW5hZ2VyICYmIGFjdGlvbk1hbmFnZXIucGVyZm9ybUFjdGlvbikge1xyXG4gICAgICByZXR1cm4gYXdhaXQgYWN0aW9uTWFuYWdlci5wZXJmb3JtQWN0aW9uKGFjdGlvbklkKTtcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9uIHN5c3RlbSBub3QgYXZhaWxhYmxlJyk7XHJcbiAgfVxyXG5cclxuICAvLyBBY2hpZXZlbWVudCBzeXN0ZW0gbWV0aG9kc1xyXG4gIGdldEFjaGlldmVtZW50cygpIHtcclxuICAgIGNvbnN0IGFjaGlldmVtZW50U3lzdGVtID0gdGhpcy5lbmdpbmUuZ2V0U3lzdGVtKCdhY2hpZXZlbWVudHMnKTtcclxuICAgIHJldHVybiBhY2hpZXZlbWVudFN5c3RlbSA/IGFjaGlldmVtZW50U3lzdGVtLmdldEFsbEFjaGlldmVtZW50cygpIDogW107XHJcbiAgfVxyXG5cclxuICAvLyBTdGF0ZSBwZXJzaXN0ZW5jZVxyXG4gIHNhdmVHYW1lKCkge1xyXG4gICAgY29uc3Qgc3RhdGVNYW5hZ2VyID0gdGhpcy5lbmdpbmUuZ2V0U3lzdGVtKCdzdGF0ZScpO1xyXG4gICAgaWYgKHN0YXRlTWFuYWdlciAmJiBzdGF0ZU1hbmFnZXIuc2F2ZSkge1xyXG4gICAgICBzdGF0ZU1hbmFnZXIuc2F2ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbG9hZEdhbWUoKSB7XHJcbiAgICBjb25zdCBzdGF0ZU1hbmFnZXIgPSB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oJ3N0YXRlJyk7XHJcbiAgICBpZiAoc3RhdGVNYW5hZ2VyICYmIHN0YXRlTWFuYWdlci5sb2FkKSB7XHJcbiAgICAgIHJldHVybiBzdGF0ZU1hbmFnZXIubG9hZCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRXZlbnQgc3lzdGVtIGFjY2Vzc1xyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgY29uc3QgZXZlbnRTeXN0ZW0gPSB0aGlzLmVuZ2luZS5nZXRTeXN0ZW0oJ2V2ZW50cycpO1xyXG4gICAgaWYgKGV2ZW50U3lzdGVtICYmIGV2ZW50U3lzdGVtLm9uKSB7XHJcbiAgICAgIGV2ZW50U3lzdGVtLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvZmYoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICBjb25zdCBldmVudFN5c3RlbSA9IHRoaXMuZW5naW5lLmdldFN5c3RlbSgnZXZlbnRzJyk7XHJcbiAgICBpZiAoZXZlbnRTeXN0ZW0gJiYgZXZlbnRTeXN0ZW0ub2ZmKSB7XHJcbiAgICAgIGV2ZW50U3lzdGVtLm9mZihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZW1pdChldmVudDogc3RyaW5nLCBkYXRhPzogYW55KSB7XHJcbiAgICBjb25zdCBldmVudFN5c3RlbSA9IHRoaXMuZW5naW5lLmdldFN5c3RlbSgnZXZlbnRzJyk7XHJcbiAgICBpZiAoZXZlbnRTeXN0ZW0gJiYgZXZlbnRTeXN0ZW0uZW1pdCkge1xyXG4gICAgICBldmVudFN5c3RlbS5lbWl0KGV2ZW50LCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGVuZ2luZSBpcyByZWFkeVxyXG4gIGlzUmVhZHkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc0luaXRpYWxpemVkO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiR2FtZUVuZ2luZSIsIkdhbWVFbmdpbmVXcmFwcGVyIiwiaW5pdCIsImVuZ2luZSIsImluaXRpYWxpemUiLCJpc0luaXRpYWxpemVkIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic3RhcnQiLCJFcnJvciIsInN0b3AiLCJnZXRHYW1lRGF0YSIsImdldFN5c3RlbSIsInN5c3RlbU5hbWUiLCJnZXRTa2lsbHMiLCJza2lsbE1hbmFnZXIiLCJnZXRBbGxTa2lsbHMiLCJnZXRTa2lsbExldmVsIiwic2tpbGxOYW1lIiwiZ2V0SW52ZW50b3J5IiwiaW52ZW50b3J5TWFuYWdlciIsImdldEFsbEl0ZW1zIiwiZ2V0QXZhaWxhYmxlQWN0aW9ucyIsImFjdGlvbk1hbmFnZXIiLCJwZXJmb3JtQWN0aW9uIiwiYWN0aW9uSWQiLCJnZXRBY2hpZXZlbWVudHMiLCJhY2hpZXZlbWVudFN5c3RlbSIsImdldEFsbEFjaGlldmVtZW50cyIsInNhdmVHYW1lIiwic3RhdGVNYW5hZ2VyIiwic2F2ZSIsImxvYWRHYW1lIiwibG9hZCIsIm9uIiwiZXZlbnQiLCJjYWxsYmFjayIsImV2ZW50U3lzdGVtIiwib2ZmIiwiZW1pdCIsImRhdGEiLCJpc1JlYWR5IiwiY29uc3RydWN0b3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/GameEngineWrapper.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/core/AssetLoader.js":
/*!*************************************************!*\
  !*** ./src/lib/game-engine/core/AssetLoader.js ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssetLoader: () => (/* binding */ AssetLoader)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n/**\r\n * Asset Loader\r\n * \r\n * Handles just-in-time loading of game assets (icons, images, audio)\r\n * with intelligent caching and fallback handling.\r\n */ class AssetLoader {\n    /**\r\n     * Set the current mod for asset path resolution\r\n     * @param {Object} mod - Current mod data\r\n     */ setMod(mod) {\n        this.currentMod = mod;\n    }\n    /**\r\n     * Load an asset by type and path\r\n     * @param {string} type - Asset type (image, icon, audio, json)\r\n     * @param {string} path - Asset path relative to mod\r\n     * @param {Object} options - Loading options\r\n     * @returns {Promise} Promise that resolves to the loaded asset\r\n     */ async load(type, path) {\n        let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        const cacheKey = \"\".concat(type, \":\").concat(path);\n        // Check cache first\n        if (this.cache.has(cacheKey)) {\n            return this.cache.get(cacheKey);\n        }\n        // Check if already loading\n        if (this.loadingPromises.has(cacheKey)) {\n            return this.loadingPromises.get(cacheKey);\n        }\n        // Start loading\n        const loadPromise = this._loadAsset(type, path, options);\n        this.loadingPromises.set(cacheKey, loadPromise);\n        try {\n            const asset = await loadPromise;\n            // Cache the result\n            this._addToCache(cacheKey, asset);\n            // Remove from loading promises\n            this.loadingPromises.delete(cacheKey);\n            return asset;\n        } catch (error) {\n            // Remove from loading promises on error\n            this.loadingPromises.delete(cacheKey);\n            throw error;\n        }\n    }\n    /**\r\n     * Preload a list of assets\r\n     * @param {Array} assets - Array of {type, path, options} objects\r\n     * @returns {Promise} Promise that resolves when all assets are loaded\r\n     */ async preload(assets) {\n        const loadPromises = assets.map((asset)=>this.load(asset.type, asset.path, asset.options || {}));\n        return Promise.allSettled(loadPromises);\n    }\n    /**\r\n     * Load an icon for a specific item/skill/species\r\n     * @param {string} category - Icon category (items, skills, species)\r\n     * @param {string} name - Asset name\r\n     * @param {Object} options - Loading options\r\n     * @returns {Promise} Promise that resolves to the icon\r\n     */ async loadIcon(category, name) {\n        let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        const path = this._resolveIconPath(category, name);\n        return this.load('icon', path, options);\n    }\n    /**\r\n     * Load localized text for an asset\r\n     * @param {string} category - Text category (items, skills, species)\r\n     * @param {string} name - Asset name\r\n     * @param {string} language - Language code\r\n     * @returns {Promise} Promise that resolves to localized text\r\n     */ async loadLocalizedText(category, name) {\n        let language = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 'en';\n        const path = this._resolveLocalizationPath(category, language);\n        try {\n            var _localizationData_category;\n            const localizationData = await this.load('json', path);\n            return ((_localizationData_category = localizationData[category]) === null || _localizationData_category === void 0 ? void 0 : _localizationData_category[name]) || {};\n        } catch (error) {\n            console.warn(\"Failed to load localized text for \".concat(category, \"/\").concat(name, \" in \").concat(language, \":\"), error);\n            return {};\n        }\n    }\n    /**\r\n     * Load a JavaScript module dynamically\r\n     * @param {string} path - Path to the JavaScript file\r\n     * @param {Object} options - Loading options\r\n     * @returns {Promise} Promise that resolves when the module is loaded\r\n     */ async loadJavaScriptModule(path) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const cacheKey = \"js:\".concat(path);\n        // Check cache first\n        if (this.cache.has(cacheKey)) {\n            return this.cache.get(cacheKey);\n        }\n        // Check if already loading\n        if (this.loadingPromises.has(cacheKey)) {\n            return this.loadingPromises.get(cacheKey);\n        }\n        // Start loading\n        const loadPromise = this._loadJavaScriptModule(path, options);\n        this.loadingPromises.set(cacheKey, loadPromise);\n        try {\n            const result = await loadPromise;\n            // Cache the result\n            this._addToCache(cacheKey, result);\n            // Remove from loading promises\n            this.loadingPromises.delete(cacheKey);\n            return result;\n        } catch (error) {\n            // Remove from loading promises on error\n            this.loadingPromises.delete(cacheKey);\n            throw error;\n        }\n    }\n    /**\r\n     * Load multiple JavaScript modules\r\n     * @param {Array} modules - Array of module paths\r\n     * @param {Object} options - Loading options\r\n     * @returns {Promise} Promise that resolves when all modules are loaded\r\n     */ async loadJavaScriptModules(modules) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const loadPromises = modules.map((modulePath)=>this.loadJavaScriptModule(modulePath, options));\n        return Promise.allSettled(loadPromises);\n    }\n    /**\r\n     * Clear the asset cache\r\n     */ clearCache() {\n        this.cache.clear();\n    }\n    /**\r\n     * Get cache statistics\r\n     * @returns {Object} Cache statistics\r\n     */ getCacheStats() {\n        return {\n            size: this.cache.size,\n            maxSize: this.cacheSize,\n            loading: this.loadingPromises.size\n        };\n    }\n    // Private methods\n    async _loadAsset(type, path, options) {\n        const handler = this.handlers[type];\n        if (!handler) {\n            throw new Error(\"Unknown asset type: \".concat(type));\n        }\n        const fullPath = this._resolveAssetPath(path);\n        return handler(fullPath, options);\n    }\n    _resolveAssetPath(path) {\n        if (!this.currentMod) {\n            throw new Error('No mod set for asset loading');\n        }\n        // If path is already absolute, return as is\n        if (path.startsWith('http://') || path.startsWith('https://')) {\n            return path;\n        }\n        // Resolve relative to mod path\n        return \"mods/\".concat(this.currentMod.id, \"/\").concat(path);\n    }\n    _resolveIconPath(category, name) {\n        var _this_currentMod_manifest_assets_icons, _this_currentMod_manifest_assets, _this_currentMod_manifest, _this_currentMod;\n        if (!((_this_currentMod = this.currentMod) === null || _this_currentMod === void 0 ? void 0 : (_this_currentMod_manifest = _this_currentMod.manifest) === null || _this_currentMod_manifest === void 0 ? void 0 : (_this_currentMod_manifest_assets = _this_currentMod_manifest.assets) === null || _this_currentMod_manifest_assets === void 0 ? void 0 : (_this_currentMod_manifest_assets_icons = _this_currentMod_manifest_assets.icons) === null || _this_currentMod_manifest_assets_icons === void 0 ? void 0 : _this_currentMod_manifest_assets_icons[category])) {\n            throw new Error(\"Icon category '\".concat(category, \"' not found in mod manifest\"));\n        }\n        const basePath = this.currentMod.manifest.assets.icons[category];\n        return \"\".concat(basePath).concat(name, \".png\");\n    }\n    _resolveLocalizationPath(category, language) {\n        var _this_currentMod_manifest_localization, _this_currentMod_manifest, _this_currentMod;\n        if (!((_this_currentMod = this.currentMod) === null || _this_currentMod === void 0 ? void 0 : (_this_currentMod_manifest = _this_currentMod.manifest) === null || _this_currentMod_manifest === void 0 ? void 0 : (_this_currentMod_manifest_localization = _this_currentMod_manifest.localization) === null || _this_currentMod_manifest_localization === void 0 ? void 0 : _this_currentMod_manifest_localization.path)) {\n            throw new Error('Localization path not found in mod manifest');\n        }\n        const basePath = this.currentMod.manifest.localization.path;\n        return \"\".concat(basePath).concat(language, \"/\").concat(category, \".json\");\n    }\n    async _loadImage(path, options) {\n        return new Promise((resolve, reject)=>{\n            const img = new Image();\n            img.onload = ()=>resolve(img);\n            img.onerror = ()=>reject(new Error(\"Failed to load image: \".concat(path)));\n            if (options.crossOrigin) {\n                img.crossOrigin = options.crossOrigin;\n            }\n            img.src = path;\n        });\n    }\n    async _loadIcon(path, options) {\n        // Icons are just images with specific handling\n        return this._loadImage(path, options);\n    }\n    async _loadAudio(path, options) {\n        return new Promise((resolve, reject)=>{\n            const audio = new Audio();\n            audio.oncanplaythrough = ()=>resolve(audio);\n            audio.onerror = ()=>reject(new Error(\"Failed to load audio: \".concat(path)));\n            if (options.preload) {\n                audio.preload = options.preload;\n            }\n            audio.src = path;\n        });\n    }\n    async _loadJSON(path, options) {\n        try {\n            const response = await fetch(path);\n            if (!response.ok) {\n                throw new Error(\"HTTP \".concat(response.status, \": \").concat(response.statusText));\n            }\n            return await response.json();\n        } catch (error) {\n            throw new Error(\"Failed to load JSON: \".concat(path, \" - \").concat(error.message));\n        }\n    }\n    async _loadJavaScriptModule(path, options) {\n        return new Promise((resolve, reject)=>{\n            // Create a script element\n            const script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.async = true;\n            script.onload = ()=>{\n                // Script loaded successfully\n                resolve({\n                    loaded: true,\n                    path\n                });\n            };\n            script.onerror = ()=>{\n                reject(new Error(\"Failed to load JavaScript module: \".concat(path)));\n            };\n            // Set the source and append to document\n            script.src = path;\n            document.head.appendChild(script);\n        });\n    }\n    _addToCache(key, asset) {\n        // Implement LRU cache eviction\n        if (this.cache.size >= this.cacheSize) {\n            const firstKey = this.cache.keys().next().value;\n            this.cache.delete(firstKey);\n        }\n        this.cache.set(key, asset);\n    }\n    constructor(cacheSize = 100){\n        this.cacheSize = cacheSize;\n        this.cache = new Map();\n        this.loadingPromises = new Map();\n        this.currentMod = null;\n        // Asset type handlers\n        this.handlers = {\n            'image': this._loadImage.bind(this),\n            'icon': this._loadIcon.bind(this),\n            'audio': this._loadAudio.bind(this),\n            'json': this._loadJSON.bind(this),\n            'js': this._loadJavaScriptModule.bind(this)\n        };\n    }\n}\n// Export for use in other modules\nif ( true && module.exports) {\n    module.exports = AssetLoader;\n}\nif (true) window.AssetLoader = AssetLoader;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvY29yZS9Bc3NldExvYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7OztDQUtDLEdBRUQsTUFBTUE7SUFpQkY7OztLQUdDLEdBQ0RDLE9BQU9DLEdBQUcsRUFBRTtRQUNSLElBQUksQ0FBQ0MsVUFBVSxHQUFHRDtJQUN0QjtJQUVBOzs7Ozs7S0FNQyxHQUNELE1BQU1FLEtBQUtDLElBQUksRUFBRUMsSUFBSSxFQUFnQjtZQUFkQyxVQUFBQSxpRUFBVSxDQUFDO1FBQzlCLE1BQU1DLFdBQVcsR0FBV0YsT0FBUkQsTUFBSyxLQUFRLE9BQUxDO1FBRTVCLG9CQUFvQjtRQUNwQixJQUFJLElBQUksQ0FBQ0csS0FBSyxDQUFDQyxHQUFHLENBQUNGLFdBQVc7WUFDMUIsT0FBTyxJQUFJLENBQUNDLEtBQUssQ0FBQ0UsR0FBRyxDQUFDSDtRQUMxQjtRQUVBLDJCQUEyQjtRQUMzQixJQUFJLElBQUksQ0FBQ0ksZUFBZSxDQUFDRixHQUFHLENBQUNGLFdBQVc7WUFDcEMsT0FBTyxJQUFJLENBQUNJLGVBQWUsQ0FBQ0QsR0FBRyxDQUFDSDtRQUNwQztRQUVBLGdCQUFnQjtRQUNoQixNQUFNSyxjQUFjLElBQUksQ0FBQ0MsVUFBVSxDQUFDVCxNQUFNQyxNQUFNQztRQUNoRCxJQUFJLENBQUNLLGVBQWUsQ0FBQ0csR0FBRyxDQUFDUCxVQUFVSztRQUVuQyxJQUFJO1lBQ0EsTUFBTUcsUUFBUSxNQUFNSDtZQUVwQixtQkFBbUI7WUFDbkIsSUFBSSxDQUFDSSxXQUFXLENBQUNULFVBQVVRO1lBRTNCLCtCQUErQjtZQUMvQixJQUFJLENBQUNKLGVBQWUsQ0FBQ00sTUFBTSxDQUFDVjtZQUU1QixPQUFPUTtRQUVYLEVBQUUsT0FBT0csT0FBTztZQUNaLHdDQUF3QztZQUN4QyxJQUFJLENBQUNQLGVBQWUsQ0FBQ00sTUFBTSxDQUFDVjtZQUM1QixNQUFNVztRQUNWO0lBQ0o7SUFFQTs7OztLQUlDLEdB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LENBQUNQLEtBQUssQ0FBQ29DLElBQUksSUFBSSxJQUFJLENBQUNFLFNBQVMsRUFBRTtZQUNuQyxNQUFNMkMsV0FBVyxJQUFJLENBQUNqRixLQUFLLENBQUNrRixJQUFJLEdBQUdDLElBQUksR0FBR0MsS0FBSztZQUMvQyxJQUFJLENBQUNwRixLQUFLLENBQUNTLE1BQU0sQ0FBQ3dFO1FBQ3RCO1FBRUEsSUFBSSxDQUFDakYsS0FBSyxDQUFDTSxHQUFHLENBQUMwRSxLQUFLekU7SUFDeEI7SUFuVEE4RSxZQUFZL0MsWUFBWSxHQUFHLENBQUU7UUFDekIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ3RDLEtBQUssR0FBRyxJQUFJc0Y7UUFDakIsSUFBSSxDQUFDbkYsZUFBZSxHQUFHLElBQUltRjtRQUMzQixJQUFJLENBQUM1RixVQUFVLEdBQUc7UUFFbEIsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQytDLFFBQVEsR0FBRztZQUNaLFNBQVMsSUFBSSxDQUFDVSxVQUFVLENBQUNvQyxJQUFJLENBQUMsSUFBSTtZQUNsQyxRQUFRLElBQUksQ0FBQzNCLFNBQVMsQ0FBQzJCLElBQUksQ0FBQyxJQUFJO1lBQ2hDLFNBQVMsSUFBSSxDQUFDMUIsVUFBVSxDQUFDMEIsSUFBSSxDQUFDLElBQUk7WUFDbEMsUUFBUSxJQUFJLENBQUN0QixTQUFTLENBQUNzQixJQUFJLENBQUMsSUFBSTtZQUNoQyxNQUFNLElBQUksQ0FBQzNELHFCQUFxQixDQUFDMkQsSUFBSSxDQUFDLElBQUk7UUFDOUM7SUFDSjtBQXNTSjtBQUVBLGtDQUFrQztBQUNsQyxJQUFJLEtBQTZCLElBQUlDLE9BQU9DLE9BQU8sRUFBRTtJQUNqREQsT0FBT0MsT0FBTyxHQUFHbEc7QUFDckI7QUFFQSxJQUFJLElBQTZCLEVBQUVtRyxPQUFPbkcsV0FBVyxHQUFHQTtBQUV4RCxvQkFBb0I7QUFDRyIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFxjb3JlXFxBc3NldExvYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQXNzZXQgTG9hZGVyXHJcbiAqIFxyXG4gKiBIYW5kbGVzIGp1c3QtaW4tdGltZSBsb2FkaW5nIG9mIGdhbWUgYXNzZXRzIChpY29ucywgaW1hZ2VzLCBhdWRpbylcclxuICogd2l0aCBpbnRlbGxpZ2VudCBjYWNoaW5nIGFuZCBmYWxsYmFjayBoYW5kbGluZy5cclxuICovXHJcblxyXG5jbGFzcyBBc3NldExvYWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYWNoZVNpemUgPSAxMDApIHtcclxuICAgICAgICB0aGlzLmNhY2hlU2l6ZSA9IGNhY2hlU2l6ZTtcclxuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMubG9hZGluZ1Byb21pc2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1vZCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXNzZXQgdHlwZSBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbWFnZSc6IHRoaXMuX2xvYWRJbWFnZS5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAnaWNvbic6IHRoaXMuX2xvYWRJY29uLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICdhdWRpbyc6IHRoaXMuX2xvYWRBdWRpby5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAnanNvbic6IHRoaXMuX2xvYWRKU09OLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICdqcyc6IHRoaXMuX2xvYWRKYXZhU2NyaXB0TW9kdWxlLmJpbmQodGhpcylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY3VycmVudCBtb2QgZm9yIGFzc2V0IHBhdGggcmVzb2x1dGlvblxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1vZCAtIEN1cnJlbnQgbW9kIGRhdGFcclxuICAgICAqL1xyXG4gICAgc2V0TW9kKG1vZCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1vZCA9IG1vZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGFuIGFzc2V0IGJ5IHR5cGUgYW5kIHBhdGhcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gQXNzZXQgdHlwZSAoaW1hZ2UsIGljb24sIGF1ZGlvLCBqc29uKVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBc3NldCBwYXRoIHJlbGF0aXZlIHRvIG1vZFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBMb2FkaW5nIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGxvYWRlZCBhc3NldFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkKHR5cGUsIHBhdGgsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dHlwZX06JHtwYXRofWA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgY2FjaGUgZmlyc3RcclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIGFscmVhZHkgbG9hZGluZ1xyXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmdQcm9taXNlcy5oYXMoY2FjaGVLZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRpbmdQcm9taXNlcy5nZXQoY2FjaGVLZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTdGFydCBsb2FkaW5nXHJcbiAgICAgICAgY29uc3QgbG9hZFByb21pc2UgPSB0aGlzLl9sb2FkQXNzZXQodHlwZSwgcGF0aCwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nUHJvbWlzZXMuc2V0KGNhY2hlS2V5LCBsb2FkUHJvbWlzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgYXNzZXQgPSBhd2FpdCBsb2FkUHJvbWlzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSByZXN1bHRcclxuICAgICAgICAgICAgdGhpcy5fYWRkVG9DYWNoZShjYWNoZUtleSwgYXNzZXQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gbG9hZGluZyBwcm9taXNlc1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdQcm9taXNlcy5kZWxldGUoY2FjaGVLZXkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBsb2FkaW5nIHByb21pc2VzIG9uIGVycm9yXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1Byb21pc2VzLmRlbGV0ZShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVsb2FkIGEgbGlzdCBvZiBhc3NldHNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFzc2V0cyAtIEFycmF5IG9mIHt0eXBlLCBwYXRoLCBvcHRpb25zfSBvYmplY3RzXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIGFzc2V0cyBhcmUgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHByZWxvYWQoYXNzZXRzKSB7XHJcbiAgICAgICAgY29uc3QgbG9hZFByb21pc2VzID0gYXNzZXRzLm1hcChhc3NldCA9PiBcclxuICAgICAgICAgICAgdGhpcy5sb2FkKGFzc2V0LnR5cGUsIGFzc2V0LnBhdGgsIGFzc2V0Lm9wdGlvbnMgfHwge30pXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKGxvYWRQcm9taXNlcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBhbiBpY29uIGZvciBhIHNwZWNpZmljIGl0ZW0vc2tpbGwvc3BlY2llc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IC0gSWNvbiBjYXRlZ29yeSAoaXRlbXMsIHNraWxscywgc3BlY2llcylcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQXNzZXQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBMb2FkaW5nIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGljb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEljb24oY2F0ZWdvcnksIG5hbWUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLl9yZXNvbHZlSWNvblBhdGgoY2F0ZWdvcnksIG5hbWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWQoJ2ljb24nLCBwYXRoLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGxvY2FsaXplZCB0ZXh0IGZvciBhbiBhc3NldFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNhdGVnb3J5IC0gVGV4dCBjYXRlZ29yeSAoaXRlbXMsIHNraWxscywgc3BlY2llcylcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gQXNzZXQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gTGFuZ3VhZ2UgY29kZVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBsb2NhbGl6ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkTG9jYWxpemVkVGV4dChjYXRlZ29yeSwgbmFtZSwgbGFuZ3VhZ2UgPSAnZW4nKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuX3Jlc29sdmVMb2NhbGl6YXRpb25QYXRoKGNhdGVnb3J5LCBsYW5ndWFnZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbG9jYWxpemF0aW9uRGF0YSA9IGF3YWl0IHRoaXMubG9hZCgnanNvbicsIHBhdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemF0aW9uRGF0YVtjYXRlZ29yeV0/LltuYW1lXSB8fCB7fTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBsb2FkIGxvY2FsaXplZCB0ZXh0IGZvciAke2NhdGVnb3J5fS8ke25hbWV9IGluICR7bGFuZ3VhZ2V9OmAsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGEgSmF2YVNjcmlwdCBtb2R1bGUgZHluYW1pY2FsbHlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0aGUgSmF2YVNjcmlwdCBmaWxlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIExvYWRpbmcgb3B0aW9uc1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtb2R1bGUgaXMgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvYWRKYXZhU2NyaXB0TW9kdWxlKHBhdGgsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYGpzOiR7cGF0aH1gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGNhY2hlIGZpcnN0XHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpZiBhbHJlYWR5IGxvYWRpbmdcclxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nUHJvbWlzZXMuaGFzKGNhY2hlS2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkaW5nUHJvbWlzZXMuZ2V0KGNhY2hlS2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3RhcnQgbG9hZGluZ1xyXG4gICAgICAgIGNvbnN0IGxvYWRQcm9taXNlID0gdGhpcy5fbG9hZEphdmFTY3JpcHRNb2R1bGUocGF0aCwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nUHJvbWlzZXMuc2V0KGNhY2hlS2V5LCBsb2FkUHJvbWlzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9hZFByb21pc2U7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvQ2FjaGUoY2FjaGVLZXksIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBsb2FkaW5nIHByb21pc2VzXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1Byb21pc2VzLmRlbGV0ZShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBsb2FkaW5nIHByb21pc2VzIG9uIGVycm9yXHJcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1Byb21pc2VzLmRlbGV0ZShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIG11bHRpcGxlIEphdmFTY3JpcHQgbW9kdWxlc1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gbW9kdWxlcyAtIEFycmF5IG9mIG1vZHVsZSBwYXRoc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBMb2FkaW5nIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgbW9kdWxlcyBhcmUgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvYWRKYXZhU2NyaXB0TW9kdWxlcyhtb2R1bGVzLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBjb25zdCBsb2FkUHJvbWlzZXMgPSBtb2R1bGVzLm1hcChtb2R1bGVQYXRoID0+IFxyXG4gICAgICAgICAgICB0aGlzLmxvYWRKYXZhU2NyaXB0TW9kdWxlKG1vZHVsZVBhdGgsIG9wdGlvbnMpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKGxvYWRQcm9taXNlcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgdGhlIGFzc2V0IGNhY2hlXHJcbiAgICAgKi9cclxuICAgIGNsZWFyQ2FjaGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjYWNoZSBzdGF0aXN0aWNzXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDYWNoZSBzdGF0aXN0aWNzXHJcbiAgICAgKi9cclxuICAgIGdldENhY2hlU3RhdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy5jYWNoZS5zaXplLFxyXG4gICAgICAgICAgICBtYXhTaXplOiB0aGlzLmNhY2hlU2l6ZSxcclxuICAgICAgICAgICAgbG9hZGluZzogdGhpcy5sb2FkaW5nUHJvbWlzZXMuc2l6ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFByaXZhdGUgbWV0aG9kc1xyXG4gICAgXHJcbiAgICBhc3luYyBfbG9hZEFzc2V0KHR5cGUsIHBhdGgsIG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVyc1t0eXBlXTtcclxuICAgICAgICBpZiAoIWhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGFzc2V0IHR5cGU6ICR7dHlwZX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZnVsbFBhdGggPSB0aGlzLl9yZXNvbHZlQXNzZXRQYXRoKHBhdGgpO1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVyKGZ1bGxQYXRoLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX3Jlc29sdmVBc3NldFBhdGgocGF0aCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50TW9kKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbW9kIHNldCBmb3IgYXNzZXQgbG9hZGluZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJZiBwYXRoIGlzIGFscmVhZHkgYWJzb2x1dGUsIHJldHVybiBhcyBpc1xyXG4gICAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCBwYXRoLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlc29sdmUgcmVsYXRpdmUgdG8gbW9kIHBhdGhcclxuICAgICAgICByZXR1cm4gYG1vZHMvJHt0aGlzLmN1cnJlbnRNb2QuaWR9LyR7cGF0aH1gO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfcmVzb2x2ZUljb25QYXRoKGNhdGVnb3J5LCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRNb2Q/Lm1hbmlmZXN0Py5hc3NldHM/Lmljb25zPy5bY2F0ZWdvcnldKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSWNvbiBjYXRlZ29yeSAnJHtjYXRlZ29yeX0nIG5vdCBmb3VuZCBpbiBtb2QgbWFuaWZlc3RgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYmFzZVBhdGggPSB0aGlzLmN1cnJlbnRNb2QubWFuaWZlc3QuYXNzZXRzLmljb25zW2NhdGVnb3J5XTtcclxuICAgICAgICByZXR1cm4gYCR7YmFzZVBhdGh9JHtuYW1lfS5wbmdgO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfcmVzb2x2ZUxvY2FsaXphdGlvblBhdGgoY2F0ZWdvcnksIGxhbmd1YWdlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRNb2Q/Lm1hbmlmZXN0Py5sb2NhbGl6YXRpb24/LnBhdGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbGl6YXRpb24gcGF0aCBub3QgZm91bmQgaW4gbW9kIG1hbmlmZXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJhc2VQYXRoID0gdGhpcy5jdXJyZW50TW9kLm1hbmlmZXN0LmxvY2FsaXphdGlvbi5wYXRoO1xyXG4gICAgICAgIHJldHVybiBgJHtiYXNlUGF0aH0ke2xhbmd1YWdlfS8ke2NhdGVnb3J5fS5qc29uYDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgX2xvYWRJbWFnZShwYXRoLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGltYWdlOiAke3BhdGh9YCkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY3Jvc3NPcmlnaW4pIHtcclxuICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBwYXRoO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBfbG9hZEljb24ocGF0aCwgb3B0aW9ucykge1xyXG4gICAgICAgIC8vIEljb25zIGFyZSBqdXN0IGltYWdlcyB3aXRoIHNwZWNpZmljIGhhbmRsaW5nXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRJbWFnZShwYXRoLCBvcHRpb25zKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgX2xvYWRBdWRpbyhwYXRoLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGF1ZGlvLm9uY2FucGxheXRocm91Z2ggPSAoKSA9PiByZXNvbHZlKGF1ZGlvKTtcclxuICAgICAgICAgICAgYXVkaW8ub25lcnJvciA9ICgpID0+IHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGF1ZGlvOiAke3BhdGh9YCkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJlbG9hZCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW8ucHJlbG9hZCA9IG9wdGlvbnMucHJlbG9hZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXVkaW8uc3JjID0gcGF0aDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgX2xvYWRKU09OKHBhdGgsIG9wdGlvbnMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhdGgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgSlNPTjogJHtwYXRofSAtICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIF9sb2FkSmF2YVNjcmlwdE1vZHVsZShwYXRoLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2NyaXB0IGVsZW1lbnRcclxuICAgICAgICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XHJcbiAgICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gU2NyaXB0IGxvYWRlZCBzdWNjZXNzZnVsbHlcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBsb2FkZWQ6IHRydWUsIHBhdGggfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIEphdmFTY3JpcHQgbW9kdWxlOiAke3BhdGh9YCkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBzb3VyY2UgYW5kIGFwcGVuZCB0byBkb2N1bWVudFxyXG4gICAgICAgICAgICBzY3JpcHQuc3JjID0gcGF0aDtcclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfYWRkVG9DYWNoZShrZXksIGFzc2V0KSB7XHJcbiAgICAgICAgLy8gSW1wbGVtZW50IExSVSBjYWNoZSBldmljdGlvblxyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlLnNpemUgPj0gdGhpcy5jYWNoZVNpemUpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RLZXkgPSB0aGlzLmNhY2hlLmtleXMoKS5uZXh0KCkudmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKGZpcnN0S2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCBhc3NldCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEV4cG9ydCBmb3IgdXNlIGluIG90aGVyIG1vZHVsZXNcclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEFzc2V0TG9hZGVyO1xyXG59XHJcblxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5Bc3NldExvYWRlciA9IEFzc2V0TG9hZGVyO1xyXG5cclxuLy8gRVMgTW9kdWxlIGV4cG9ydHNcclxuZXhwb3J0IHsgQXNzZXRMb2FkZXIgfTsgIl0sIm5hbWVzIjpbIkFzc2V0TG9hZGVyIiwic2V0TW9kIiwibW9kIiwiY3VycmVudE1vZCIsImxvYWQiLCJ0eXBlIiwicGF0aCIsIm9wdGlvbnMiLCJjYWNoZUtleSIsImNhY2hlIiwiaGFzIiwiZ2V0IiwibG9hZGluZ1Byb21pc2VzIiwibG9hZFByb21pc2UiLCJfbG9hZEFzc2V0Iiwic2V0IiwiYXNzZXQiLCJfYWRkVG9DYWNoZSIsImRlbGV0ZSIsImVycm9yIiwicHJlbG9hZCIsImFzc2V0cyIsImxvYWRQcm9taXNlcyIsIm1hcCIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwibG9hZEljb24iLCJjYXRlZ29yeSIsIm5hbWUiLCJfcmVzb2x2ZUljb25QYXRoIiwibG9hZExvY2FsaXplZFRleHQiLCJsYW5ndWFnZSIsIl9yZXNvbHZlTG9jYWxpemF0aW9uUGF0aCIsImxvY2FsaXphdGlvbkRhdGEiLCJjb25zb2xlIiwid2FybiIsImxvYWRKYXZhU2NyaXB0TW9kdWxlIiwiX2xvYWRKYXZhU2NyaXB0TW9kdWxlIiwicmVzdWx0IiwibG9hZEphdmFTY3JpcHRNb2R1bGVzIiwibW9kdWxlcyIsIm1vZHVsZVBhdGgiLCJjbGVhckNhY2hlIiwiY2xlYXIiLCJnZXRDYWNoZVN0YXRzIiwic2l6ZSIsIm1heFNpemUiLCJjYWNoZVNpemUiLCJsb2FkaW5nIiwiaGFuZGxlciIsImhhbmRsZXJzIiwiRXJyb3IiLCJmdWxsUGF0aCIsIl9yZXNvbHZlQXNzZXRQYXRoIiwic3RhcnRzV2l0aCIsImlkIiwibWFuaWZlc3QiLCJpY29ucyIsImJhc2VQYXRoIiwibG9jYWxpemF0aW9uIiwiX2xvYWRJbWFnZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJjcm9zc09yaWdpbiIsInNyYyIsIl9sb2FkSWNvbiIsIl9sb2FkQXVkaW8iLCJhdWRpbyIsIkF1ZGlvIiwib25jYW5wbGF5dGhyb3VnaCIsIl9sb2FkSlNPTiIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJqc29uIiwibWVzc2FnZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFzeW5jIiwibG9hZGVkIiwiaGVhZCIsImFwcGVuZENoaWxkIiwia2V5IiwiZmlyc3RLZXkiLCJrZXlzIiwibmV4dCIsInZhbHVlIiwiY29uc3RydWN0b3IiLCJNYXAiLCJiaW5kIiwibW9kdWxlIiwiZXhwb3J0cyIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/core/AssetLoader.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/core/ConfigManager.js":
/*!***************************************************!*\
  !*** ./src/lib/game-engine/core/ConfigManager.js ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigManager: () => (/* binding */ ConfigManager)\n/* harmony export */ });\n/**\r\n * Manages all game configuration files and provides centralized access to game settings.\r\n * Handles loading, validation, and merging of configuration data with fallback defaults.\r\n * \r\n * @class ConfigManager\r\n */ class ConfigManager {\n    /**\r\n     * Returns the default configuration object used as fallback when loading fails.\r\n     * \r\n     * @returns {Object} The default configuration object\r\n     */ getDefaultConfig() {\n        return {\n            ui: {\n                cssClasses: {\n                    skillItem: 'skill-item',\n                    skillHeader: 'skill-header',\n                    skillName: 'skill-name',\n                    skillLevel: 'skill-level',\n                    skillProgressContainer: 'skill-progress-container',\n                    skillProgressBar: 'skill-progress-bar',\n                    skillProgressFill: 'skill-progress-fill',\n                    skillXp: 'skill-xp',\n                    actionButton: 'action-button',\n                    newUnlock: 'new-unlock',\n                    narrationMessage: 'narration-message',\n                    tabButton: 'tab-button',\n                    tabPanel: 'tab-panel',\n                    active: 'active',\n                    toast: 'toast',\n                    toastContainer: 'toast-container'\n                },\n                elementIds: {\n                    narrationContent: 'narration-content',\n                    skillsContent: 'skills-content',\n                    actionsContent: 'actions-content',\n                    toastContainer: 'toast-container'\n                },\n                tabs: [\n                    {\n                        id: 'skills',\n                        displayName: 'Skills',\n                        icon: '⚔️'\n                    },\n                    {\n                        id: 'inventory',\n                        displayName: 'Inventory',\n                        icon: '🎒'\n                    },\n                    {\n                        id: 'character',\n                        displayName: 'Character',\n                        icon: '👤'\n                    },\n                    {\n                        id: 'quests',\n                        displayName: 'Quests',\n                        icon: '🗺️'\n                    }\n                ]\n            },\n            constants: {\n                xpMultiplier: 100,\n                defaultLevel: 1,\n                defaultXp: 0,\n                progressMax: 100\n            },\n            skills: {},\n            messages: {\n                welcome: 'Welcome to Taverns and Treasures! Your adventure begins...',\n                levelUp: '🎉 {skillName} level up! You are now level {level}.',\n                actionUnlocked: '🔓 New action unlocked: {actionName} (Level {level})',\n                actionCompleted: 'You {actionName} and gained {xpReward} XP. ({itemReward}: {itemCount})',\n                configError: 'Error: Could not load game configuration. Please refresh the page.',\n                configLoaded: 'Game configuration loaded successfully',\n                skillsConfigLoaded: 'Skills configuration loaded successfully',\n                skillsConfigError: 'Error: Could not load skills configuration.',\n                gameSaved: '🔄 Game progress saved',\n                gameLoaded: '📥 Welcome back! Your progress has been loaded',\n                noSaveFound: '🆕 No saved game found. Starting a new game',\n                saveError: '⚠️ Failed to save game progress',\n                loadError: '⚠️ Failed to load saved game',\n                actionInsufficientItems: 'Insufficient items to perform the action: {itemName}',\n                actionItemsConsumed: 'You consumed {itemCount}x {itemName}',\n                actionItemsGained: 'You gained {itemCount}x {itemName}',\n                actionTimeRequired: 'This action requires {time} {timeUnit} to complete'\n            },\n            gameSettings: {\n                initialWood: 0\n            }\n        };\n    }\n    /**\r\n     * Loads the game configuration file from data/config/game-config.json.\r\n     * \r\n     * @async\r\n     * @returns {Promise<Object>} The loaded and merged game configuration\r\n     * @throws {Error} If the configuration file cannot be loaded or parsed\r\n     */ async loadGameConfig() {\n        try {\n            const response = await fetch('data/config/game-config.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            const config = await response.json();\n            this.gameConfig = this.deepMerge(this.defaultConfig, config);\n            console.log('Game configuration loaded successfully');\n            return this.gameConfig;\n        } catch (error) {\n            console.error('Failed to load game configuration:', error);\n            this.gameConfig = this.defaultConfig;\n            return this.gameConfig;\n        }\n    }\n    /**\r\n     * Loads the skills configuration file from data/skills.json.\r\n     * \r\n     * @async\r\n     * @returns {Promise<Object>} The loaded skills configuration\r\n     * @throws {Error} If the skills configuration file cannot be loaded or parsed\r\n     */ async loadSkillsConfig() {\n        try {\n            const response = await fetch('data/skills.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            this.skillsConfig = await response.json();\n            console.log('Skills configuration loaded successfully');\n            return this.skillsConfig;\n        } catch (error) {\n            console.error('Failed to load skills configuration:', error);\n            this.skillsConfig = {};\n            return this.skillsConfig;\n        }\n    }\n    /**\r\n     * Loads the traits configuration file from data/traits.json.\r\n     * \r\n     * @async\r\n     * @returns {Promise<Object>} The loaded traits configuration\r\n     * @throws {Error} If the traits configuration file cannot be loaded or parsed\r\n     */ async loadTraitsConfig() {\n        try {\n            const response = await fetch('data/traits.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            this.traitsConfig = await response.json();\n            console.log('Traits configuration loaded successfully');\n            return this.traitsConfig;\n        } catch (error) {\n            console.error('Failed to load traits configuration:', error);\n            this.traitsConfig = {\n                traits: {}\n            };\n            return this.traitsConfig;\n        }\n    }\n    /**\r\n     * Loads the actions configuration file from data/config/actions.json.\r\n     * \r\n     * @async\r\n     * @returns {Promise<Object>} The loaded actions configuration\r\n     * @throws {Error} If the actions configuration file cannot be loaded or parsed\r\n     */ async loadActionsConfig() {\n        try {\n            const response = await fetch('data/config/actions.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            this.actionsConfig = await response.json();\n            console.log('Actions configuration loaded successfully');\n            return this.actionsConfig;\n        } catch (error) {\n            console.error('Failed to load actions configuration:', error);\n            this.actionsConfig = {};\n            return this.actionsConfig;\n        }\n    }\n    /**\r\n     * Loads all configuration files concurrently.\r\n     * \r\n     * @async\r\n     * @returns {Promise<Object>} Object containing all loaded configurations\r\n     */ async loadAllConfigs() {\n        const [gameConfig, skillsConfig, traitsConfig, actionsConfig] = await Promise.all([\n            this.loadGameConfig(),\n            this.loadSkillsConfig(),\n            this.loadTraitsConfig(),\n            this.loadActionsConfig()\n        ]);\n        return {\n            gameConfig,\n            skillsConfig,\n            traitsConfig,\n            actionsConfig\n        };\n    }\n    /**\r\n     * Gets the current game configuration, falling back to default if not loaded.\r\n     * \r\n     * @returns {Object} The game configuration object\r\n     */ getGameConfig() {\n        return this.gameConfig || this.defaultConfig;\n    }\n    /**\r\n     * Gets the current skills configuration, falling back to empty object if not loaded.\r\n     * \r\n     * @returns {Object} The skills configuration object\r\n     */ getSkillsConfig() {\n        return this.skillsConfig || {};\n    }\n    /**\r\n     * Gets the current traits configuration, falling back to empty object if not loaded.\r\n     * \r\n     * @returns {Object} The traits configuration object\r\n     */ getTraitsConfig() {\n        return this.traitsConfig || {\n            traits: {}\n        };\n    }\n    /**\r\n     * Gets the current actions configuration, falling back to empty object if not loaded.\r\n     * \r\n     * @returns {Object} The actions configuration object\r\n     */ getActionsConfig() {\n        return this.actionsConfig || {};\n    }\n    /**\r\n     * Gets a message from the configuration and replaces placeholders with provided values.\r\n     * \r\n     * @param {string} key - The message key to retrieve\r\n     * @param {Object} [replacements={}] - Object containing placeholder replacements\r\n     * @returns {string} The processed message with replacements applied\r\n     */ getMessage(key) {\n        let replacements = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        const messages = this.getGameConfig().messages || {};\n        let message = messages[key] || key;\n        for (const [placeholder, value] of Object.entries(replacements)){\n            message = message.replace(new RegExp(\"{\".concat(placeholder, \"}\"), 'g'), value);\n        }\n        return message;\n    }\n    /**\r\n     * Gets a constant value from the configuration with optional default fallback.\r\n     * \r\n     * @param {string} key - The constant key to retrieve\r\n     * @param {*} [defaultValue=null] - Default value if key is not found\r\n     * @returns {*} The constant value or default\r\n     */ getConstant(key) {\n        let defaultValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        const constants = this.getGameConfig().constants || {};\n        return constants[key] !== undefined ? constants[key] : defaultValue;\n    }\n    /**\r\n     * Gets the UI configuration section from the game configuration.\r\n     * \r\n     * @returns {Object} The UI configuration object\r\n     */ getUIConfig() {\n        return this.getGameConfig().ui || {};\n    }\n    /**\r\n     * Performs a deep merge of two objects, with source properties overriding target properties.\r\n     * Arrays in the source completely replace arrays in the target.\r\n     *\r\n     * @param {Object} target - The target object to merge into\r\n     * @param {Object} source - The source object to merge from\r\n     * @returns {Object} The merged object\r\n     */ deepMerge(target, source) {\n        const result = {\n            ...target\n        };\n        for(const key in source){\n            if (source.hasOwnProperty(key)) {\n                if (Array.isArray(source[key])) {\n                    // Replace arrays entirely\n                    result[key] = source[key].slice();\n                } else if (source[key] instanceof Object && key in target && target[key] instanceof Object && !Array.isArray(target[key])) {\n                    result[key] = this.deepMerge(target[key], source[key]);\n                } else {\n                    result[key] = source[key];\n                }\n            }\n        }\n        return result;\n    }\n    /**\r\n     * Updates the current configuration with new configuration data.\r\n     * \r\n     * @param {Object} newConfig - The new configuration to merge\r\n     */ updateConfig(newConfig) {\n        this.gameConfig = this.deepMerge(this.gameConfig || this.defaultConfig, newConfig);\n    }\n    /**\r\n     * Resets the configuration to the default values.\r\n     */ resetToDefault() {\n        this.gameConfig = this.defaultConfig;\n    }\n    /**\r\n     * Creates a new ConfigManager instance.\r\n     * Initializes configuration storage and loads default configuration.\r\n     */ constructor(){\n        /** @type {Object|null} The loaded game configuration */ this.gameConfig = null;\n        /** @type {Object|null} The loaded skills configuration */ this.skillsConfig = null;\n        /** @type {Object|null} The loaded traits configuration */ this.traitsConfig = null;\n        /** @type {Object|null} The loaded actions configuration */ this.actionsConfig = null;\n        /** @type {Object} The default configuration fallback */ this.defaultConfig = this.getDefaultConfig();\n    }\n}\nif (true) window.ConfigManager = ConfigManager;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvY29yZS9Db25maWdNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Q0FLQyxHQUNELE1BQU1BO0lBc0JGOzs7O0tBSUMsR0FDREMsbUJBQW1CO1FBQ2YsT0FBTztZQUNIQyxJQUFJO2dCQUNBQyxZQUFZO29CQUNSQyxXQUFXO29CQUNYQyxhQUFhO29CQUNiQyxXQUFXO29CQUNYQyxZQUFZO29CQUNaQyx3QkFBd0I7b0JBQ3hCQyxrQkFBa0I7b0JBQ2xCQyxtQkFBbUI7b0JBQ25CQyxTQUFTO29CQUNUQyxjQUFjO29CQUNkQyxXQUFXO29CQUNYQyxrQkFBa0I7b0JBQ2xCQyxXQUFXO29CQUNYQyxVQUFVO29CQUNWQyxRQUFRO29CQUNSQyxPQUFPO29CQUNQQyxnQkFBZ0I7Z0JBQ3BCO2dCQUNBQyxZQUFZO29CQUNSQyxrQkFBa0I7b0JBQ2xCQyxlQUFlO29CQUNmQyxnQkFBZ0I7b0JBQ2hCSixnQkFBZ0I7Z0JBQ3BCO2dCQUNBSyxNQUFNO29CQUNGO3dCQUNJQyxJQUFJO3dCQUNKQyxhQUFhO3dCQUNiQyxNQUFNO29CQUNWO29CQUNBO3dCQUNJRixJQUFJO3dCQUNKQyxhQUFhO3dCQUNiQyxNQUFNO29CQUNWO29CQUNBO3dCQUNJRixJQUFJO3dCQUNKQyxhQUFhO3dCQUNiQyxNQUFNO29CQUNWO29CQUNBO3dCQUNJRixJQUFJO3dCQUNKQyxhQUFhO3dCQUNiQyxNQUFNO29CQUNWO2lCQUNIO1lBQ0w7WUFDQUMsV0FBVztnQkFDUEMsY0FBYztnQkFDZEMsY0FBYztnQkFDZEMsV0FBVztnQkFDWEMsYUFBYTtZQUNqQjtZQUNBQyxRQUFRLENBQUM7WUFDVEMsVUFBVTtnQkFDTkMsU0FBUztnQkFDVEMsU0FBUztnQkFDVEMsZ0JBQWdCO2dCQUNoQkMsaUJBQWlCO2dCQUNqQkMsYUFBYTtnQkFDYkMsY0FBYztnQkFDZEMsb0JBQW9CO2dCQUNwQkMsbUJBQW1CO2dCQUNuQkMsV0FB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LElBQUksQ0FBQzNDLFVBQVUsR0FBRyxJQUFJLENBQUNFLGFBQWE7SUFDeEM7SUF0VkE7OztLQUdDLEdBQ0QwQyxhQUFjO1FBQ1Ysc0RBQXNELEdBQ3RELElBQUksQ0FBQzVDLFVBQVUsR0FBRztRQUVsQix3REFBd0QsR0FDeEQsSUFBSSxDQUFDTyxZQUFZLEdBQUc7UUFFcEIsd0RBQXdELEdBQ3hELElBQUksQ0FBQ0UsWUFBWSxHQUFHO1FBRXBCLHlEQUF5RCxHQUN6RCxJQUFJLENBQUNHLGFBQWEsR0FBRztRQUVyQixzREFBc0QsR0FDdEQsSUFBSSxDQUFDVixhQUFhLEdBQUcsSUFBSSxDQUFDL0QsZ0JBQWdCO0lBQzlDO0FBb1VKO0FBRUEsSUFBSSxJQUE2QixFQUFFMEcsT0FBTzNHLGFBQWEsR0FBR0E7QUFFMUQsb0JBQW9CO0FBQ0siLCJzb3VyY2VzIjpbIkM6XFxHaXRIdWJcXFNlbGZcXHRhdmVybnNcXHNyY1xcbGliXFxnYW1lLWVuZ2luZVxcY29yZVxcQ29uZmlnTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTWFuYWdlcyBhbGwgZ2FtZSBjb25maWd1cmF0aW9uIGZpbGVzIGFuZCBwcm92aWRlcyBjZW50cmFsaXplZCBhY2Nlc3MgdG8gZ2FtZSBzZXR0aW5ncy5cclxuICogSGFuZGxlcyBsb2FkaW5nLCB2YWxpZGF0aW9uLCBhbmQgbWVyZ2luZyBvZiBjb25maWd1cmF0aW9uIGRhdGEgd2l0aCBmYWxsYmFjayBkZWZhdWx0cy5cclxuICogXHJcbiAqIEBjbGFzcyBDb25maWdNYW5hZ2VyXHJcbiAqL1xyXG5jbGFzcyBDb25maWdNYW5hZ2VyIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBDb25maWdNYW5hZ2VyIGluc3RhbmNlLlxyXG4gICAgICogSW5pdGlhbGl6ZXMgY29uZmlndXJhdGlvbiBzdG9yYWdlIGFuZCBsb2FkcyBkZWZhdWx0IGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fG51bGx9IFRoZSBsb2FkZWQgZ2FtZSBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgdGhpcy5nYW1lQ29uZmlnID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvKiogQHR5cGUge09iamVjdHxudWxsfSBUaGUgbG9hZGVkIHNraWxscyBjb25maWd1cmF0aW9uICovXHJcbiAgICAgICAgdGhpcy5za2lsbHNDb25maWcgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fG51bGx9IFRoZSBsb2FkZWQgdHJhaXRzIGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICB0aGlzLnRyYWl0c0NvbmZpZyA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqIEB0eXBlIHtPYmplY3R8bnVsbH0gVGhlIGxvYWRlZCBhY3Rpb25zIGNvbmZpZ3VyYXRpb24gKi9cclxuICAgICAgICB0aGlzLmFjdGlvbnNDb25maWcgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZhbGxiYWNrICovXHJcbiAgICAgICAgdGhpcy5kZWZhdWx0Q29uZmlnID0gdGhpcy5nZXREZWZhdWx0Q29uZmlnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IHVzZWQgYXMgZmFsbGJhY2sgd2hlbiBsb2FkaW5nIGZhaWxzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBnZXREZWZhdWx0Q29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVpOiB7XHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxJdGVtOiAnc2tpbGwtaXRlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxIZWFkZXI6ICdza2lsbC1oZWFkZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraWxsTmFtZTogJ3NraWxsLW5hbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraWxsTGV2ZWw6ICdza2lsbC1sZXZlbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxQcm9ncmVzc0NvbnRhaW5lcjogJ3NraWxsLXByb2dyZXNzLWNvbnRhaW5lcicsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxQcm9ncmVzc0JhcjogJ3NraWxsLXByb2dyZXNzLWJhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxQcm9ncmVzc0ZpbGw6ICdza2lsbC1wcm9ncmVzcy1maWxsJyxcclxuICAgICAgICAgICAgICAgICAgICBza2lsbFhwOiAnc2tpbGwteHAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbjogJ2FjdGlvbi1idXR0b24nLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1VubG9jazogJ25ldy11bmxvY2snLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hcnJhdGlvbk1lc3NhZ2U6ICduYXJyYXRpb24tbWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiQnV0dG9uOiAndGFiLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiUGFuZWw6ICd0YWItcGFuZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogJ2FjdGl2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Q6ICd0b2FzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RDb250YWluZXI6ICd0b2FzdC1jb250YWluZXInXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudElkczoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hcnJhdGlvbkNvbnRlbnQ6ICduYXJyYXRpb24tY29udGVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxzQ29udGVudDogJ3NraWxscy1jb250ZW50JyxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zQ29udGVudDogJ2FjdGlvbnMtY29udGVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RDb250YWluZXI6ICd0b2FzdC1jb250YWluZXInXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdGFiczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdza2lsbHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ1NraWxscycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICfimpTvuI8nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnaW52ZW50b3J5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdJbnZlbnRvcnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAn8J+OkidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjaGFyYWN0ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogJ0NoYXJhY3RlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICfwn5GkJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3F1ZXN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnUXVlc3RzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ/Cfl7rvuI8nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb25zdGFudHM6IHtcclxuICAgICAgICAgICAgICAgIHhwTXVsdGlwbGllcjogMTAwLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdExldmVsOiAxLFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdFhwOiAwLFxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NNYXg6IDEwMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBza2lsbHM6IHt9LFxyXG4gICAgICAgICAgICBtZXNzYWdlczoge1xyXG4gICAgICAgICAgICAgICAgd2VsY29tZTogJ1dlbGNvbWUgdG8gVGF2ZXJucyBhbmQgVHJlYXN1cmVzISBZb3VyIGFkdmVudHVyZSBiZWdpbnMuLi4nLFxyXG4gICAgICAgICAgICAgICAgbGV2ZWxVcDogJ/Cfjokge3NraWxsTmFtZX0gbGV2ZWwgdXAhIFlvdSBhcmUgbm93IGxldmVsIHtsZXZlbH0uJyxcclxuICAgICAgICAgICAgICAgIGFjdGlvblVubG9ja2VkOiAn8J+UkyBOZXcgYWN0aW9uIHVubG9ja2VkOiB7YWN0aW9uTmFtZX0gKExldmVsIHtsZXZlbH0pJyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbkNvbXBsZXRlZDogJ1lvdSB7YWN0aW9uTmFtZX0gYW5kIGdhaW5lZCB7eHBSZXdhcmR9IFhQLiAoe2l0ZW1SZXdhcmR9OiB7aXRlbUNvdW50fSknLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnRXJyb3I6ICdFcnJvcjogQ291bGQgbm90IGxvYWQgZ2FtZSBjb25maWd1cmF0aW9uLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZS4nLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnTG9hZGVkOiAnR2FtZSBjb25maWd1cmF0aW9uIGxvYWRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgICAgICAgICAgc2tpbGxzQ29uZmlnTG9hZGVkOiAnU2tpbGxzIGNvbmZpZ3VyYXRpb24gbG9hZGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgICAgICBza2lsbHNDb25maWdFcnJvcjogJ0Vycm9yOiBDb3VsZCBub3QgbG9hZCBza2lsbHMgY29uZmlndXJhdGlvbi4nLFxyXG4gICAgICAgICAgICAgICAgZ2FtZVNhdmVkOiAn8J+UhCBHYW1lIHByb2dyZXNzIHNhdmVkJyxcclxuICAgICAgICAgICAgICAgIGdhbWVMb2FkZWQ6ICfwn5OlIFdlbGNvbWUgYmFjayEgWW91ciBwcm9ncmVzcyBoYXMgYmVlbiBsb2FkZWQnLFxyXG4gICAgICAgICAgICAgICAgbm9TYXZlRm91bmQ6ICfwn4aVIE5vIHNhdmVkIGdhbWUgZm91bmQuIFN0YXJ0aW5nIGEgbmV3IGdhbWUnLFxyXG4gICAgICAgICAgICAgICAgc2F2ZUVycm9yOiAn4pqg77iPIEZhaWxlZCB0byBzYXZlIGdhbWUgcHJvZ3Jlc3MnLFxyXG4gICAgICAgICAgICAgICAgbG9hZEVycm9yOiAn4pqg77iPIEZhaWxlZCB0byBsb2FkIHNhdmVkIGdhbWUnLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uSW5zdWZmaWNpZW50SXRlbXM6ICdJbnN1ZmZpY2llbnQgaXRlbXMgdG8gcGVyZm9ybSB0aGUgYWN0aW9uOiB7aXRlbU5hbWV9JyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbkl0ZW1zQ29uc3VtZWQ6ICdZb3UgY29uc3VtZWQge2l0ZW1Db3VudH14IHtpdGVtTmFtZX0nLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uSXRlbXNHYWluZWQ6ICdZb3UgZ2FpbmVkIHtpdGVtQ291bnR9eCB7aXRlbU5hbWV9JyxcclxuICAgICAgICAgICAgICAgIGFjdGlvblRpbWVSZXF1aXJlZDogJ1RoaXMgYWN0aW9uIHJlcXVpcmVzIHt0aW1lfSB7dGltZVVuaXR9IHRvIGNvbXBsZXRlJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnYW1lU2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxXb29kOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZHMgdGhlIGdhbWUgY29uZmlndXJhdGlvbiBmaWxlIGZyb20gZGF0YS9jb25maWcvZ2FtZS1jb25maWcuanNvbi5cclxuICAgICAqIFxyXG4gICAgICogQGFzeW5jXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgbG9hZGVkIGFuZCBtZXJnZWQgZ2FtZSBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIGNvbmZpZ3VyYXRpb24gZmlsZSBjYW5ub3QgYmUgbG9hZGVkIG9yIHBhcnNlZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkR2FtZUNvbmZpZygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdkYXRhL2NvbmZpZy9nYW1lLWNvbmZpZy5qc29uJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUNvbmZpZyA9IHRoaXMuZGVlcE1lcmdlKHRoaXMuZGVmYXVsdENvbmZpZywgY29uZmlnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgY29uZmlndXJhdGlvbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVDb25maWc7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZ2FtZSBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lQ29uZmlnID0gdGhpcy5kZWZhdWx0Q29uZmlnO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIHRoZSBza2lsbHMgY29uZmlndXJhdGlvbiBmaWxlIGZyb20gZGF0YS9za2lsbHMuanNvbi5cclxuICAgICAqIFxyXG4gICAgICogQGFzeW5jXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgbG9hZGVkIHNraWxscyBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNraWxscyBjb25maWd1cmF0aW9uIGZpbGUgY2Fubm90IGJlIGxvYWRlZCBvciBwYXJzZWRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZFNraWxsc0NvbmZpZygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdkYXRhL3NraWxscy5qc29uJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNraWxsc0NvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NraWxscyBjb25maWd1cmF0aW9uIGxvYWRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGxzQ29uZmlnO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNraWxscyBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5za2lsbHNDb25maWcgPSB7fTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGxzQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIHRoZSB0cmFpdHMgY29uZmlndXJhdGlvbiBmaWxlIGZyb20gZGF0YS90cmFpdHMuanNvbi5cclxuICAgICAqIFxyXG4gICAgICogQGFzeW5jXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgbG9hZGVkIHRyYWl0cyBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHRyYWl0cyBjb25maWd1cmF0aW9uIGZpbGUgY2Fubm90IGJlIGxvYWRlZCBvciBwYXJzZWRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZFRyYWl0c0NvbmZpZygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdkYXRhL3RyYWl0cy5qc29uJyk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRyYWl0c0NvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyYWl0cyBjb25maWd1cmF0aW9uIGxvYWRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhaXRzQ29uZmlnO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHRyYWl0cyBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy50cmFpdHNDb25maWcgPSB7IHRyYWl0czoge30gfTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhaXRzQ29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIHRoZSBhY3Rpb25zIGNvbmZpZ3VyYXRpb24gZmlsZSBmcm9tIGRhdGEvY29uZmlnL2FjdGlvbnMuanNvbi5cclxuICAgICAqIFxyXG4gICAgICogQGFzeW5jXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBUaGUgbG9hZGVkIGFjdGlvbnMgY29uZmlndXJhdGlvblxyXG4gICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBhY3Rpb25zIGNvbmZpZ3VyYXRpb24gZmlsZSBjYW5ub3QgYmUgbG9hZGVkIG9yIHBhcnNlZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2FkQWN0aW9uc0NvbmZpZygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdkYXRhL2NvbmZpZy9hY3Rpb25zLmpzb24nKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uc0NvbmZpZyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjdGlvbnMgY29uZmlndXJhdGlvbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNDb25maWc7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgYWN0aW9ucyBjb25maWd1cmF0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zQ29uZmlnID0ge307XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNDb25maWc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZHMgYWxsIGNvbmZpZ3VyYXRpb24gZmlsZXMgY29uY3VycmVudGx5LlxyXG4gICAgICogXHJcbiAgICAgKiBAYXN5bmNcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IE9iamVjdCBjb250YWluaW5nIGFsbCBsb2FkZWQgY29uZmlndXJhdGlvbnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9hZEFsbENvbmZpZ3MoKSB7XHJcbiAgICAgICAgY29uc3QgW2dhbWVDb25maWcsIHNraWxsc0NvbmZpZywgdHJhaXRzQ29uZmlnLCBhY3Rpb25zQ29uZmlnXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgdGhpcy5sb2FkR2FtZUNvbmZpZygpLFxyXG4gICAgICAgICAgICB0aGlzLmxvYWRTa2lsbHNDb25maWcoKSxcclxuICAgICAgICAgICAgdGhpcy5sb2FkVHJhaXRzQ29uZmlnKCksXHJcbiAgICAgICAgICAgIHRoaXMubG9hZEFjdGlvbnNDb25maWcoKVxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnYW1lQ29uZmlnLFxyXG4gICAgICAgICAgICBza2lsbHNDb25maWcsXHJcbiAgICAgICAgICAgIHRyYWl0c0NvbmZpZyxcclxuICAgICAgICAgICAgYWN0aW9uc0NvbmZpZ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IGdhbWUgY29uZmlndXJhdGlvbiwgZmFsbGluZyBiYWNrIHRvIGRlZmF1bHQgaWYgbm90IGxvYWRlZC5cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGdhbWUgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgZ2V0R2FtZUNvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lQ29uZmlnIHx8IHRoaXMuZGVmYXVsdENvbmZpZztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgc2tpbGxzIGNvbmZpZ3VyYXRpb24sIGZhbGxpbmcgYmFjayB0byBlbXB0eSBvYmplY3QgaWYgbm90IGxvYWRlZC5cclxuICAgICAqIFxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gVGhlIHNraWxscyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBnZXRTa2lsbHNDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tpbGxzQ29uZmlnIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY3VycmVudCB0cmFpdHMgY29uZmlndXJhdGlvbiwgZmFsbGluZyBiYWNrIHRvIGVtcHR5IG9iamVjdCBpZiBub3QgbG9hZGVkLlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgdHJhaXRzIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdldFRyYWl0c0NvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHNDb25maWcgfHwgeyB0cmFpdHM6IHt9IH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IGFjdGlvbnMgY29uZmlndXJhdGlvbiwgZmFsbGluZyBiYWNrIHRvIGVtcHR5IG9iamVjdCBpZiBub3QgbG9hZGVkLlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgYWN0aW9ucyBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBnZXRBY3Rpb25zQ29uZmlnKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbnNDb25maWcgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgbWVzc2FnZSBmcm9tIHRoZSBjb25maWd1cmF0aW9uIGFuZCByZXBsYWNlcyBwbGFjZWhvbGRlcnMgd2l0aCBwcm92aWRlZCB2YWx1ZXMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbWVzc2FnZSBrZXkgdG8gcmV0cmlldmVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcmVwbGFjZW1lbnRzPXt9XSAtIE9iamVjdCBjb250YWluaW5nIHBsYWNlaG9sZGVyIHJlcGxhY2VtZW50c1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHByb2Nlc3NlZCBtZXNzYWdlIHdpdGggcmVwbGFjZW1lbnRzIGFwcGxpZWRcclxuICAgICAqL1xyXG4gICAgZ2V0TWVzc2FnZShrZXksIHJlcGxhY2VtZW50cyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmdldEdhbWVDb25maWcoKS5tZXNzYWdlcyB8fCB7fTtcclxuICAgICAgICBsZXQgbWVzc2FnZSA9IG1lc3NhZ2VzW2tleV0gfHwga2V5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgW3BsYWNlaG9sZGVyLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVwbGFjZW1lbnRzKSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKG5ldyBSZWdFeHAoYHske3BsYWNlaG9sZGVyfX1gLCAnZycpLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIGNvbnN0YW50IHZhbHVlIGZyb20gdGhlIGNvbmZpZ3VyYXRpb24gd2l0aCBvcHRpb25hbCBkZWZhdWx0IGZhbGxiYWNrLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGNvbnN0YW50IGtleSB0byByZXRyaWV2ZVxyXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlPW51bGxdIC0gRGVmYXVsdCB2YWx1ZSBpZiBrZXkgaXMgbm90IGZvdW5kXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGNvbnN0YW50IHZhbHVlIG9yIGRlZmF1bHRcclxuICAgICAqL1xyXG4gICAgZ2V0Q29uc3RhbnQoa2V5LCBkZWZhdWx0VmFsdWUgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgY29uc3RhbnRzID0gdGhpcy5nZXRHYW1lQ29uZmlnKCkuY29uc3RhbnRzIHx8IHt9O1xyXG4gICAgICAgIHJldHVybiBjb25zdGFudHNba2V5XSAhPT0gdW5kZWZpbmVkID8gY29uc3RhbnRzW2tleV0gOiBkZWZhdWx0VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBVSSBjb25maWd1cmF0aW9uIHNlY3Rpb24gZnJvbSB0aGUgZ2FtZSBjb25maWd1cmF0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgVUkgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgZ2V0VUlDb25maWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0R2FtZUNvbmZpZygpLnVpIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIG1lcmdlIG9mIHR3byBvYmplY3RzLCB3aXRoIHNvdXJjZSBwcm9wZXJ0aWVzIG92ZXJyaWRpbmcgdGFyZ2V0IHByb3BlcnRpZXMuXHJcbiAgICAgKiBBcnJheXMgaW4gdGhlIHNvdXJjZSBjb21wbGV0ZWx5IHJlcGxhY2UgYXJyYXlzIGluIHRoZSB0YXJnZXQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2JqZWN0IHRvIG1lcmdlIGludG9cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdCB0byBtZXJnZSBmcm9tXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbWVyZ2VkIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB7IC4uLnRhcmdldCB9O1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgYXJyYXlzIGVudGlyZWx5XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2Vba2V5XS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSBpbiB0YXJnZXQgJiZcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSBpbnN0YW5jZW9mIE9iamVjdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFBcnJheS5pc0FycmF5KHRhcmdldFtrZXldKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0aGlzLmRlZXBNZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24gd2l0aCBuZXcgY29uZmlndXJhdGlvbiBkYXRhLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3Q29uZmlnIC0gVGhlIG5ldyBjb25maWd1cmF0aW9uIHRvIG1lcmdlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUNvbmZpZyhuZXdDb25maWcpIHtcclxuICAgICAgICB0aGlzLmdhbWVDb25maWcgPSB0aGlzLmRlZXBNZXJnZSh0aGlzLmdhbWVDb25maWcgfHwgdGhpcy5kZWZhdWx0Q29uZmlnLCBuZXdDb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSBjb25maWd1cmF0aW9uIHRvIHRoZSBkZWZhdWx0IHZhbHVlcy5cclxuICAgICAqL1xyXG4gICAgcmVzZXRUb0RlZmF1bHQoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lQ29uZmlnID0gdGhpcy5kZWZhdWx0Q29uZmlnO1xyXG4gICAgfVxyXG59XHJcblxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5Db25maWdNYW5hZ2VyID0gQ29uZmlnTWFuYWdlcjtcclxuXHJcbi8vIEVTIE1vZHVsZSBleHBvcnRzXHJcbmV4cG9ydCB7IENvbmZpZ01hbmFnZXIgfTsgIl0sIm5hbWVzIjpbIkNvbmZpZ01hbmFnZXIiLCJnZXREZWZhdWx0Q29uZmlnIiwidWkiLCJjc3NDbGFzc2VzIiwic2tpbGxJdGVtIiwic2tpbGxIZWFkZXIiLCJza2lsbE5hbWUiLCJza2lsbExldmVsIiwic2tpbGxQcm9ncmVzc0NvbnRhaW5lciIsInNraWxsUHJvZ3Jlc3NCYXIiLCJza2lsbFByb2dyZXNzRmlsbCIsInNraWxsWHAiLCJhY3Rpb25CdXR0b24iLCJuZXdVbmxvY2siLCJuYXJyYXRpb25NZXNzYWdlIiwidGFiQnV0dG9uIiwidGFiUGFuZWwiLCJhY3RpdmUiLCJ0b2FzdCIsInRvYXN0Q29udGFpbmVyIiwiZWxlbWVudElkcyIsIm5hcnJhdGlvbkNvbnRlbnQiLCJza2lsbHNDb250ZW50IiwiYWN0aW9uc0NvbnRlbnQiLCJ0YWJzIiwiaWQiLCJkaXNwbGF5TmFtZSIsImljb24iLCJjb25zdGFudHMiLCJ4cE11bHRpcGxpZXIiLCJkZWZhdWx0TGV2ZWwiLCJkZWZhdWx0WHAiLCJwcm9ncmVzc01heCIsInNraWxscyIsIm1lc3NhZ2VzIiwid2VsY29tZSIsImxldmVsVXAiLCJhY3Rpb25VbmxvY2tlZCIsImFjdGlvbkNvbXBsZXRlZCIsImNvbmZpZ0Vycm9yIiwiY29uZmlnTG9hZGVkIiwic2tpbGxzQ29uZmlnTG9hZGVkIiwic2tpbGxzQ29uZmlnRXJyb3IiLCJnYW1lU2F2ZWQiLCJnYW1lTG9hZGVkIiwibm9TYXZlRm91bmQiLCJzYXZlRXJyb3IiLCJsb2FkRXJyb3IiLCJhY3Rpb25JbnN1ZmZpY2llbnRJdGVtcyIsImFjdGlvbkl0ZW1zQ29uc3VtZWQiLCJhY3Rpb25JdGVtc0dhaW5lZCIsImFjdGlvblRpbWVSZXF1aXJlZCIsImdhbWVTZXR0aW5ncyIsImluaXRpYWxXb29kIiwibG9hZEdhbWVDb25maWciLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsImNvbmZpZyIsImpzb24iLCJnYW1lQ29uZmlnIiwiZGVlcE1lcmdlIiwiZGVmYXVsdENvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImxvYWRTa2lsbHNDb25maWciLCJza2lsbHNDb25maWciLCJsb2FkVHJhaXRzQ29uZmlnIiwidHJhaXRzQ29uZmlnIiwidHJhaXRzIiwibG9hZEFjdGlvbnNDb25maWciLCJhY3Rpb25zQ29uZmlnIiwibG9hZEFsbENvbmZpZ3MiLCJQcm9taXNlIiwiYWxsIiwiZ2V0R2FtZUNvbmZpZyIsImdldFNraWxsc0NvbmZpZyIsImdldFRyYWl0c0NvbmZpZyIsImdldEFjdGlvbnNDb25maWciLCJnZXRNZXNzYWdlIiwia2V5IiwicmVwbGFjZW1lbnRzIiwibWVzc2FnZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVwbGFjZSIsIlJlZ0V4cCIsImdldENvbnN0YW50IiwiZGVmYXVsdFZhbHVlIiwidW5kZWZpbmVkIiwiZ2V0VUlDb25maWciLCJ0YXJnZXQiLCJzb3VyY2UiLCJyZXN1bHQiLCJoYXNPd25Qcm9wZXJ0eSIsIkFycmF5IiwiaXNBcnJheSIsInNsaWNlIiwidXBkYXRlQ29uZmlnIiwibmV3Q29uZmlnIiwicmVzZXRUb0RlZmF1bHQiLCJjb25zdHJ1Y3RvciIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/core/ConfigManager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/core/EventSystem.js":
/*!*************************************************!*\
  !*** ./src/lib/game-engine/core/EventSystem.js ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventSystem: () => (/* binding */ EventSystem)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n/**\r\n * Event System\r\n * \r\n * Handles all event communication between different parts of the game engine.\r\n * Provides decoupled communication and event management.\r\n */ class EventSystem {\n    /**\r\n     * Subscribe to an event\r\n     * @param {string} event - Event name\r\n     * @param {Function} callback - Callback function\r\n     * @param {Object} options - Event options\r\n     */ on(event, callback) {\n        let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        if (!this.enabled) return;\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, []);\n        }\n        const listener = {\n            callback,\n            options,\n            id: this._generateListenerId()\n        };\n        this.listeners.get(event).push(listener);\n        return listener.id; // Return listener ID for removal\n    }\n    /**\r\n     * Subscribe to an event once (auto-removes after first trigger)\r\n     * @param {string} event - Event name\r\n     * @param {Function} callback - Callback function\r\n     * @param {Object} options - Event options\r\n     */ once(event, callback) {\n        let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        if (!this.enabled) return;\n        const onceCallback = (data)=>{\n            callback(data);\n            this.off(event, onceCallback);\n        };\n        return this.on(event, onceCallback, options);\n    }\n    /**\r\n     * Unsubscribe from an event\r\n     * @param {string} event - Event name\r\n     * @param {Function|string} callbackOrId - Callback function or listener ID\r\n     */ off(event, callbackOrId) {\n        if (!this.listeners.has(event)) return;\n        const listeners = this.listeners.get(event);\n        if (typeof callbackOrId === 'string') {\n            // Remove by listener ID\n            const index = listeners.findIndex((listener)=>listener.id === callbackOrId);\n            if (index > -1) {\n                listeners.splice(index, 1);\n            }\n        } else {\n            // Remove by callback function\n            const index = listeners.findIndex((listener)=>listener.callback === callbackOrId);\n            if (index > -1) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n    /**\r\n     * Emit an event to all listeners\r\n     * @param {string} event - Event name\r\n     * @param {Object} data - Event data\r\n     * @param {Object} options - Emission options\r\n     */ emit(event) {\n        let data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        if (!this.enabled) return;\n        const timestamp = Date.now();\n        const eventInfo = {\n            event,\n            data,\n            timestamp,\n            options\n        };\n        // Add to history\n        this._addToHistory(eventInfo);\n        // Get listeners for this event\n        const listeners = this.listeners.get(event) || [];\n        // Emit to all listeners\n        listeners.forEach((listener)=>{\n            try {\n                // Check if listener should be called based on options\n                if (this._shouldCallListener(listener, options)) {\n                    listener.callback(data, eventInfo);\n                }\n            } catch (error) {\n                console.error(\"Error in event listener for \".concat(event, \":\"), error);\n                this.emit('error', {\n                    error,\n                    event,\n                    listenerId: listener.id\n                });\n            }\n        });\n        // Emit to wildcard listeners\n        this._emitToWildcards(event, data, eventInfo);\n    }\n    /**\r\n     * Emit an event asynchronously\r\n     * @param {string} event - Event name\r\n     * @param {Object} data - Event data\r\n     * @param {Object} options - Emission options\r\n     */ async emitAsync(event) {\n        let data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        if (!this.enabled) return;\n        const timestamp = Date.now();\n        const eventInfo = {\n            event,\n            data,\n            timestamp,\n            options\n        };\n        // Add to history\n        this._addToHistory(eventInfo);\n        // Get listeners for this event\n        const listeners = this.listeners.get(event) || [];\n        // Emit to all listeners asynchronously\n        const promises = listeners.map(async (listener)=>{\n            try {\n                if (this._shouldCallListener(listener, options)) {\n                    await listener.callback(data, eventInfo);\n                }\n            } catch (error) {\n                console.error(\"Error in async event listener for \".concat(event, \":\"), error);\n                this.emit('error', {\n                    error,\n                    event,\n                    listenerId: listener.id\n                });\n            }\n        });\n        await Promise.all(promises);\n        // Emit to wildcard listeners\n        await this._emitToWildcardsAsync(event, data, eventInfo);\n    }\n    /**\r\n     * Remove all listeners for an event\r\n     * @param {string} event - Event name\r\n     */ removeAllListeners(event) {\n        if (event) {\n            this.listeners.delete(event);\n        } else {\n            this.listeners.clear();\n        }\n    }\n    /**\r\n     * Get all listeners for an event\r\n     * @param {string} event - Event name\r\n     * @returns {Array} Array of listeners\r\n     */ getListeners(event) {\n        return this.listeners.get(event) || [];\n    }\n    /**\r\n     * Get listener count for an event\r\n     * @param {string} event - Event name\r\n     * @returns {number} Number of listeners\r\n     */ getListenerCount(event) {\n        return this.getListeners(event).length;\n    }\n    /**\r\n     * Get all registered events\r\n     * @returns {Array} Array of event names\r\n     */ getEvents() {\n        return Array.from(this.listeners.keys());\n    }\n    /**\r\n     * Get event history\r\n     * @param {string} event - Optional event filter\r\n     * @param {number} limit - Maximum number of events to return\r\n     * @returns {Array} Array of recent events\r\n     */ getHistory() {\n        let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null, limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        let history = this.eventHistory;\n        if (event) {\n            history = history.filter((item)=>item.event === event);\n        }\n        if (limit) {\n            history = history.slice(-limit);\n        }\n        return history;\n    }\n    /**\r\n     * Clear event history\r\n     */ clearHistory() {\n        this.eventHistory = [];\n    }\n    /**\r\n     * Enable or disable the event system\r\n     * @param {boolean} enabled - Whether events should be enabled\r\n     */ setEnabled(enabled) {\n        this.enabled = enabled;\n    }\n    /**\r\n     * Check if event system is enabled\r\n     * @returns {boolean} Whether events are enabled\r\n     */ isEnabled() {\n        return this.enabled;\n    }\n    /**\r\n     * Set maximum history size\r\n     * @param {number} size - Maximum number of events to keep in history\r\n     */ setMaxHistorySize(size) {\n        this.maxHistorySize = size;\n        this._trimHistory();\n    }\n    /**\r\n     * Get event system statistics\r\n     * @returns {Object} Event system statistics\r\n     */ getStats() {\n        const totalListeners = Array.from(this.listeners.values()).reduce((sum, listeners)=>sum + listeners.length, 0);\n        return {\n            totalEvents: this.listeners.size,\n            totalListeners,\n            historySize: this.eventHistory.length,\n            maxHistorySize: this.maxHistorySize,\n            enabled: this.enabled\n        };\n    }\n    // Private methods\n    /**\r\n     * Add event to history\r\n     * @param {Object} eventInfo - Event information\r\n     */ _addToHistory(eventInfo) {\n        this.eventHistory.push(eventInfo);\n        this._trimHistory();\n    }\n    /**\r\n     * Trim history to maximum size\r\n     */ _trimHistory() {\n        if (this.eventHistory.length > this.maxHistorySize) {\n            this.eventHistory = this.eventHistory.slice(-this.maxHistorySize);\n        }\n    }\n    /**\r\n     * Generate unique listener ID\r\n     * @returns {string} Unique listener ID\r\n     */ _generateListenerId() {\n        return \"listener_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n    }\n    /**\r\n     * Check if listener should be called based on options\r\n     * @param {Object} listener - Listener object\r\n     * @param {Object} options - Emission options\r\n     * @returns {boolean} Whether listener should be called\r\n     */ _shouldCallListener(listener, options) {\n        // Add filtering logic here if needed\n        return true;\n    }\n    /**\r\n     * Emit to wildcard listeners\r\n     * @param {string} event - Event name\r\n     * @param {Object} data - Event data\r\n     * @param {Object} eventInfo - Event information\r\n     */ _emitToWildcards(event, data, eventInfo) {\n        const wildcardListeners = this.listeners.get('*') || [];\n        wildcardListeners.forEach((listener)=>{\n            try {\n                listener.callback({\n                    event,\n                    data\n                }, eventInfo);\n            } catch (error) {\n                console.error(\"Error in wildcard event listener:\", error);\n            }\n        });\n    }\n    /**\r\n     * Emit to wildcard listeners asynchronously\r\n     * @param {string} event - Event name\r\n     * @param {Object} data - Event data\r\n     * @param {Object} eventInfo - Event information\r\n     */ async _emitToWildcardsAsync(event, data, eventInfo) {\n        const wildcardListeners = this.listeners.get('*') || [];\n        const promises = wildcardListeners.map(async (listener)=>{\n            try {\n                await listener.callback({\n                    event,\n                    data\n                }, eventInfo);\n            } catch (error) {\n                console.error(\"Error in async wildcard event listener:\", error);\n            }\n        });\n        await Promise.all(promises);\n    }\n    constructor(){\n        this.listeners = new Map();\n        this.onceListeners = new Map();\n        this.eventHistory = [];\n        this.maxHistorySize = 100;\n        this.enabled = true;\n    }\n}\n// Export for use in other modules\nif ( true && module.exports) {\n    module.exports = EventSystem;\n}\nif (true) window.EventSystem = EventSystem;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvY29yZS9FdmVudFN5c3RlbS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7OztDQUtDLEdBRUQsTUFBTUE7SUFTRjs7Ozs7S0FLQyxHQUNEQyxHQUFHQyxLQUFLLEVBQUVDLFFBQVEsRUFBZ0I7WUFBZEMsVUFBQUEsaUVBQVUsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDQyxPQUFPLEVBQUU7UUFFbkIsSUFBSSxDQUFDLElBQUksQ0FBQ0MsU0FBUyxDQUFDQyxHQUFHLENBQUNMLFFBQVE7WUFDNUIsSUFBSSxDQUFDSSxTQUFTLENBQUNFLEdBQUcsQ0FBQ04sT0FBTyxFQUFFO1FBQ2hDO1FBRUEsTUFBTU8sV0FBVztZQUNiTjtZQUNBQztZQUNBTSxJQUFJLElBQUksQ0FBQ0MsbUJBQW1CO1FBQ2hDO1FBRUEsSUFBSSxDQUFDTCxTQUFTLENBQUNNLEdBQUcsQ0FBQ1YsT0FBT1csSUFBSSxDQUFDSjtRQUUvQixPQUFPQSxTQUFTQyxFQUFFLEVBQUUsaUNBQWlDO0lBQ3pEO0lBRUE7Ozs7O0tBS0MsR0FDREksS0FBS1osS0FBSyxFQUFFQyxRQUFRLEVBQWdCO1lBQWRDLFVBQUFBLGlFQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQ0MsT0FBTyxFQUFFO1FBRW5CLE1BQU1VLGVBQWUsQ0FBQ0M7WUFDbEJiLFNBQVNhO1lBQ1QsSUFBSSxDQUFDQyxHQUFHLENBQUNmLE9BQU9hO1FBQ3BCO1FBRUEsT0FBTyxJQUFJLENBQUNkLEVBQUUsQ0FBQ0MsT0FBT2EsY0FBY1g7SUFDeEM7SUFFQTs7OztLQUlDLEdBQ0RhLElBQUlmLEtBQUssRUFBRWdCLFlBQVksRUFBRTtRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDWixTQUFTLENBQUNDLEdBQUcsQ0FBQ0wsUUFBUTtRQUVoQyxNQUFNSSxZQUFZLElBQUksQ0FBQ0EsU0FBUyxDQUFDTSxHQUFHLENBQUNWO1FBRXJDLElBQUksT0FB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U2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFxjb3JlXFxFdmVudFN5c3RlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRXZlbnQgU3lzdGVtXHJcbiAqIFxyXG4gKiBIYW5kbGVzIGFsbCBldmVudCBjb21tdW5pY2F0aW9uIGJldHdlZW4gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBnYW1lIGVuZ2luZS5cclxuICogUHJvdmlkZXMgZGVjb3VwbGVkIGNvbW11bmljYXRpb24gYW5kIGV2ZW50IG1hbmFnZW1lbnQuXHJcbiAqL1xyXG5cclxuY2xhc3MgRXZlbnRTeXN0ZW0ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vbmNlTGlzdGVuZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIaXN0b3J5ID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhIaXN0b3J5U2l6ZSA9IDEwMDtcclxuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFN1YnNjcmliZSB0byBhbiBldmVudFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBFdmVudCBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIG9uKGV2ZW50LCBjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0ge1xyXG4gICAgICAgICAgICBjYWxsYmFjayxcclxuICAgICAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICAgICAgaWQ6IHRoaXMuX2dlbmVyYXRlTGlzdGVuZXJJZCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lci5pZDsgLy8gUmV0dXJuIGxpc3RlbmVyIElEIGZvciByZW1vdmFsXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlIHRvIGFuIGV2ZW50IG9uY2UgKGF1dG8tcmVtb3ZlcyBhZnRlciBmaXJzdCB0cmlnZ2VyKVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBFdmVudCBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIG9uY2UoZXZlbnQsIGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG9uY2VDYWxsYmFjayA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLm9mZihldmVudCwgb25jZUNhbGxiYWNrKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBvbmNlQ2FsbGJhY2ssIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFVuc3Vic2NyaWJlIGZyb20gYW4gZXZlbnRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjYWxsYmFja09ySWQgLSBDYWxsYmFjayBmdW5jdGlvbiBvciBsaXN0ZW5lciBJRFxyXG4gICAgICovXHJcbiAgICBvZmYoZXZlbnQsIGNhbGxiYWNrT3JJZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFja09ySWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBieSBsaXN0ZW5lciBJRFxyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5maW5kSW5kZXgobGlzdGVuZXIgPT4gbGlzdGVuZXIuaWQgPT09IGNhbGxiYWNrT3JJZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBieSBjYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5maW5kSW5kZXgobGlzdGVuZXIgPT4gbGlzdGVuZXIuY2FsbGJhY2sgPT09IGNhbGxiYWNrT3JJZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IGFuIGV2ZW50IHRvIGFsbCBsaXN0ZW5lcnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRXZlbnQgZGF0YVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBFbWlzc2lvbiBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGVtaXQoZXZlbnQsIGRhdGEgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50SW5mbyA9IHtcclxuICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHRvIGhpc3RvcnlcclxuICAgICAgICB0aGlzLl9hZGRUb0hpc3RvcnkoZXZlbnRJbmZvKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZXQgbGlzdGVuZXJzIGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KSB8fCBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbWl0IHRvIGFsbCBsaXN0ZW5lcnNcclxuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBsaXN0ZW5lciBzaG91bGQgYmUgY2FsbGVkIGJhc2VkIG9uIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zaG91bGRDYWxsTGlzdGVuZXIobGlzdGVuZXIsIG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soZGF0YSwgZXZlbnRJbmZvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGV2ZW50IGxpc3RlbmVyIGZvciAke2V2ZW50fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyBcclxuICAgICAgICAgICAgICAgICAgICBlcnJvciwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVySWQ6IGxpc3RlbmVyLmlkIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbWl0IHRvIHdpbGRjYXJkIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuX2VtaXRUb1dpbGRjYXJkcyhldmVudCwgZGF0YSwgZXZlbnRJbmZvKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IGFuIGV2ZW50IGFzeW5jaHJvbm91c2x5XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIEV2ZW50IGRhdGFcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gRW1pc3Npb24gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBlbWl0QXN5bmMoZXZlbnQsIGRhdGEgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50SW5mbyA9IHtcclxuICAgICAgICAgICAgZXZlbnQsXHJcbiAgICAgICAgICAgIGRhdGEsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWRkIHRvIGhpc3RvcnlcclxuICAgICAgICB0aGlzLl9hZGRUb0hpc3RvcnkoZXZlbnRJbmZvKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZXQgbGlzdGVuZXJzIGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KSB8fCBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbWl0IHRvIGFsbCBsaXN0ZW5lcnMgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IGxpc3RlbmVycy5tYXAoYXN5bmMgbGlzdGVuZXIgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Nob3VsZENhbGxMaXN0ZW5lcihsaXN0ZW5lciwgb3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBsaXN0ZW5lci5jYWxsYmFjayhkYXRhLCBldmVudEluZm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gYXN5bmMgZXZlbnQgbGlzdGVuZXIgZm9yICR7ZXZlbnR9OmAsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLCBcclxuICAgICAgICAgICAgICAgICAgICBldmVudCwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJJZDogbGlzdGVuZXIuaWQgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbWl0IHRvIHdpbGRjYXJkIGxpc3RlbmVyc1xyXG4gICAgICAgIGF3YWl0IHRoaXMuX2VtaXRUb1dpbGRjYXJkc0FzeW5jKGV2ZW50LCBkYXRhLCBldmVudEluZm8pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvciBhbiBldmVudFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIGxpc3RlbmVycyBmb3IgYW4gZXZlbnRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgbGlzdGVuZXJzXHJcbiAgICAgKi9cclxuICAgIGdldExpc3RlbmVycyhldmVudCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpIHx8IFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBsaXN0ZW5lciBjb3VudCBmb3IgYW4gZXZlbnRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBvZiBsaXN0ZW5lcnNcclxuICAgICAqL1xyXG4gICAgZ2V0TGlzdGVuZXJDb3VudChldmVudCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldExpc3RlbmVycyhldmVudCkubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgcmVnaXN0ZXJlZCBldmVudHNcclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgZXZlbnQgbmFtZXNcclxuICAgICAqL1xyXG4gICAgZ2V0RXZlbnRzKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubGlzdGVuZXJzLmtleXMoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGV2ZW50IGhpc3RvcnlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE9wdGlvbmFsIGV2ZW50IGZpbHRlclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IC0gTWF4aW11bSBudW1iZXIgb2YgZXZlbnRzIHRvIHJldHVyblxyXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiByZWNlbnQgZXZlbnRzXHJcbiAgICAgKi9cclxuICAgIGdldEhpc3RvcnkoZXZlbnQgPSBudWxsLCBsaW1pdCA9IG51bGwpIHtcclxuICAgICAgICBsZXQgaGlzdG9yeSA9IHRoaXMuZXZlbnRIaXN0b3J5O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICBoaXN0b3J5ID0gaGlzdG9yeS5maWx0ZXIoaXRlbSA9PiBpdGVtLmV2ZW50ID09PSBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChsaW1pdCkge1xyXG4gICAgICAgICAgICBoaXN0b3J5ID0gaGlzdG9yeS5zbGljZSgtbGltaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gaGlzdG9yeTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciBldmVudCBoaXN0b3J5XHJcbiAgICAgKi9cclxuICAgIGNsZWFySGlzdG9yeSgpIHtcclxuICAgICAgICB0aGlzLmV2ZW50SGlzdG9yeSA9IFtdO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBldmVudCBzeXN0ZW1cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCAtIFdoZXRoZXIgZXZlbnRzIHNob3VsZCBiZSBlbmFibGVkXHJcbiAgICAgKi9cclxuICAgIHNldEVuYWJsZWQoZW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgZXZlbnQgc3lzdGVtIGlzIGVuYWJsZWRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGV2ZW50cyBhcmUgZW5hYmxlZFxyXG4gICAgICovXHJcbiAgICBpc0VuYWJsZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWF4aW11bSBoaXN0b3J5IHNpemVcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTWF4aW11bSBudW1iZXIgb2YgZXZlbnRzIHRvIGtlZXAgaW4gaGlzdG9yeVxyXG4gICAgICovXHJcbiAgICBzZXRNYXhIaXN0b3J5U2l6ZShzaXplKSB7XHJcbiAgICAgICAgdGhpcy5tYXhIaXN0b3J5U2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fdHJpbUhpc3RvcnkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgZXZlbnQgc3lzdGVtIHN0YXRpc3RpY3NcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEV2ZW50IHN5c3RlbSBzdGF0aXN0aWNzXHJcbiAgICAgKi9cclxuICAgIGdldFN0YXRzKCkge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsTGlzdGVuZXJzID0gQXJyYXkuZnJvbSh0aGlzLmxpc3RlbmVycy52YWx1ZXMoKSlcclxuICAgICAgICAgICAgLnJlZHVjZSgoc3VtLCBsaXN0ZW5lcnMpID0+IHN1bSArIGxpc3RlbmVycy5sZW5ndGgsIDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvdGFsRXZlbnRzOiB0aGlzLmxpc3RlbmVycy5zaXplLFxyXG4gICAgICAgICAgICB0b3RhbExpc3RlbmVycyxcclxuICAgICAgICAgICAgaGlzdG9yeVNpemU6IHRoaXMuZXZlbnRIaXN0b3J5Lmxlbmd0aCxcclxuICAgICAgICAgICAgbWF4SGlzdG9yeVNpemU6IHRoaXMubWF4SGlzdG9yeVNpemUsXHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuZW5hYmxlZFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFByaXZhdGUgbWV0aG9kc1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEFkZCBldmVudCB0byBoaXN0b3J5XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRJbmZvIC0gRXZlbnQgaW5mb3JtYXRpb25cclxuICAgICAqL1xyXG4gICAgX2FkZFRvSGlzdG9yeShldmVudEluZm8pIHtcclxuICAgICAgICB0aGlzLmV2ZW50SGlzdG9yeS5wdXNoKGV2ZW50SW5mbyk7XHJcbiAgICAgICAgdGhpcy5fdHJpbUhpc3RvcnkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmltIGhpc3RvcnkgdG8gbWF4aW11bSBzaXplXHJcbiAgICAgKi9cclxuICAgIF90cmltSGlzdG9yeSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ldmVudEhpc3RvcnkubGVuZ3RoID4gdGhpcy5tYXhIaXN0b3J5U2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGlzdG9yeSA9IHRoaXMuZXZlbnRIaXN0b3J5LnNsaWNlKC10aGlzLm1heEhpc3RvcnlTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgdW5pcXVlIGxpc3RlbmVyIElEXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBVbmlxdWUgbGlzdGVuZXIgSURcclxuICAgICAqL1xyXG4gICAgX2dlbmVyYXRlTGlzdGVuZXJJZCgpIHtcclxuICAgICAgICByZXR1cm4gYGxpc3RlbmVyXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBsaXN0ZW5lciBzaG91bGQgYmUgY2FsbGVkIGJhc2VkIG9uIG9wdGlvbnNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaXN0ZW5lciAtIExpc3RlbmVyIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBFbWlzc2lvbiBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBsaXN0ZW5lciBzaG91bGQgYmUgY2FsbGVkXHJcbiAgICAgKi9cclxuICAgIF9zaG91bGRDYWxsTGlzdGVuZXIobGlzdGVuZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICAvLyBBZGQgZmlsdGVyaW5nIGxvZ2ljIGhlcmUgaWYgbmVlZGVkXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogRW1pdCB0byB3aWxkY2FyZCBsaXN0ZW5lcnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIEV2ZW50IG5hbWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRXZlbnQgZGF0YVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50SW5mbyAtIEV2ZW50IGluZm9ybWF0aW9uXHJcbiAgICAgKi9cclxuICAgIF9lbWl0VG9XaWxkY2FyZHMoZXZlbnQsIGRhdGEsIGV2ZW50SW5mbykge1xyXG4gICAgICAgIGNvbnN0IHdpbGRjYXJkTGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KCcqJykgfHwgW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2lsZGNhcmRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsYmFjayh7IGV2ZW50LCBkYXRhIH0sIGV2ZW50SW5mbyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiB3aWxkY2FyZCBldmVudCBsaXN0ZW5lcjpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IHRvIHdpbGRjYXJkIGxpc3RlbmVycyBhc3luY2hyb25vdXNseVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBFdmVudCBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRJbmZvIC0gRXZlbnQgaW5mb3JtYXRpb25cclxuICAgICAqL1xyXG4gICAgYXN5bmMgX2VtaXRUb1dpbGRjYXJkc0FzeW5jKGV2ZW50LCBkYXRhLCBldmVudEluZm8pIHtcclxuICAgICAgICBjb25zdCB3aWxkY2FyZExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldCgnKicpIHx8IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gd2lsZGNhcmRMaXN0ZW5lcnMubWFwKGFzeW5jIGxpc3RlbmVyID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGxpc3RlbmVyLmNhbGxiYWNrKHsgZXZlbnQsIGRhdGEgfSwgZXZlbnRJbmZvKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGFzeW5jIHdpbGRjYXJkIGV2ZW50IGxpc3RlbmVyOmAsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhwb3J0IGZvciB1c2UgaW4gb3RoZXIgbW9kdWxlc1xyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRTeXN0ZW07XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LkV2ZW50U3lzdGVtID0gRXZlbnRTeXN0ZW07XHJcblxyXG4vLyBFUyBNb2R1bGUgZXhwb3J0c1xyXG5leHBvcnQgeyBFdmVudFN5c3RlbSB9OyAiXSwibmFtZXMiOlsiRXZlbnRTeXN0ZW0iLCJvbiIsImV2ZW50IiwiY2FsbGJhY2siLCJvcHRpb25zIiwiZW5hYmxlZCIsImxpc3RlbmVycyIsImhhcyIsInNldCIsImxpc3RlbmVyIiwiaWQiLCJfZ2VuZXJhdGVMaXN0ZW5lcklkIiwiZ2V0IiwicHVzaCIsIm9uY2UiLCJvbmNlQ2FsbGJhY2siLCJkYXRhIiwib2ZmIiwiY2FsbGJhY2tPcklkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJlbWl0IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImV2ZW50SW5mbyIsIl9hZGRUb0hpc3RvcnkiLCJmb3JFYWNoIiwiX3Nob3VsZENhbGxMaXN0ZW5lciIsImVycm9yIiwiY29uc29sZSIsImxpc3RlbmVySWQiLCJfZW1pdFRvV2lsZGNhcmRzIiwiZW1pdEFzeW5jIiwicHJvbWlzZXMiLCJtYXAiLCJQcm9taXNlIiwiYWxsIiwiX2VtaXRUb1dpbGRjYXJkc0FzeW5jIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZGVsZXRlIiwiY2xlYXIiLCJnZXRMaXN0ZW5lcnMiLCJnZXRMaXN0ZW5lckNvdW50IiwibGVuZ3RoIiwiZ2V0RXZlbnRzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsImdldEhpc3RvcnkiLCJsaW1pdCIsImhpc3RvcnkiLCJldmVudEhpc3RvcnkiLCJmaWx0ZXIiLCJpdGVtIiwic2xpY2UiLCJjbGVhckhpc3RvcnkiLCJzZXRFbmFibGVkIiwiaXNFbmFibGVkIiwic2V0TWF4SGlzdG9yeVNpemUiLCJzaXplIiwibWF4SGlzdG9yeVNpemUiLCJfdHJpbUhpc3RvcnkiLCJnZXRTdGF0cyIsInRvdGFsTGlzdGVuZXJzIiwidmFsdWVzIiwicmVkdWNlIiwic3VtIiwidG90YWxFdmVudHMiLCJoaXN0b3J5U2l6ZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsIndpbGRjYXJkTGlzdGVuZXJzIiwiY29uc3RydWN0b3IiLCJNYXAiLCJvbmNlTGlzdGVuZXJzIiwibW9kdWxlIiwiZXhwb3J0cyIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/core/EventSystem.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/core/GameEngine.js":
/*!************************************************!*\
  !*** ./src/lib/game-engine/core/GameEngine.js ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameEngine: () => (/* binding */ GameEngine)\n/* harmony export */ });\n/* harmony import */ var _GameStateManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GameStateManager.js */ \"(app-pages-browser)/./src/lib/game-engine/core/GameStateManager.js\");\n/* harmony import */ var _EventSystem_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventSystem.js */ \"(app-pages-browser)/./src/lib/game-engine/core/EventSystem.js\");\n/* harmony import */ var _AssetLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AssetLoader.js */ \"(app-pages-browser)/./src/lib/game-engine/core/AssetLoader.js\");\n/* harmony import */ var _ConfigManager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ConfigManager.js */ \"(app-pages-browser)/./src/lib/game-engine/core/ConfigManager.js\");\n/* harmony import */ var _utils_Localization_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Localization.js */ \"(app-pages-browser)/./src/lib/game-engine/utils/Localization.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n/**\r\n * Core Game Engine\r\n * \r\n * This is the main engine class that orchestrates all game systems.\r\n * It maintains clean separation between engine logic and game data,\r\n * allowing the same engine to run different games with different data sets.\r\n */ // Import core systems\n\n\n\n\n\nclass GameEngine {\n    /**\r\n     * Initialize the game with a specific mod/data set\r\n     * @param {string} modId - The mod to load (e.g., 'base-game', 'fantasy-mod')\r\n     * @param {Object} options - Additional initialization options\r\n     */ async initialize(modId) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        try {\n            console.log(\"Initializing game engine with mod: \".concat(modId));\n            // Load mod data\n            this.currentMod = await this._loadMod(modId);\n            this.gameData = this.currentMod.data;\n            // Initialize game systems with mod data\n            await this._initializeGameSystems();\n            // Set up cross-system references\n            this._setupSystemReferences();\n            // Set up event listeners\n            this._setupEventListeners();\n            // Load saved state if requested\n            if (options.loadSavedState !== false) {\n                this.stateManager.loadGameState(this.skillManager, this.inventoryManager, this.traitManager);\n            }\n            // Start auto-save\n            this._startAutoSave();\n            this.isRunning = true;\n            console.log('Game engine initialized successfully');\n            // Emit initialization complete event\n            this.eventSystem.emit('engine:initialized', {\n                modId,\n                gameData: this.gameData\n            });\n        } catch (error) {\n            console.error('Failed to initialize game engine:', error);\n            throw error;\n        }\n    }\n    /**\r\n     * Start the game\r\n     */ start() {\n        if (!this.isRunning) {\n            throw new Error('Game engine must be initialized before starting');\n        }\n        console.log('Starting game engine');\n        this.eventSystem.emit('engine:started');\n    }\n    /**\r\n     * Pause the game\r\n     */ pause() {\n        console.log('Pausing game engine');\n        this.eventSystem.emit('engine:paused');\n    }\n    /**\r\n     * Resume the game\r\n     */ resume() {\n        console.log('Resuming game engine');\n        this.eventSystem.emit('engine:resumed');\n    }\n    /**\r\n     * Stop the game and clean up\r\n     */ stop() {\n        console.log('Stopping game engine');\n        // Stop auto-save\n        this._stopAutoSave();\n        // Save final state\n        this.stateManager.save();\n        // Clean up event listeners\n        this._cleanupEventListeners();\n        this.isRunning = false;\n        this.eventSystem.emit('engine:stopped');\n    }\n    /**\r\n     * Switch to a different mod/game\r\n     * @param {string} modId - The new mod to load\r\n     */ async switchMod(modId) {\n        console.log(\"Switching to mod: \".concat(modId));\n        // Stop current game\n        this.stop();\n        // Initialize with new mod\n        await this.initialize(modId);\n        // Start new game\n        this.start();\n    }\n    /**\r\n     * Get a system by name\r\n     * @param {string} systemName - The name of the system to get\r\n     * @returns {Object} The system instance\r\n     */ getSystem(systemName) {\n        const systems = {\n            events: this.eventSystem,\n            state: this.stateManager,\n            config: this.configManager,\n            assets: this.assetLoader,\n            mods: this.modManager,\n            skills: this.skillManager,\n            inventory: this.inventoryManager,\n            traits: this.traitManager,\n            actions: this.actionManager,\n            species: this.speciesSystem,\n            locations: this.locationSystem,\n            achievements: this.achievementSystem,\n            encyclopedia: this.encyclopediaSystem,\n            ui: this.uiManager\n        };\n        return systems[systemName] || null;\n    }\n    /**\r\n     * Get current game data\r\n     * @returns {Object} Current game data\r\n     */ getGameData() {\n        return this.gameData;\n    }\n    /**\r\n     * Get current mod information\r\n     * @returns {Object} Current mod data\r\n     */ getCurrentMod() {\n        return this.currentMod;\n    }\n    // Private methods\n    _initializeCoreSystems() {\n        // Initialize core systems\n        this.stateManager = new _GameStateManager_js__WEBPACK_IMPORTED_MODULE_0__.GameStateManager();\n        this.eventSystem = new _EventSystem_js__WEBPACK_IMPORTED_MODULE_1__.EventSystem();\n        this.assetLoader = new _AssetLoader_js__WEBPACK_IMPORTED_MODULE_2__.AssetLoader(this.config.assetCacheSize);\n        this.localization = new _utils_Localization_js__WEBPACK_IMPORTED_MODULE_4__.Localization(this.config.defaultLanguage);\n        this.configManager = new _ConfigManager_js__WEBPACK_IMPORTED_MODULE_3__.ConfigManager();\n        // Set up event listeners\n        this._setupEventListeners();\n    }\n    /**\r\n     * Initialize game systems\r\n     */ async _initializeGameSystems() {\n        console.log('Initializing game systems...');\n        // Load system modules first\n        await this._loadSystemModules();\n        // Initialize mod manager after modules are loaded\n        this.modManager = new ModManager(this.eventSystem, this.assetLoader);\n        await this.modManager.initialize();\n        // Get mod data\n        const modData = this.modManager.getAllModData();\n        // Initialize systems with mod data (only create the ones that need special initialization)\n        this.locationSystem = new LocationSystem(modData.locations || {}, this.stateManager, this.eventSystem);\n        this.achievementSystem = new AchievementSystem(modData.achievements || {}, this.stateManager, this.eventSystem);\n        this.encyclopediaSystem = new EncyclopediaSystem(modData, this.eventSystem);\n        // Initialize systems (only call initialize if the method exists)\n        if (this.skillManager.initialize) await this.skillManager.initialize();\n        if (this.inventoryManager.initialize) await this.inventoryManager.initialize();\n        if (this.traitManager.initialize) await this.traitManager.initialize();\n        if (this.actionManager.initialize) await this.actionManager.initialize();\n        if (this.locationSystem.initialize) await this.locationSystem.initialize();\n        if (this.achievementSystem.initialize) await this.achievementSystem.initialize();\n        if (this.encyclopediaSystem.initialize) await this.encyclopediaSystem.initialize();\n        if (this.uiManager.initialize) await this.uiManager.initialize();\n        // Load configurations from mod data\n        this.skillManager.loadFromConfig(modData.skills || {}, modData.config || {});\n        this.inventoryManager.loadFromConfig(modData.items || {});\n        this.traitManager.loadFromConfig(modData.traits || {});\n        this.actionManager.loadFromConfig(modData.actions || {});\n        // Set up cross-system references\n        this._setupSystemReferences();\n        console.log('Game systems initialized');\n    }\n    /**\r\n     * Load all required system modules dynamically\r\n     */ async _loadSystemModules() {\n        // In Next.js environment, modules are imported directly\n        // No need for dynamic loading since we're using ES modules\n        console.log('System modules loaded via ES imports');\n        try {\n            // Import all system modules\n            const { SkillManager } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_SkillManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/SkillManager.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/SkillManager.js\"));\n            const { InventoryManager } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_InventoryManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/InventoryManager.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/InventoryManager.js\"));\n            const { TraitManager } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_TraitManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/TraitManager.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/TraitManager.js\"));\n            const { ActionAvailabilityEngine } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_ActionAvailabilityEngine_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/ActionAvailabilityEngine.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/ActionAvailabilityEngine.js\"));\n            const { ActionManager } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_ActionManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/ActionManager.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/ActionManager.js\"));\n            const { SpeciesSystem } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_SpeciesSystem_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/SpeciesSystem.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/SpeciesSystem.js\"));\n            const { LocationSystem: LocationSystem1 } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_LocationSystem_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/LocationSystem.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/LocationSystem.js\"));\n            const { AchievementSystem: AchievementSystem1 } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_AchievementSystem_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/AchievementSystem.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/AchievementSystem.js\"));\n            const { EncyclopediaSystem: EncyclopediaSystem1 } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_systems_EncyclopediaSystem_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../systems/EncyclopediaSystem.js */ \"(app-pages-browser)/./src/lib/game-engine/systems/EncyclopediaSystem.js\"));\n            const { UIManager } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_ui_UIManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../ui/UIManager.js */ \"(app-pages-browser)/./src/lib/game-engine/ui/UIManager.js\"));\n            const { EncyclopediaUI } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_ui_EncyclopediaUI_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../ui/EncyclopediaUI.js */ \"(app-pages-browser)/./src/lib/game-engine/ui/EncyclopediaUI.js\"));\n            const { FoodCategoryUI } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_ui_FoodCategoryUI_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../ui/FoodCategoryUI.js */ \"(app-pages-browser)/./src/lib/game-engine/ui/FoodCategoryUI.js\"));\n            const { ModManager: ModManager1 } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_src_lib_game-engine_core_ModManager_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./ModManager.js */ \"(app-pages-browser)/./src/lib/game-engine/core/ModManager.js\"));\n            // Initialize managers with imported classes\n            this.skillManager = new SkillManager();\n            this.inventoryManager = new InventoryManager();\n            this.traitManager = new TraitManager();\n            this.actionAvailabilityEngine = new ActionAvailabilityEngine();\n            this.actionManager = new ActionManager();\n            this.speciesSystem = new SpeciesSystem();\n            this.locationSystem = new LocationSystem1();\n            this.achievementSystem = new AchievementSystem1();\n            this.encyclopediaSystem = new EncyclopediaSystem1();\n            this.uiManager = new UIManager();\n            this.encyclopediaUI = new EncyclopediaUI();\n            this.foodCategoryUI = new FoodCategoryUI();\n            this.modManager = new ModManager1();\n            console.log('Successfully loaded all system modules');\n        } catch (error) {\n            console.error('Failed to load system modules:', error);\n            throw error;\n        }\n    }\n    /**\r\n     * Set up cross-system references\r\n     */ _setupSystemReferences() {\n        // Set up cross-system references\n        if (this.actionManager && this.locationSystem) {\n            this.actionManager.setLocationSystem(this.locationSystem);\n        }\n        if (this.skillManager && this.inventoryManager) {\n            this.skillManager.setInventorySystem(this.inventoryManager);\n        }\n        if (this.actionManager && this.skillManager) {\n            this.actionManager.setSkillSystem(this.skillManager);\n        }\n        if (this.actionManager && this.inventoryManager) {\n            this.actionManager.setInventorySystem(this.inventoryManager);\n        }\n        // Set up quest and NPC system references (placeholder for future systems)\n        if (this.actionManager) {\n        // TODO: Add actual quest and NPC systems when implemented\n        // this.actionManager.setQuestSystem(this.questSystem);\n        // this.actionManager.setNPCSystem(this.npcSystem);\n        }\n        if (this.achievementSystem && this.skillManager) {\n            this.achievementSystem.setSkillSystem(this.skillManager);\n        }\n        if (this.achievementSystem && this.inventoryManager) {\n            this.achievementSystem.setInventorySystem(this.inventoryManager);\n        }\n        // Set up manager references\n        if (this.skillManager && this.configManager) {\n            this.skillManager.setConfigManager(this.configManager);\n        }\n        if (this.skillManager && this.uiManager) {\n            this.skillManager.setUIManager(this.uiManager);\n        }\n        if (this.skillManager && this.eventSystem) {\n            this.skillManager.setEventSystem(this.eventSystem);\n        }\n        if (this.actionManager && this.configManager) {\n            this.actionManager.setConfigManager(this.configManager);\n        }\n        if (this.actionManager && this.uiManager) {\n            this.actionManager.setUIManager(this.uiManager);\n        }\n        if (this.inventoryManager && this.configManager) {\n            this.inventoryManager.setConfigManager(this.configManager);\n        }\n        if (this.inventoryManager && this.uiManager) {\n            this.inventoryManager.setUIManager(this.uiManager);\n        }\n        if (this.inventoryManager && this.eventSystem) {\n            this.inventoryManager.setEventSystem(this.eventSystem);\n        }\n        if (this.traitManager && this.configManager) {\n            this.traitManager.setConfigManager(this.configManager);\n        }\n        if (this.traitManager && this.uiManager) {\n            this.traitManager.setUIManager(this.uiManager);\n        }\n    }\n    async _loadMod(modId) {\n        // For now, just return the base game data\n        // In the future, this could load different mods\n        return {\n            id: modId,\n            manifest: {\n                name: 'Base Game',\n                version: '1.0.0'\n            },\n            data: {}\n        };\n    }\n    async _loadItemsData() {\n        try {\n            const response = await fetch('data/items.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error('Failed to load items data:', error);\n            return {};\n        }\n    }\n    async _loadSpeciesData() {\n        try {\n            const response = await fetch('data/species.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error('Failed to load species data:', error);\n            return {};\n        }\n    }\n    async _loadLocationsData() {\n        try {\n            const response = await fetch('data/locations.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error('Failed to load locations data:', error);\n            return {};\n        }\n    }\n    async _loadAchievementsData() {\n        try {\n            const response = await fetch('data/achievements.json');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error('Failed to load achievements data:', error);\n            return {};\n        }\n    }\n    _setupEventListeners() {\n        // Set up global event listeners\n        this.eventSystem.on('state:changed', ()=>{\n            this.stateManager.save();\n        });\n        this.eventSystem.on('error', (error)=>{\n            console.error('Game engine error:', error);\n        });\n        // Set up location change events\n        this.eventSystem.on('location:changed', (data)=>{\n            console.log('Location changed:', data);\n            // Emit event for UI updates\n            this.eventSystem.emit('ui:locationChanged', data);\n        });\n    }\n    _cleanupEventListeners() {\n        // Clean up event listeners\n        this.eventSystem.removeAllListeners();\n    }\n    _startAutoSave() {\n        this.autoSaveInterval = setInterval(()=>{\n            this.stateManager.save();\n        }, this.config.autoSaveInterval);\n    }\n    _stopAutoSave() {\n        if (this.autoSaveInterval) {\n            clearInterval(this.autoSaveInterval);\n            this.autoSaveInterval = null;\n        }\n    }\n    constructor(config = {}){\n        this.config = {\n            autoSaveInterval: 120000,\n            defaultLanguage: 'en',\n            assetCacheSize: 100,\n            ...config\n        };\n        // Core systems\n        this.stateManager = null;\n        this.eventSystem = null;\n        this.assetLoader = null;\n        this.localization = null;\n        this.configManager = null;\n        // Game systems\n        this.skillManager = null;\n        this.inventoryManager = null;\n        this.speciesSystem = null;\n        this.actionManager = null;\n        this.achievementSystem = null;\n        this.locationSystem = null;\n        this.encyclopediaSystem = null;\n        this.traitManager = null;\n        this.uiManager = null;\n        // Game state\n        this.isRunning = false;\n        this.currentMod = null;\n        this.gameData = null;\n        // Initialize core systems\n        this._initializeCoreSystems();\n    }\n}\n// Export for use in other modules\nif ( true && module.exports) {\n    module.exports = GameEngine;\n}\nif (true) window.GameEngine = GameEngine;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvY29yZS9HYW1lRW5naW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0NBTUMsR0FFRCxzQkFBc0I7QUFDbUM7QUFDVjtBQUNBO0FBQ0k7QUFDSztBQUV4RCxNQUFNSztJQW9DRjs7OztLQUlDLEdBQ0QsTUFBTUMsV0FBV0MsS0FBSyxFQUFnQjtZQUFkQyxVQUFBQSxpRUFBVSxDQUFDO1FBQy9CLElBQUk7WUFDQUMsUUFBUUMsR0FBRyxDQUFDLHNDQUE0QyxPQUFOSDtZQUVsRCxnQkFBZ0I7WUFDaEIsSUFBSSxDQUFDSSxVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUNDLFFBQVEsQ0FBQ0w7WUFDdEMsSUFBSSxDQUFDTSxRQUFRLEdBQUcsSUFBSSxDQUFDRixVQUFVLENBQUNHLElBQUk7WUFFcEMsd0NBQXdDO1lBQ3hDLE1BQU0sSUFBSSxDQUFDQyxzQkFBc0I7WUFFakMsaUNBQWlDO1lBQ2pDLElBQUksQ0FBQ0Msc0JBQXNCO1lBRTNCLHlCQUF5QjtZQUN6QixJQUFJLENBQUNDLG9CQUFvQjtZQUV6QixnQ0FBZ0M7WUFDaEMsSUFBSVQsUUFBUVUsY0FBYyxLQUFLLE9BQU87Z0JBQ2xDLElBQUksQ0FBQ0MsWUFBWSxDQUFDQyxhQUFhLENBQUMsSUFBSSxDQUFDQyxZQUFZLEVBQUUsSUFBSSxDQUFDQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUNDLFlBQVk7WUFDL0Y7WUFFQSxrQkFBa0I7WUFDbEIsSUFBSSxDQUFDQyxjQUFjO1lBRW5CLElBQUksQ0FBQ0MsU0FBUyxHQUFHO1lBQ2pCaEIsUUFBUUMsR0FBRyxDQUFDO1lBRVoscUNBQXFDO1lBQ3JDLElBQUksQ0FBQ2dCLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQjtnQkFBRXBCO2dCQUFPTSxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUFDO1FBRWpGLEVBQUUsT0FBT2UsT0FBTztZQUNabkIsUUFBUW1CLEtBQUssQ0FBQyxx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LENBQUNJLGtCQUFrQixHQUFHO1FBQzFCLElBQUksQ0FBQ3RDLFlBQVksR0FBRztRQUNwQixJQUFJLENBQUN3QyxTQUFTLEdBQUc7UUFFakIsYUFBYTtRQUNiLElBQUksQ0FBQ3RDLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNkLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNFLFFBQVEsR0FBRztRQUVoQiwwQkFBMEI7UUFDMUIsSUFBSSxDQUFDcUQsc0JBQXNCO0lBQy9CO0FBNmFKO0FBRUEsa0NBQWtDO0FBQ2xDLElBQUksS0FBNkIsSUFBSWtELE9BQU9DLE9BQU8sRUFBRTtJQUNqREQsT0FBT0MsT0FBTyxHQUFHaEg7QUFDckI7QUFFQSxJQUFJLElBQTZCLEVBQUVpSCxPQUFPakgsVUFBVSxHQUFHQTtBQUV2RCxvQkFBb0I7QUFDRSIsInNvdXJjZXMiOlsiQzpcXEdpdEh1YlxcU2VsZlxcdGF2ZXJuc1xcc3JjXFxsaWJcXGdhbWUtZW5naW5lXFxjb3JlXFxHYW1lRW5naW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3JlIEdhbWUgRW5naW5lXHJcbiAqIFxyXG4gKiBUaGlzIGlzIHRoZSBtYWluIGVuZ2luZSBjbGFzcyB0aGF0IG9yY2hlc3RyYXRlcyBhbGwgZ2FtZSBzeXN0ZW1zLlxyXG4gKiBJdCBtYWludGFpbnMgY2xlYW4gc2VwYXJhdGlvbiBiZXR3ZWVuIGVuZ2luZSBsb2dpYyBhbmQgZ2FtZSBkYXRhLFxyXG4gKiBhbGxvd2luZyB0aGUgc2FtZSBlbmdpbmUgdG8gcnVuIGRpZmZlcmVudCBnYW1lcyB3aXRoIGRpZmZlcmVudCBkYXRhIHNldHMuXHJcbiAqL1xyXG5cclxuLy8gSW1wb3J0IGNvcmUgc3lzdGVtc1xyXG5pbXBvcnQgeyBHYW1lU3RhdGVNYW5hZ2VyIH0gZnJvbSAnLi9HYW1lU3RhdGVNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLmpzJztcclxuaW1wb3J0IHsgQXNzZXRMb2FkZXIgfSBmcm9tICcuL0Fzc2V0TG9hZGVyLmpzJztcclxuaW1wb3J0IHsgQ29uZmlnTWFuYWdlciB9IGZyb20gJy4vQ29uZmlnTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IExvY2FsaXphdGlvbiB9IGZyb20gJy4uL3V0aWxzL0xvY2FsaXphdGlvbi5qcyc7XHJcblxyXG5jbGFzcyBHYW1lRW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIGF1dG9TYXZlSW50ZXJ2YWw6IDEyMDAwMCwgLy8gMiBtaW51dGVzXHJcbiAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogJ2VuJyxcclxuICAgICAgICAgICAgYXNzZXRDYWNoZVNpemU6IDEwMCxcclxuICAgICAgICAgICAgLi4uY29uZmlnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb3JlIHN5c3RlbXNcclxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hc3NldExvYWRlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sb2NhbGl6YXRpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29uZmlnTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR2FtZSBzeXN0ZW1zXHJcbiAgICAgICAgdGhpcy5za2lsbE1hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5TWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zcGVjaWVzU3lzdGVtID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFjdGlvbk1hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWNoaWV2ZW1lbnRTeXN0ZW0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9jYXRpb25TeXN0ZW0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZW5jeWNsb3BlZGlhU3lzdGVtID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRyYWl0TWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy51aU1hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdhbWUgc3RhdGVcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1vZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nYW1lRGF0YSA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb3JlIHN5c3RlbXNcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplQ29yZVN5c3RlbXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBnYW1lIHdpdGggYSBzcGVjaWZpYyBtb2QvZGF0YSBzZXRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RJZCAtIFRoZSBtb2QgdG8gbG9hZCAoZS5nLiwgJ2Jhc2UtZ2FtZScsICdmYW50YXN5LW1vZCcpXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgaW5pdGlhbGl6YXRpb24gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKG1vZElkLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSW5pdGlhbGl6aW5nIGdhbWUgZW5naW5lIHdpdGggbW9kOiAke21vZElkfWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTG9hZCBtb2QgZGF0YVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb2QgPSBhd2FpdCB0aGlzLl9sb2FkTW9kKG1vZElkKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGF0YSA9IHRoaXMuY3VycmVudE1vZC5kYXRhO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBnYW1lIHN5c3RlbXMgd2l0aCBtb2QgZGF0YVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9pbml0aWFsaXplR2FtZVN5c3RlbXMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNldCB1cCBjcm9zcy1zeXN0ZW0gcmVmZXJlbmNlc1xyXG4gICAgICAgICAgICB0aGlzLl9zZXR1cFN5c3RlbVJlZmVyZW5jZXMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNldCB1cCBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgdGhpcy5fc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTG9hZCBzYXZlZCBzdGF0ZSBpZiByZXF1ZXN0ZWRcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9hZFNhdmVkU3RhdGUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5sb2FkR2FtZVN0YXRlKHRoaXMuc2tpbGxNYW5hZ2VyLCB0aGlzLmludmVudG9yeU1hbmFnZXIsIHRoaXMudHJhaXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU3RhcnQgYXV0by1zYXZlXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1NhdmUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgZW5naW5lIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRW1pdCBpbml0aWFsaXphdGlvbiBjb21wbGV0ZSBldmVudFxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50U3lzdGVtLmVtaXQoJ2VuZ2luZTppbml0aWFsaXplZCcsIHsgbW9kSWQsIGdhbWVEYXRhOiB0aGlzLmdhbWVEYXRhIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBnYW1lIGVuZ2luZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCB0aGUgZ2FtZVxyXG4gICAgICovXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2FtZSBlbmdpbmUgbXVzdCBiZSBpbml0aWFsaXplZCBiZWZvcmUgc3RhcnRpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGdhbWUgZW5naW5lJyk7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5lbWl0KCdlbmdpbmU6c3RhcnRlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFBhdXNlIHRoZSBnYW1lXHJcbiAgICAgKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQYXVzaW5nIGdhbWUgZW5naW5lJyk7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5lbWl0KCdlbmdpbmU6cGF1c2VkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogUmVzdW1lIHRoZSBnYW1lXHJcbiAgICAgKi9cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVzdW1pbmcgZ2FtZSBlbmdpbmUnKTtcclxuICAgICAgICB0aGlzLmV2ZW50U3lzdGVtLmVtaXQoJ2VuZ2luZTpyZXN1bWVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU3RvcCB0aGUgZ2FtZSBhbmQgY2xlYW4gdXBcclxuICAgICAqL1xyXG4gICAgc3RvcCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnU3RvcHBpbmcgZ2FtZSBlbmdpbmUnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdG9wIGF1dG8tc2F2ZVxyXG4gICAgICAgIHRoaXMuX3N0b3BBdXRvU2F2ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNhdmUgZmluYWwgc3RhdGVcclxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zYXZlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5fY2xlYW51cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV2ZW50U3lzdGVtLmVtaXQoJ2VuZ2luZTpzdG9wcGVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU3dpdGNoIHRvIGEgZGlmZmVyZW50IG1vZC9nYW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kSWQgLSBUaGUgbmV3IG1vZCB0byBsb2FkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHN3aXRjaE1vZChtb2RJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBTd2l0Y2hpbmcgdG8gbW9kOiAke21vZElkfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0b3AgY3VycmVudCBnYW1lXHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aXRoIG5ldyBtb2RcclxuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUobW9kSWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0YXJ0IG5ldyBnYW1lXHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIHN5c3RlbSBieSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3lzdGVtTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBzeXN0ZW0gdG8gZ2V0XHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc3lzdGVtIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGdldFN5c3RlbShzeXN0ZW1OYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc3lzdGVtcyA9IHtcclxuICAgICAgICAgICAgZXZlbnRzOiB0aGlzLmV2ZW50U3lzdGVtLFxyXG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZU1hbmFnZXIsXHJcbiAgICAgICAgICAgIGNvbmZpZzogdGhpcy5jb25maWdNYW5hZ2VyLFxyXG4gICAgICAgICAgICBhc3NldHM6IHRoaXMuYXNzZXRMb2FkZXIsXHJcbiAgICAgICAgICAgIG1vZHM6IHRoaXMubW9kTWFuYWdlcixcclxuICAgICAgICAgICAgc2tpbGxzOiB0aGlzLnNraWxsTWFuYWdlcixcclxuICAgICAgICAgICAgaW52ZW50b3J5OiB0aGlzLmludmVudG9yeU1hbmFnZXIsXHJcbiAgICAgICAgICAgIHRyYWl0czogdGhpcy50cmFpdE1hbmFnZXIsXHJcbiAgICAgICAgICAgIGFjdGlvbnM6IHRoaXMuYWN0aW9uTWFuYWdlcixcclxuICAgICAgICAgICAgc3BlY2llczogdGhpcy5zcGVjaWVzU3lzdGVtLFxyXG4gICAgICAgICAgICBsb2NhdGlvbnM6IHRoaXMubG9jYXRpb25TeXN0ZW0sXHJcbiAgICAgICAgICAgIGFjaGlldmVtZW50czogdGhpcy5hY2hpZXZlbWVudFN5c3RlbSxcclxuICAgICAgICAgICAgZW5jeWNsb3BlZGlhOiB0aGlzLmVuY3ljbG9wZWRpYVN5c3RlbSxcclxuICAgICAgICAgICAgdWk6IHRoaXMudWlNYW5hZ2VyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gc3lzdGVtc1tzeXN0ZW1OYW1lXSB8fCBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBjdXJyZW50IGdhbWUgZGF0YVxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gQ3VycmVudCBnYW1lIGRhdGFcclxuICAgICAqL1xyXG4gICAgZ2V0R2FtZURhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZURhdGE7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGN1cnJlbnQgbW9kIGluZm9ybWF0aW9uXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDdXJyZW50IG1vZCBkYXRhXHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRNb2QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1vZDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUHJpdmF0ZSBtZXRob2RzXHJcbiAgICBcclxuICAgIF9pbml0aWFsaXplQ29yZVN5c3RlbXMoKSB7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb3JlIHN5c3RlbXNcclxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlciA9IG5ldyBHYW1lU3RhdGVNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbSA9IG5ldyBFdmVudFN5c3RlbSgpO1xyXG4gICAgICAgIHRoaXMuYXNzZXRMb2FkZXIgPSBuZXcgQXNzZXRMb2FkZXIodGhpcy5jb25maWcuYXNzZXRDYWNoZVNpemUpO1xyXG4gICAgICAgIHRoaXMubG9jYWxpemF0aW9uID0gbmV3IExvY2FsaXphdGlvbih0aGlzLmNvbmZpZy5kZWZhdWx0TGFuZ3VhZ2UpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnTWFuYWdlciA9IG5ldyBDb25maWdNYW5hZ2VyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHVwIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuX3NldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGdhbWUgc3lzdGVtc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBfaW5pdGlhbGl6ZUdhbWVTeXN0ZW1zKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgZ2FtZSBzeXN0ZW1zLi4uJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9hZCBzeXN0ZW0gbW9kdWxlcyBmaXJzdFxyXG4gICAgICAgIGF3YWl0IHRoaXMuX2xvYWRTeXN0ZW1Nb2R1bGVzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBtb2QgbWFuYWdlciBhZnRlciBtb2R1bGVzIGFyZSBsb2FkZWRcclxuICAgICAgICB0aGlzLm1vZE1hbmFnZXIgPSBuZXcgTW9kTWFuYWdlcih0aGlzLmV2ZW50U3lzdGVtLCB0aGlzLmFzc2V0TG9hZGVyKTtcclxuICAgICAgICBhd2FpdCB0aGlzLm1vZE1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdldCBtb2QgZGF0YVxyXG4gICAgICAgIGNvbnN0IG1vZERhdGEgPSB0aGlzLm1vZE1hbmFnZXIuZ2V0QWxsTW9kRGF0YSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgc3lzdGVtcyB3aXRoIG1vZCBkYXRhIChvbmx5IGNyZWF0ZSB0aGUgb25lcyB0aGF0IG5lZWQgc3BlY2lhbCBpbml0aWFsaXphdGlvbilcclxuICAgICAgICB0aGlzLmxvY2F0aW9uU3lzdGVtID0gbmV3IExvY2F0aW9uU3lzdGVtKG1vZERhdGEubG9jYXRpb25zIHx8IHt9LCB0aGlzLnN0YXRlTWFuYWdlciwgdGhpcy5ldmVudFN5c3RlbSk7XHJcbiAgICAgICAgdGhpcy5hY2hpZXZlbWVudFN5c3RlbSA9IG5ldyBBY2hpZXZlbWVudFN5c3RlbShtb2REYXRhLmFjaGlldmVtZW50cyB8fCB7fSwgdGhpcy5zdGF0ZU1hbmFnZXIsIHRoaXMuZXZlbnRTeXN0ZW0pO1xyXG4gICAgICAgIHRoaXMuZW5jeWNsb3BlZGlhU3lzdGVtID0gbmV3IEVuY3ljbG9wZWRpYVN5c3RlbShtb2REYXRhLCB0aGlzLmV2ZW50U3lzdGVtKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJbml0aWFsaXplIHN5c3RlbXMgKG9ubHkgY2FsbCBpbml0aWFsaXplIGlmIHRoZSBtZXRob2QgZXhpc3RzKVxyXG4gICAgICAgIGlmICh0aGlzLnNraWxsTWFuYWdlci5pbml0aWFsaXplKSBhd2FpdCB0aGlzLnNraWxsTWFuYWdlci5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaW52ZW50b3J5TWFuYWdlci5pbml0aWFsaXplKSBhd2FpdCB0aGlzLmludmVudG9yeU1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnRyYWl0TWFuYWdlci5pbml0aWFsaXplKSBhd2FpdCB0aGlzLnRyYWl0TWFuYWdlci5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uTWFuYWdlci5pbml0aWFsaXplKSBhd2FpdCB0aGlzLmFjdGlvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2F0aW9uU3lzdGVtLmluaXRpYWxpemUpIGF3YWl0IHRoaXMubG9jYXRpb25TeXN0ZW0uaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmFjaGlldmVtZW50U3lzdGVtLmluaXRpYWxpemUpIGF3YWl0IHRoaXMuYWNoaWV2ZW1lbnRTeXN0ZW0uaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmVuY3ljbG9wZWRpYVN5c3RlbS5pbml0aWFsaXplKSBhd2FpdCB0aGlzLmVuY3ljbG9wZWRpYVN5c3RlbS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgaWYgKHRoaXMudWlNYW5hZ2VyLmluaXRpYWxpemUpIGF3YWl0IHRoaXMudWlNYW5hZ2VyLmluaXRpYWxpemUoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2FkIGNvbmZpZ3VyYXRpb25zIGZyb20gbW9kIGRhdGFcclxuICAgICAgICB0aGlzLnNraWxsTWFuYWdlci5sb2FkRnJvbUNvbmZpZyhtb2REYXRhLnNraWxscyB8fCB7fSwgbW9kRGF0YS5jb25maWcgfHwge30pO1xyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5TWFuYWdlci5sb2FkRnJvbUNvbmZpZyhtb2REYXRhLml0ZW1zIHx8IHt9KTtcclxuICAgICAgICB0aGlzLnRyYWl0TWFuYWdlci5sb2FkRnJvbUNvbmZpZyhtb2REYXRhLnRyYWl0cyB8fCB7fSk7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25NYW5hZ2VyLmxvYWRGcm9tQ29uZmlnKG1vZERhdGEuYWN0aW9ucyB8fCB7fSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHVwIGNyb3NzLXN5c3RlbSByZWZlcmVuY2VzXHJcbiAgICAgICAgdGhpcy5fc2V0dXBTeXN0ZW1SZWZlcmVuY2VzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3lzdGVtcyBpbml0aWFsaXplZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYWxsIHJlcXVpcmVkIHN5c3RlbSBtb2R1bGVzIGR5bmFtaWNhbGx5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIF9sb2FkU3lzdGVtTW9kdWxlcygpIHtcclxuICAgICAgICAvLyBJbiBOZXh0LmpzIGVudmlyb25tZW50LCBtb2R1bGVzIGFyZSBpbXBvcnRlZCBkaXJlY3RseVxyXG4gICAgICAgIC8vIE5vIG5lZWQgZm9yIGR5bmFtaWMgbG9hZGluZyBzaW5jZSB3ZSdyZSB1c2luZyBFUyBtb2R1bGVzXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1N5c3RlbSBtb2R1bGVzIGxvYWRlZCB2aWEgRVMgaW1wb3J0cycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEltcG9ydCBhbGwgc3lzdGVtIG1vZHVsZXNcclxuICAgICAgICAgICAgY29uc3QgeyBTa2lsbE1hbmFnZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vc3lzdGVtcy9Ta2lsbE1hbmFnZXIuanMnKTtcclxuICAgICAgICAgICAgY29uc3QgeyBJbnZlbnRvcnlNYW5hZ2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3N5c3RlbXMvSW52ZW50b3J5TWFuYWdlci5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IFRyYWl0TWFuYWdlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zeXN0ZW1zL1RyYWl0TWFuYWdlci5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IEFjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zeXN0ZW1zL0FjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZS5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IEFjdGlvbk1hbmFnZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vc3lzdGVtcy9BY3Rpb25NYW5hZ2VyLmpzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgU3BlY2llc1N5c3RlbSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zeXN0ZW1zL1NwZWNpZXNTeXN0ZW0uanMnKTtcclxuICAgICAgICAgICAgY29uc3QgeyBMb2NhdGlvblN5c3RlbSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zeXN0ZW1zL0xvY2F0aW9uU3lzdGVtLmpzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgQWNoaWV2ZW1lbnRTeXN0ZW0gfSA9IGF3YWl0IGltcG9ydCgnLi4vc3lzdGVtcy9BY2hpZXZlbWVudFN5c3RlbS5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IEVuY3ljbG9wZWRpYVN5c3RlbSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zeXN0ZW1zL0VuY3ljbG9wZWRpYVN5c3RlbS5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IFVJTWFuYWdlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi91aS9VSU1hbmFnZXIuanMnKTtcclxuICAgICAgICAgICAgY29uc3QgeyBFbmN5Y2xvcGVkaWFVSSB9ID0gYXdhaXQgaW1wb3J0KCcuLi91aS9FbmN5Y2xvcGVkaWFVSS5qcycpO1xyXG4gICAgICAgICAgICBjb25zdCB7IEZvb2RDYXRlZ29yeVVJIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3VpL0Zvb2RDYXRlZ29yeVVJLmpzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgTW9kTWFuYWdlciB9ID0gYXdhaXQgaW1wb3J0KCcuL01vZE1hbmFnZXIuanMnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgbWFuYWdlcnMgd2l0aCBpbXBvcnRlZCBjbGFzc2VzXHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxNYW5hZ2VyID0gbmV3IFNraWxsTWFuYWdlcigpO1xyXG4gICAgICAgICAgICB0aGlzLmludmVudG9yeU1hbmFnZXIgPSBuZXcgSW52ZW50b3J5TWFuYWdlcigpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYWl0TWFuYWdlciA9IG5ldyBUcmFpdE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25BdmFpbGFiaWxpdHlFbmdpbmUgPSBuZXcgQWN0aW9uQXZhaWxhYmlsaXR5RW5naW5lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uTWFuYWdlciA9IG5ldyBBY3Rpb25NYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlY2llc1N5c3RlbSA9IG5ldyBTcGVjaWVzU3lzdGVtKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TeXN0ZW0gPSBuZXcgTG9jYXRpb25TeXN0ZW0oKTtcclxuICAgICAgICAgICAgdGhpcy5hY2hpZXZlbWVudFN5c3RlbSA9IG5ldyBBY2hpZXZlbWVudFN5c3RlbSgpO1xyXG4gICAgICAgICAgICB0aGlzLmVuY3ljbG9wZWRpYVN5c3RlbSA9IG5ldyBFbmN5Y2xvcGVkaWFTeXN0ZW0oKTtcclxuICAgICAgICAgICAgdGhpcy51aU1hbmFnZXIgPSBuZXcgVUlNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5jeWNsb3BlZGlhVUkgPSBuZXcgRW5jeWNsb3BlZGlhVUkoKTtcclxuICAgICAgICAgICAgdGhpcy5mb29kQ2F0ZWdvcnlVSSA9IG5ldyBGb29kQ2F0ZWdvcnlVSSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1vZE1hbmFnZXIgPSBuZXcgTW9kTWFuYWdlcigpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSBsb2FkZWQgYWxsIHN5c3RlbSBtb2R1bGVzJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHN5c3RlbSBtb2R1bGVzOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFNldCB1cCBjcm9zcy1zeXN0ZW0gcmVmZXJlbmNlc1xyXG4gICAgICovXHJcbiAgICBfc2V0dXBTeXN0ZW1SZWZlcmVuY2VzKCkge1xyXG4gICAgICAgIC8vIFNldCB1cCBjcm9zcy1zeXN0ZW0gcmVmZXJlbmNlc1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbk1hbmFnZXIgJiYgdGhpcy5sb2NhdGlvblN5c3RlbSkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbk1hbmFnZXIuc2V0TG9jYXRpb25TeXN0ZW0odGhpcy5sb2NhdGlvblN5c3RlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnNraWxsTWFuYWdlciAmJiB0aGlzLmludmVudG9yeU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5za2lsbE1hbmFnZXIuc2V0SW52ZW50b3J5U3lzdGVtKHRoaXMuaW52ZW50b3J5TWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbk1hbmFnZXIgJiYgdGhpcy5za2lsbE1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25NYW5hZ2VyLnNldFNraWxsU3lzdGVtKHRoaXMuc2tpbGxNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uTWFuYWdlciAmJiB0aGlzLmludmVudG9yeU1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25NYW5hZ2VyLnNldEludmVudG9yeVN5c3RlbSh0aGlzLmludmVudG9yeU1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgdXAgcXVlc3QgYW5kIE5QQyBzeXN0ZW0gcmVmZXJlbmNlcyAocGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSBzeXN0ZW1zKVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbk1hbmFnZXIpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogQWRkIGFjdHVhbCBxdWVzdCBhbmQgTlBDIHN5c3RlbXMgd2hlbiBpbXBsZW1lbnRlZFxyXG4gICAgICAgICAgICAvLyB0aGlzLmFjdGlvbk1hbmFnZXIuc2V0UXVlc3RTeXN0ZW0odGhpcy5xdWVzdFN5c3RlbSk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuYWN0aW9uTWFuYWdlci5zZXROUENTeXN0ZW0odGhpcy5ucGNTeXN0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5hY2hpZXZlbWVudFN5c3RlbSAmJiB0aGlzLnNraWxsTWFuYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmFjaGlldmVtZW50U3lzdGVtLnNldFNraWxsU3lzdGVtKHRoaXMuc2tpbGxNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuYWNoaWV2ZW1lbnRTeXN0ZW0gJiYgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWNoaWV2ZW1lbnRTeXN0ZW0uc2V0SW52ZW50b3J5U3lzdGVtKHRoaXMuaW52ZW50b3J5TWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCB1cCBtYW5hZ2VyIHJlZmVyZW5jZXNcclxuICAgICAgICBpZiAodGhpcy5za2lsbE1hbmFnZXIgJiYgdGhpcy5jb25maWdNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxNYW5hZ2VyLnNldENvbmZpZ01hbmFnZXIodGhpcy5jb25maWdNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMuc2tpbGxNYW5hZ2VyICYmIHRoaXMudWlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxNYW5hZ2VyLnNldFVJTWFuYWdlcih0aGlzLnVpTWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnNraWxsTWFuYWdlciAmJiB0aGlzLmV2ZW50U3lzdGVtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxNYW5hZ2VyLnNldEV2ZW50U3lzdGVtKHRoaXMuZXZlbnRTeXN0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb25NYW5hZ2VyICYmIHRoaXMuY29uZmlnTWFuYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbk1hbmFnZXIuc2V0Q29uZmlnTWFuYWdlcih0aGlzLmNvbmZpZ01hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb25NYW5hZ2VyICYmIHRoaXMudWlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uTWFuYWdlci5zZXRVSU1hbmFnZXIodGhpcy51aU1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlNYW5hZ2VyICYmIHRoaXMuY29uZmlnTWFuYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmludmVudG9yeU1hbmFnZXIuc2V0Q29uZmlnTWFuYWdlcih0aGlzLmNvbmZpZ01hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlNYW5hZ2VyICYmIHRoaXMudWlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52ZW50b3J5TWFuYWdlci5zZXRVSU1hbmFnZXIodGhpcy51aU1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlNYW5hZ2VyICYmIHRoaXMuZXZlbnRTeXN0ZW0pIHtcclxuICAgICAgICAgICAgdGhpcy5pbnZlbnRvcnlNYW5hZ2VyLnNldEV2ZW50U3lzdGVtKHRoaXMuZXZlbnRTeXN0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy50cmFpdE1hbmFnZXIgJiYgdGhpcy5jb25maWdNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhaXRNYW5hZ2VyLnNldENvbmZpZ01hbmFnZXIodGhpcy5jb25maWdNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMudHJhaXRNYW5hZ2VyICYmIHRoaXMudWlNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhaXRNYW5hZ2VyLnNldFVJTWFuYWdlcih0aGlzLnVpTWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBfbG9hZE1vZChtb2RJZCkge1xyXG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgcmV0dXJuIHRoZSBiYXNlIGdhbWUgZGF0YVxyXG4gICAgICAgIC8vIEluIHRoZSBmdXR1cmUsIHRoaXMgY291bGQgbG9hZCBkaWZmZXJlbnQgbW9kc1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBtb2RJZCxcclxuICAgICAgICAgICAgbWFuaWZlc3Q6IHsgbmFtZTogJ0Jhc2UgR2FtZScsIHZlcnNpb246ICcxLjAuMCcgfSxcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBfbG9hZEl0ZW1zRGF0YSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdkYXRhL2l0ZW1zLmpzb24nKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaXRlbXMgZGF0YTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIF9sb2FkU3BlY2llc0RhdGEoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnZGF0YS9zcGVjaWVzLmpzb24nKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgc3BlY2llcyBkYXRhOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgYXN5bmMgX2xvYWRMb2NhdGlvbnNEYXRhKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2RhdGEvbG9jYXRpb25zLmpzb24nKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgbG9jYXRpb25zIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyBfbG9hZEFjaGlldmVtZW50c0RhdGEoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnZGF0YS9hY2hpZXZlbWVudHMuanNvbicpO1xyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBhY2hpZXZlbWVudHMgZGF0YTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9zZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIFNldCB1cCBnbG9iYWwgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ldmVudFN5c3RlbS5vbignc3RhdGU6Y2hhbmdlZCcsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0ub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dhbWUgZW5naW5lIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgdXAgbG9jYXRpb24gY2hhbmdlIGV2ZW50c1xyXG4gICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0ub24oJ2xvY2F0aW9uOmNoYW5nZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9jYXRpb24gY2hhbmdlZDonLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gRW1pdCBldmVudCBmb3IgVUkgdXBkYXRlc1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50U3lzdGVtLmVtaXQoJ3VpOmxvY2F0aW9uQ2hhbmdlZCcsIGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfY2xlYW51cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIC8vIENsZWFuIHVwIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMuZXZlbnRTeXN0ZW0ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9zdGFydEF1dG9TYXZlKCkge1xyXG4gICAgICAgIHRoaXMuYXV0b1NhdmVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2F2ZSgpO1xyXG4gICAgICAgIH0sIHRoaXMuY29uZmlnLmF1dG9TYXZlSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfc3RvcEF1dG9TYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9TYXZlSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gRXhwb3J0IGZvciB1c2UgaW4gb3RoZXIgbW9kdWxlc1xyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gR2FtZUVuZ2luZTtcclxufVxyXG5cclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cuR2FtZUVuZ2luZSA9IEdhbWVFbmdpbmU7XHJcblxyXG4vLyBFUyBNb2R1bGUgZXhwb3J0c1xyXG5leHBvcnQgeyBHYW1lRW5naW5lIH07ICJdLCJuYW1lcyI6WyJHYW1lU3RhdGVNYW5hZ2VyIiwiRXZlbnRTeXN0ZW0iLCJBc3NldExvYWRlciIsIkNvbmZpZ01hbmFnZXIiLCJMb2NhbGl6YXRpb24iLCJHYW1lRW5naW5lIiwiaW5pdGlhbGl6ZSIsIm1vZElkIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50TW9kIiwiX2xvYWRNb2QiLCJnYW1lRGF0YSIsImRhdGEiLCJfaW5pdGlhbGl6ZUdhbWVTeXN0ZW1zIiwiX3NldHVwU3lzdGVtUmVmZXJlbmNlcyIsIl9zZXR1cEV2ZW50TGlzdGVuZXJzIiwibG9hZFNhdmVkU3RhdGUiLCJzdGF0ZU1hbmFnZXIiLCJsb2FkR2FtZVN0YXRlIiwic2tpbGxNYW5hZ2VyIiwiaW52ZW50b3J5TWFuYWdlciIsInRyYWl0TWFuYWdlciIsIl9zdGFydEF1dG9TYXZlIiwiaXNSdW5uaW5nIiwiZXZlbnRTeXN0ZW0iLCJlbWl0IiwiZXJyb3IiLCJzdGFydCIsIkVycm9yIiwicGF1c2UiLCJyZXN1bWUiLCJzdG9wIiwiX3N0b3BBdXRvU2F2ZSIsInNhdmUiLCJfY2xlYW51cEV2ZW50TGlzdGVuZXJzIiwic3dpdGNoTW9kIiwiZ2V0U3lzdGVtIiwic3lzdGVtTmFtZSIsInN5c3RlbXMiLCJldmVudHMiLCJzdGF0ZSIsImNvbmZpZyIsImNvbmZpZ01hbmFnZXIiLCJhc3NldHMiLCJhc3NldExvYWRlciIsIm1vZHMiLCJtb2RNYW5hZ2VyIiwic2tpbGxzIiwiaW52ZW50b3J5IiwidHJhaXRzIiwiYWN0aW9ucyIsImFjdGlvbk1hbmFnZXIiLCJzcGVjaWVzIiwic3BlY2llc1N5c3RlbSIsImxvY2F0aW9ucyIsImxvY2F0aW9uU3lzdGVtIiwiYWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRTeXN0ZW0iLCJlbmN5Y2xvcGVkaWEiLCJlbmN5Y2xvcGVkaWFTeXN0ZW0iLCJ1aSIsInVpTWFuYWdlciIsImdldEdhbWVEYXRhIiwiZ2V0Q3VycmVudE1vZCIsIl9pbml0aWFsaXplQ29yZVN5c3RlbXMiLCJhc3NldENhY2hlU2l6ZSIsImxvY2FsaXphdGlvbiIsImRlZmF1bHRMYW5ndWFnZSIsIl9sb2FkU3lzdGVtTW9kdWxlcyIsIk1vZE1hbmFnZXIiLCJtb2REYXRhIiwiZ2V0QWxsTW9kRGF0YSIsIkxvY2F0aW9uU3lzdGVtIiwiQWNoaWV2ZW1lbnRTeXN0ZW0iLCJFbmN5Y2xvcGVkaWFTeXN0ZW0iLCJsb2FkRnJvbUNvbmZpZyIsIml0ZW1zIiwiU2tpbGxNYW5hZ2VyIiwiSW52ZW50b3J5TWFuYWdlciIsIlRyYWl0TWFuYWdlciIsIkFjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZSIsIkFjdGlvbk1hbmFnZXIiLCJTcGVjaWVzU3lzdGVtIiwiVUlNYW5hZ2VyIiwiRW5jeWNsb3BlZGlhVUkiLCJGb29kQ2F0ZWdvcnlVSSIsImFjdGlvbkF2YWlsYWJpbGl0eUVuZ2luZSIsImVuY3ljbG9wZWRpYVVJIiwiZm9vZENhdGVnb3J5VUkiLCJzZXRMb2NhdGlvblN5c3RlbSIsInNldEludmVudG9yeVN5c3RlbSIsInNldFNraWxsU3lzdGVtIiwic2V0Q29uZmlnTWFuYWdlciIsInNldFVJTWFuYWdlciIsInNldEV2ZW50U3lzdGVtIiwiaWQiLCJtYW5pZmVzdCIsIm5hbWUiLCJ2ZXJzaW9uIiwiX2xvYWRJdGVtc0RhdGEiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXMiLCJqc29uIiwiX2xvYWRTcGVjaWVzRGF0YSIsIl9sb2FkTG9jYXRpb25zRGF0YSIsIl9sb2FkQWNoaWV2ZW1lbnRzRGF0YSIsIm9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiYXV0b1NhdmVJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNvbnN0cnVjdG9yIiwibW9kdWxlIiwiZXhwb3J0cyIsIndpbmRvdyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/core/GameEngine.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/core/GameStateManager.js":
/*!******************************************************!*\
  !*** ./src/lib/game-engine/core/GameStateManager.js ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameStateManager: () => (/* binding */ GameStateManager)\n/* harmony export */ });\nclass GameStateManager {\n    saveGameState(skillManager, inventoryManager, traitManager) {\n        try {\n            const gameState = {\n                skills: {},\n                inventory: {},\n                traits: {},\n                lastSaved: new Date().toISOString()\n            };\n            // Save skills\n            const skills = skillManager.getAllSkills();\n            for (const skill of skills){\n                gameState.skills[skill.name] = {\n                    level: skill.level,\n                    experience: skill.xp\n                };\n            }\n            // Save inventory\n            const items = inventoryManager.getAllItems();\n            for (const item of items){\n                gameState.inventory[item.gameObject.id] = {\n                    quantity: item.quantity\n                };\n            }\n            // Save traits\n            const traits = traitManager.getAllTraits();\n            for (const trait of traits){\n                gameState.traits[trait.name] = {\n                    level: trait.level,\n                    experience: trait.xp\n                };\n            }\n            // Save achievements if achievementSystem exists\n            if (window.achievementSystem) {\n                gameState.achievements = {\n                    unlocked: Array.from(window.achievementSystem.getUnlockedAchievements()),\n                    progress: window.achievementSystem.getAchievementProgress()\n                };\n            }\n            localStorage.setItem('tavernsGameState', JSON.stringify(gameState));\n            console.log('Game state saved successfully');\n            return true;\n        } catch (error) {\n            console.error('Failed to save game state:', error);\n            return false;\n        }\n    }\n    loadGameState(skillManager, inventoryManager, traitManager) {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            if (!savedState) {\n                console.log('No saved game state found');\n                return false;\n            }\n            const gameState = JSON.parse(savedState);\n            console.log('Loading saved game state:', gameState);\n            // Load skills\n            if (gameState.skills) {\n                for (const [skillName, skillData] of Object.entries(gameState.skills)){\n                    const skill = skillManager.getSkill(skillName);\n                    if (skill) {\n                        skill.level = skillData.level || 1;\n                        skill.xp = skillData.experience || 0;\n                        skill.xpToNext = skill.getXpToNextLevel(skill.level);\n                    }\n                }\n            }\n            // Load inventory\n            if (gameState.inventory) {\n                for (const [itemId, itemData] of Object.entries(gameState.inventory)){\n                    inventoryManager.addItem(itemId, itemData.quantity || 1);\n                }\n            }\n            // Load traits\n            if (gameState.traits) {\n                for (const [traitName, traitData] of Object.entries(gameState.traits)){\n                    const trait = traitManager.getTrait(traitName);\n                    if (trait) {\n                        trait.level = traitData.level || 1;\n                        trait.xp = traitData.experience || 0;\n                        trait.xpToNext = trait.getXpToNextLevel(trait.level);\n                    }\n                }\n            }\n            // Load achievements if achievementSystem exists\n            if (gameState.achievements && window.achievementSystem) {\n                const achievementState = gameState.achievements;\n                if (achievementState.unlocked) {\n                    window.achievementSystem.unlockedAchievements = new Set(achievementState.unlocked);\n                }\n                if (achievementState.progress) {\n                    window.achievementSystem.achievementProgress = achievementState.progress;\n                }\n            }\n            console.log('Game state loaded successfully');\n            return true;\n        } catch (error) {\n            console.error('Failed to load game state:', error);\n            return false;\n        }\n    }\n    setupAutoSave(skillManager, inventoryManager, traitManager, uiManager) {\n        if (this.autoSaveInterval) {\n            clearInterval(this.autoSaveInterval);\n        }\n        this.autoSaveInterval = setInterval(()=>{\n            const success = this.saveGameState(skillManager, inventoryManager, traitManager);\n            if (success) {\n                uiManager.updateLastSavedTime();\n            }\n        }, this.autoSaveIntervalMinutes * 60 * 1000);\n        console.log(\"Auto-save enabled (every \".concat(this.autoSaveIntervalMinutes, \" minutes)\"));\n    }\n    stopAutoSave() {\n        if (this.autoSaveInterval) {\n            clearInterval(this.autoSaveInterval);\n            this.autoSaveInterval = null;\n            console.log('Auto-save disabled');\n        }\n    }\n    clearGameState() {\n        try {\n            localStorage.removeItem('tavernsGameState');\n            console.log('Game state cleared');\n            return true;\n        } catch (error) {\n            console.error('Failed to clear game state:', error);\n            return false;\n        }\n    }\n    getLastSavedTime() {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            if (savedState) {\n                const gameState = JSON.parse(savedState);\n                return gameState.lastSaved ? new Date(gameState.lastSaved) : null;\n            }\n            return null;\n        } catch (error) {\n            console.error('Failed to get last saved time:', error);\n            return null;\n        }\n    }\n    exportGameState() {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            if (savedState) {\n                const gameState = JSON.parse(savedState);\n                const dataStr = JSON.stringify(gameState, null, 2);\n                const dataBlob = new Blob([\n                    dataStr\n                ], {\n                    type: 'application/json'\n                });\n                const link = document.createElement('a');\n                link.href = URL.createObjectURL(dataBlob);\n                link.download = \"taverns-save-\".concat(new Date().toISOString().split('T')[0], \".json\");\n                link.click();\n                console.log('Game state exported successfully');\n                return true;\n            }\n            return false;\n        } catch (error) {\n            console.error('Failed to export game state:', error);\n            return false;\n        }\n    }\n    importGameState(gameStateData) {\n        try {\n            const gameState = typeof gameStateData === 'string' ? JSON.parse(gameStateData) : gameStateData;\n            // Validate the game state structure\n            if (!gameState || typeof gameState !== 'object') {\n                throw new Error('Invalid game state format');\n            }\n            localStorage.setItem('tavernsGameState', JSON.stringify(gameState));\n            console.log('Game state imported successfully');\n            return true;\n        } catch (error) {\n            console.error('Failed to import game state:', error);\n            return false;\n        }\n    }\n    /**\r\n     * Get a specific state value by key\r\n     * @param {string} key - The state key to retrieve\r\n     * @returns {*} The state value or null if not found\r\n     */ getState(key) {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            if (savedState) {\n                const gameState = JSON.parse(savedState);\n                return gameState[key] || null;\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Failed to get state for key '\".concat(key, \"':\"), error);\n            return null;\n        }\n    }\n    /**\r\n     * Set a specific state value by key\r\n     * @param {string} key - The state key to set\r\n     * @param {*} value - The value to store\r\n     * @returns {boolean} Success status\r\n     */ setState(key, value) {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            let gameState = savedState ? JSON.parse(savedState) : {};\n            gameState[key] = value;\n            gameState.lastSaved = new Date().toISOString();\n            localStorage.setItem('tavernsGameState', JSON.stringify(gameState));\n            return true;\n        } catch (error) {\n            console.error(\"Failed to set state for key '\".concat(key, \"':\"), error);\n            return false;\n        }\n    }\n    /**\r\n     * Save the current state (alias for saveGameState for compatibility)\r\n     */ save() {\n        // This is a simplified save that just updates the timestamp\n        // Full save should be done through saveGameState with managers\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            if (savedState) {\n                const gameState = JSON.parse(savedState);\n                gameState.lastSaved = new Date().toISOString();\n                localStorage.setItem('tavernsGameState', JSON.stringify(gameState));\n            }\n            return true;\n        } catch (error) {\n            console.error('Failed to save state:', error);\n            return false;\n        }\n    }\n    /**\r\n     * Check if there's a saved state\r\n     * @returns {boolean} True if saved state exists\r\n     */ hasSavedState() {\n        try {\n            const savedState = localStorage.getItem('tavernsGameState');\n            return savedState !== null;\n        } catch (error) {\n            console.error('Failed to check saved state:', error);\n            return false;\n        }\n    }\n    constructor(){\n        this.autoSaveInterval = null;\n        this.autoSaveIntervalMinutes = 2;\n    }\n}\nif (true) window.GameStateManager = GameStateManager;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvY29yZS9HYW1lU3RhdGVNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQTtJQU1GQyxjQUFjQyxZQUFZLEVBQUVDLGdCQUFnQixFQUFFQyxZQUFZLEVBQUU7UUFDeEQsSUFBSTtZQUNBLE1BQU1DLFlBQVk7Z0JBQ2RDLFFBQVEsQ0FBQztnQkFDVEMsV0FBVyxDQUFDO2dCQUNaQyxRQUFRLENBQUM7Z0JBQ1RDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNyQztZQUVBLGNBQWM7WUFDZCxNQUFNTCxTQUFTSixhQUFhVSxZQUFZO1lBQ3hDLEtBQUssTUFBTUMsU0FBU1AsT0FBUTtnQkFDeEJELFVBQVVDLE1BQU0sQ0FBQ08sTUFBTUMsSUFBSSxDQUFDLEdBQUc7b0JBQzNCQyxPQUFPRixNQUFNRSxLQUFLO29CQUNsQkMsWUFBWUgsTUFBTUksRUFBRTtnQkFDeEI7WUFDSjtZQUVBLGlCQUFpQjtZQUNqQixNQUFNQyxRQUFRZixpQkFBaUJnQixXQUFXO1lBQzFDLEtBQUssTUFBTUMsUUFBUUYsTUFBTztnQkFDdEJiLFVBQVVFLFNBQVMsQ0FBQ2EsS0FBS0MsVUFBVSxDQUFDQyxFQUFFLENBQUMsR0FBRztvQkFDdENDLFVBQVVILEtBQUtHLFFBQVE7Z0JBQzNCO1lBQ0o7WUFFQSxjQUFjO1lBQ2QsTUFBTWYsU0FBU0osYUFBYW9CLFlBQVk7WUFDeEMsS0FBSyxNQUFNQyxTQUFTakIsT0FBUTtnQkFDeEJILFVBQVVHLE1BQU0sQ0FBQ2lCLE1BQU1YLElBQUksQ0FBQyxHQUFHO29CQUMzQkMsT0FBT1UsTUFBTVYsS0FBSztvQkFDbEJDLFlBQVlTLE1BQU1SLEVBQUU7Z0JBQ3hCO1lBQ0o7WUFFQSxnREFBZ0Q7WUFDaEQsSUFBSVMsT0FBT0MsaUJBQWlCLEVBQUU7Z0JBQzFCdEIsVUFBVXVCLFlBQVksR0FBRztvQkFDckJDLFVBQVVDLE1BQU1DLElBQUksQ0FBQ0wsT0FBT0MsaUJB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QUFNdEQsYUFBYVIsYUFBYVMsT0FBTyxDQUFDO1lBQ3hDLE9BQU9ELGVBQWU7UUFDMUIsRUFBRSxPQUFPRixPQUFPO1lBQ1pGLFFBQVFFLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE9BQU87UUFDWDtJQUNKO0lBMVJBeUQsYUFBYztRQUNWLElBQUksQ0FBQ2pDLGdCQUFnQixHQUFHO1FBQ3hCLElBQUksQ0FBQ0ssdUJBQXVCLEdBQUc7SUFDbkM7QUF3Uko7QUFFQSxJQUFJLElBQTZCLEVBQUU1QyxPQUFPMUIsZ0JBQWdCLEdBQUdBO0FBRTdELG9CQUFvQjtBQUNRIiwic291cmNlcyI6WyJDOlxcR2l0SHViXFxTZWxmXFx0YXZlcm5zXFxzcmNcXGxpYlxcZ2FtZS1lbmdpbmVcXGNvcmVcXEdhbWVTdGF0ZU1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgR2FtZVN0YXRlTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1dG9TYXZlSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYXV0b1NhdmVJbnRlcnZhbE1pbnV0ZXMgPSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmVHYW1lU3RhdGUoc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCB0cmFpdE1hbmFnZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBza2lsbHM6IHt9LFxyXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5OiB7fSxcclxuICAgICAgICAgICAgICAgIHRyYWl0czoge30sXHJcbiAgICAgICAgICAgICAgICBsYXN0U2F2ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU2F2ZSBza2lsbHNcclxuICAgICAgICAgICAgY29uc3Qgc2tpbGxzID0gc2tpbGxNYW5hZ2VyLmdldEFsbFNraWxscygpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNraWxsIG9mIHNraWxscykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnNraWxsc1tza2lsbC5uYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogc2tpbGwubGV2ZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZXJpZW5jZTogc2tpbGwueHBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNhdmUgaW52ZW50b3J5XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gaW52ZW50b3J5TWFuYWdlci5nZXRBbGxJdGVtcygpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5pbnZlbnRvcnlbaXRlbS5nYW1lT2JqZWN0LmlkXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2F2ZSB0cmFpdHNcclxuICAgICAgICAgICAgY29uc3QgdHJhaXRzID0gdHJhaXRNYW5hZ2VyLmdldEFsbFRyYWl0cygpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRyYWl0IG9mIHRyYWl0cykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVN0YXRlLnRyYWl0c1t0cmFpdC5uYW1lXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogdHJhaXQubGV2ZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwZXJpZW5jZTogdHJhaXQueHBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNhdmUgYWNoaWV2ZW1lbnRzIGlmIGFjaGlldmVtZW50U3lzdGVtIGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAod2luZG93LmFjaGlldmVtZW50U3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lU3RhdGUuYWNoaWV2ZW1lbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubG9ja2VkOiBBcnJheS5mcm9tKHdpbmRvdy5hY2hpZXZlbWVudFN5c3RlbS5nZXRVbmxvY2tlZEFjaGlldmVtZW50cygpKSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogd2luZG93LmFjaGlldmVtZW50U3lzdGVtLmdldEFjaGlldmVtZW50UHJvZ3Jlc3MoKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhdmVybnNHYW1lU3RhdGUnLCBKU09OLnN0cmluZ2lmeShnYW1lU3RhdGUpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhdGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGdhbWUgc3RhdGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRHYW1lU3RhdGUoc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCB0cmFpdE1hbmFnZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RhdmVybnNHYW1lU3RhdGUnKTtcclxuICAgICAgICAgICAgaWYgKCFzYXZlZFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gc2F2ZWQgZ2FtZSBzdGF0ZSBmb3VuZCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSBKU09OLnBhcnNlKHNhdmVkU3RhdGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBzYXZlZCBnYW1lIHN0YXRlOicsIGdhbWVTdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBMb2FkIHNraWxsc1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVN0YXRlLnNraWxscykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbc2tpbGxOYW1lLCBza2lsbERhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGdhbWVTdGF0ZS5za2lsbHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpbGwgPSBza2lsbE1hbmFnZXIuZ2V0U2tpbGwoc2tpbGxOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2tpbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwubGV2ZWwgPSBza2lsbERhdGEubGV2ZWwgfHwgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbGwueHAgPSBza2lsbERhdGEuZXhwZXJpZW5jZSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lsbC54cFRvTmV4dCA9IHNraWxsLmdldFhwVG9OZXh0TGV2ZWwoc2tpbGwubGV2ZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTG9hZCBpbnZlbnRvcnlcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5pbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2l0ZW1JZCwgaXRlbURhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGdhbWVTdGF0ZS5pbnZlbnRvcnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5TWFuYWdlci5hZGRJdGVtKGl0ZW1JZCwgaXRlbURhdGEucXVhbnRpdHkgfHwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIExvYWQgdHJhaXRzXHJcbiAgICAgICAgICAgIGlmIChnYW1lU3RhdGUudHJhaXRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt0cmFpdE5hbWUsIHRyYWl0RGF0YV0gb2YgT2JqZWN0LmVudHJpZXMoZ2FtZVN0YXRlLnRyYWl0cykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFpdCA9IHRyYWl0TWFuYWdlci5nZXRUcmFpdCh0cmFpdE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFpdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpdC5sZXZlbCA9IHRyYWl0RGF0YS5sZXZlbCB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFpdC54cCA9IHRyYWl0RGF0YS5leHBlcmllbmNlIHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWl0LnhwVG9OZXh0ID0gdHJhaXQuZ2V0WHBUb05leHRMZXZlbCh0cmFpdC5sZXZlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMb2FkIGFjaGlldmVtZW50cyBpZiBhY2hpZXZlbWVudFN5c3RlbSBleGlzdHNcclxuICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5hY2hpZXZlbWVudHMgJiYgd2luZG93LmFjaGlldmVtZW50U3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY2hpZXZlbWVudFN0YXRlID0gZ2FtZVN0YXRlLmFjaGlldmVtZW50cztcclxuICAgICAgICAgICAgICAgIGlmIChhY2hpZXZlbWVudFN0YXRlLnVubG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFjaGlldmVtZW50U3lzdGVtLnVubG9ja2VkQWNoaWV2ZW1lbnRzID0gbmV3IFNldChhY2hpZXZlbWVudFN0YXRlLnVubG9ja2VkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhY2hpZXZlbWVudFN0YXRlLnByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFjaGlldmVtZW50U3lzdGVtLmFjaGlldmVtZW50UHJvZ3Jlc3MgPSBhY2hpZXZlbWVudFN0YXRlLnByb2dyZXNzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGF0ZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGdhbWUgc3RhdGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwQXV0b1NhdmUoc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCB0cmFpdE1hbmFnZXIsIHVpTWFuYWdlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hdXRvU2F2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gdGhpcy5zYXZlR2FtZVN0YXRlKHNraWxsTWFuYWdlciwgaW52ZW50b3J5TWFuYWdlciwgdHJhaXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHVpTWFuYWdlci51cGRhdGVMYXN0U2F2ZWRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB0aGlzLmF1dG9TYXZlSW50ZXJ2YWxNaW51dGVzICogNjAgKiAxMDAwKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYEF1dG8tc2F2ZSBlbmFibGVkIChldmVyeSAke3RoaXMuYXV0b1NhdmVJbnRlcnZhbE1pbnV0ZXN9IG1pbnV0ZXMpYCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcEF1dG9TYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TYXZlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9TYXZlSW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXV0by1zYXZlIGRpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyR2FtZVN0YXRlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0YXZlcm5zR2FtZVN0YXRlJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXRlIGNsZWFyZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNsZWFyIGdhbWUgc3RhdGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldExhc3RTYXZlZFRpbWUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXZlcm5zR2FtZVN0YXRlJyk7XHJcbiAgICAgICAgICAgIGlmIChzYXZlZFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lU3RhdGUgPSBKU09OLnBhcnNlKHNhdmVkU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdhbWVTdGF0ZS5sYXN0U2F2ZWQgPyBuZXcgRGF0ZShnYW1lU3RhdGUubGFzdFNhdmVkKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBsYXN0IHNhdmVkIHRpbWU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0R2FtZVN0YXRlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGF2ZXJuc0dhbWVTdGF0ZScpO1xyXG4gICAgICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVN0YXRlID0gSlNPTi5wYXJzZShzYXZlZFN0YXRlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFTdHIgPSBKU09OLnN0cmluZ2lmeShnYW1lU3RhdGUsIG51bGwsIDIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUJsb2IgPSBuZXcgQmxvYihbZGF0YVN0cl0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhQmxvYik7XHJcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gYHRhdmVybnMtc2F2ZS0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5qc29uYDtcclxuICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhdGUgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGV4cG9ydCBnYW1lIHN0YXRlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbXBvcnRHYW1lU3RhdGUoZ2FtZVN0YXRlRGF0YSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IHR5cGVvZiBnYW1lU3RhdGVEYXRhID09PSAnc3RyaW5nJyBcclxuICAgICAgICAgICAgICAgID8gSlNPTi5wYXJzZShnYW1lU3RhdGVEYXRhKSBcclxuICAgICAgICAgICAgICAgIDogZ2FtZVN0YXRlRGF0YTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoZSBnYW1lIHN0YXRlIHN0cnVjdHVyZVxyXG4gICAgICAgICAgICBpZiAoIWdhbWVTdGF0ZSB8fCB0eXBlb2YgZ2FtZVN0YXRlICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdhbWUgc3RhdGUgZm9ybWF0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YXZlcm5zR2FtZVN0YXRlJywgSlNPTi5zdHJpbmdpZnkoZ2FtZVN0YXRlKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXRlIGltcG9ydGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW1wb3J0IGdhbWUgc3RhdGU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgc3BlY2lmaWMgc3RhdGUgdmFsdWUgYnkga2V5XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIHN0YXRlIGtleSB0byByZXRyaWV2ZVxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBzdGF0ZSB2YWx1ZSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICovXHJcbiAgICBnZXRTdGF0ZShrZXkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RhdmVybnNHYW1lU3RhdGUnKTtcclxuICAgICAgICAgICAgaWYgKHNhdmVkU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTdGF0ZSA9IEpTT04ucGFyc2Uoc2F2ZWRTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZVN0YXRlW2tleV0gfHwgbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHN0YXRlIGZvciBrZXkgJyR7a2V5fSc6YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYSBzcGVjaWZpYyBzdGF0ZSB2YWx1ZSBieSBrZXlcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgc3RhdGUga2V5IHRvIHNldFxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzdG9yZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFN1Y2Nlc3Mgc3RhdHVzXHJcbiAgICAgKi9cclxuICAgIHNldFN0YXRlKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RhdmVybnNHYW1lU3RhdGUnKTtcclxuICAgICAgICAgICAgbGV0IGdhbWVTdGF0ZSA9IHNhdmVkU3RhdGUgPyBKU09OLnBhcnNlKHNhdmVkU3RhdGUpIDoge307XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBnYW1lU3RhdGVba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBnYW1lU3RhdGUubGFzdFNhdmVkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RhdmVybnNHYW1lU3RhdGUnLCBKU09OLnN0cmluZ2lmeShnYW1lU3RhdGUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHNldCBzdGF0ZSBmb3Iga2V5ICcke2tleX0nOmAsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNhdmUgdGhlIGN1cnJlbnQgc3RhdGUgKGFsaWFzIGZvciBzYXZlR2FtZVN0YXRlIGZvciBjb21wYXRpYmlsaXR5KVxyXG4gICAgICovXHJcbiAgICBzYXZlKCkge1xyXG4gICAgICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHNhdmUgdGhhdCBqdXN0IHVwZGF0ZXMgdGhlIHRpbWVzdGFtcFxyXG4gICAgICAgIC8vIEZ1bGwgc2F2ZSBzaG91bGQgYmUgZG9uZSB0aHJvdWdoIHNhdmVHYW1lU3RhdGUgd2l0aCBtYW5hZ2Vyc1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkU3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGF2ZXJuc0dhbWVTdGF0ZScpO1xyXG4gICAgICAgICAgICBpZiAoc2F2ZWRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVN0YXRlID0gSlNPTi5wYXJzZShzYXZlZFN0YXRlKTtcclxuICAgICAgICAgICAgICAgIGdhbWVTdGF0ZS5sYXN0U2F2ZWQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGF2ZXJuc0dhbWVTdGF0ZScsIEpTT04uc3RyaW5naWZ5KGdhbWVTdGF0ZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHN0YXRlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZXJlJ3MgYSBzYXZlZCBzdGF0ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgc2F2ZWQgc3RhdGUgZXhpc3RzXHJcbiAgICAgKi9cclxuICAgIGhhc1NhdmVkU3RhdGUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgc2F2ZWRTdGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0YXZlcm5zR2FtZVN0YXRlJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBzYXZlZFN0YXRlICE9PSBudWxsO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBzYXZlZCBzdGF0ZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LkdhbWVTdGF0ZU1hbmFnZXIgPSBHYW1lU3RhdGVNYW5hZ2VyO1xyXG5cclxuLy8gRVMgTW9kdWxlIGV4cG9ydHNcclxuZXhwb3J0IHsgR2FtZVN0YXRlTWFuYWdlciB9OyAiXSwibmFtZXMiOlsiR2FtZVN0YXRlTWFuYWdlciIsInNhdmVHYW1lU3RhdGUiLCJza2lsbE1hbmFnZXIiLCJpbnZlbnRvcnlNYW5hZ2VyIiwidHJhaXRNYW5hZ2VyIiwiZ2FtZVN0YXRlIiwic2tpbGxzIiwiaW52ZW50b3J5IiwidHJhaXRzIiwibGFzdFNhdmVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZ2V0QWxsU2tpbGxzIiwic2tpbGwiLCJuYW1lIiwibGV2ZWwiLCJleHBlcmllbmNlIiwieHAiLCJpdGVtcyIsImdldEFsbEl0ZW1zIiwiaXRlbSIsImdhbWVPYmplY3QiLCJpZCIsInF1YW50aXR5IiwiZ2V0QWxsVHJhaXRzIiwidHJhaXQiLCJ3aW5kb3ciLCJhY2hpZXZlbWVudFN5c3RlbSIsImFjaGlldmVtZW50cyIsInVubG9ja2VkIiwiQXJyYXkiLCJmcm9tIiwiZ2V0VW5sb2NrZWRBY2hpZXZlbWVudHMiLCJwcm9ncmVzcyIsImdldEFjaGlldmVtZW50UHJvZ3Jlc3MiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImxvYWRHYW1lU3RhdGUiLCJzYXZlZFN0YXRlIiwiZ2V0SXRlbSIsInBhcnNlIiwic2tpbGxOYW1lIiwic2tpbGxEYXRhIiwiT2JqZWN0IiwiZW50cmllcyIsImdldFNraWxsIiwieHBUb05leHQiLCJnZXRYcFRvTmV4dExldmVsIiwiaXRlbUlkIiwiaXRlbURhdGEiLCJhZGRJdGVtIiwidHJhaXROYW1lIiwidHJhaXREYXRhIiwiZ2V0VHJhaXQiLCJhY2hpZXZlbWVudFN0YXRlIiwidW5sb2NrZWRBY2hpZXZlbWVudHMiLCJTZXQiLCJhY2hpZXZlbWVudFByb2dyZXNzIiwic2V0dXBBdXRvU2F2ZSIsInVpTWFuYWdlciIsImF1dG9TYXZlSW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzdWNjZXNzIiwidXBkYXRlTGFzdFNhdmVkVGltZSIsImF1dG9TYXZlSW50ZXJ2YWxNaW51dGVzIiwic3RvcEF1dG9TYXZlIiwiY2xlYXJHYW1lU3RhdGUiLCJyZW1vdmVJdGVtIiwiZ2V0TGFzdFNhdmVkVGltZSIsImV4cG9ydEdhbWVTdGF0ZSIsImRhdGFTdHIiLCJkYXRhQmxvYiIsIkJsb2IiLCJ0eXBlIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsInNwbGl0IiwiY2xpY2siLCJpbXBvcnRHYW1lU3RhdGUiLCJnYW1lU3RhdGVEYXRhIiwiRXJyb3IiLCJnZXRTdGF0ZSIsImtleSIsInNldFN0YXRlIiwidmFsdWUiLCJzYXZlIiwiaGFzU2F2ZWRTdGF0ZSIsImNvbnN0cnVjdG9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/core/GameStateManager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/game-engine/utils/Localization.js":
/*!***************************************************!*\
  !*** ./src/lib/game-engine/utils/Localization.js ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Localization: () => (/* binding */ Localization)\n/* harmony export */ });\n/* module decorator */ module = __webpack_require__.hmd(module);\n/**\r\n * Localization System\r\n * \r\n * Handles multiple languages and provides fallback mechanisms\r\n * for missing translations.\r\n */ class Localization {\n    /**\r\n     * Set the current language\r\n     * @param {string} language - Language code (e.g., 'en', 'es', 'fr')\r\n     */ setLanguage(language) {\n        this.currentLanguage = language;\n        this.emit('language:changed', {\n            language\n        });\n    }\n    /**\r\n     * Get the current language\r\n     * @returns {string} Current language code\r\n     */ getLanguage() {\n        return this.currentLanguage;\n    }\n    /**\r\n     * Get the default language\r\n     * @returns {string} Default language code\r\n     */ getDefaultLanguage() {\n        return this.defaultLanguage;\n    }\n    /**\r\n     * Load translations for a language\r\n     * @param {string} language - Language code\r\n     * @param {Object} translations - Translation data\r\n     */ loadTranslations(language, translations) {\n        this.translations.set(language, translations);\n        this.loadedLanguages.add(language);\n        this.emit('translations:loaded', {\n            language,\n            count: Object.keys(translations).length\n        });\n    }\n    /**\r\n     * Load translations from a file\r\n     * @param {string} language - Language code\r\n     * @param {string} path - Path to translation file\r\n     */ async loadTranslationsFromFile(language, path) {\n        try {\n            const response = await fetch(path);\n            if (!response.ok) {\n                throw new Error(\"HTTP \".concat(response.status, \": \").concat(response.statusText));\n            }\n            const translations = await response.json();\n            this.loadTranslations(language, translations);\n            return true;\n        } catch (error) {\n            console.error(\"Failed to load translations for \".concat(language, \":\"), error);\n            this.emit('translations:loadError', {\n                language,\n                error\n            });\n            return false;\n        }\n    }\n    /**\r\n     * Get a translated string\r\n     * @param {string} key - Translation key\r\n     * @param {Object} params - Parameters for interpolation\r\n     * @param {string} language - Optional language override\r\n     * @returns {string} Translated string\r\n     */ get(key) {\n        let params = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, language = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;\n        const targetLanguage = language || this.currentLanguage;\n        // Try to get translation from target language\n        let translation = this._getTranslation(key, targetLanguage);\n        // If not found, try fallback chain\n        if (!translation) {\n            for (const fallbackLang of this.fallbackChain){\n                if (fallbackLang !== targetLanguage) {\n                    translation = this._getTranslation(key, fallbackLang);\n                    if (translation) break;\n                }\n            }\n        }\n        // If still not found, return the key\n        if (!translation) {\n            console.warn(\"Translation key not found: \".concat(key, \" for language: \").concat(targetLanguage));\n            return key;\n        }\n        // Interpolate parameters\n        return this._interpolate(translation, params);\n    }\n    /**\r\n     * Get a translated string with pluralization\r\n     * @param {string} key - Translation key\r\n     * @param {number} count - Count for pluralization\r\n     * @param {Object} params - Parameters for interpolation\r\n     * @param {string} language - Optional language override\r\n     * @returns {string} Translated string\r\n     */ getPlural(key, count) {\n        let params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, language = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;\n        const targetLanguage = language || this.currentLanguage;\n        const pluralForm = this._getPluralForm(count, targetLanguage);\n        // Try to get pluralized key\n        const pluralKey = \"\".concat(key, \"_\").concat(pluralForm);\n        let translation = this.get(pluralKey, {\n            ...params,\n            count\n        }, language);\n        // If plural key not found, try the base key\n        if (translation === pluralKey) {\n            translation = this.get(key, {\n                ...params,\n                count\n            }, language);\n        }\n        return translation;\n    }\n    /**\r\n     * Check if a translation key exists\r\n     * @param {string} key - Translation key\r\n     * @param {string} language - Optional language override\r\n     * @returns {boolean} Whether the key exists\r\n     */ has(key) {\n        let language = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n        const targetLanguage = language || this.currentLanguage;\n        // Check target language\n        if (this._getTranslation(key, targetLanguage)) {\n            return true;\n        }\n        // Check fallback chain\n        for (const fallbackLang of this.fallbackChain){\n            if (fallbackLang !== targetLanguage && this._getTranslation(key, fallbackLang)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\r\n     * Get all loaded languages\r\n     * @returns {Array} Array of loaded language codes\r\n     */ getLoadedLanguages() {\n        return Array.from(this.loadedLanguages);\n    }\n    /**\r\n     * Get translation statistics\r\n     * @param {string} language - Optional language filter\r\n     * @returns {Object} Translation statistics\r\n     */ getStats() {\n        let language = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;\n        if (language) {\n            const translations = this.translations.get(language);\n            return {\n                language,\n                keyCount: translations ? Object.keys(translations).length : 0,\n                loaded: this.loadedLanguages.has(language)\n            };\n        }\n        const stats = {};\n        for (const lang of this.loadedLanguages){\n            stats[lang] = this.getStats(lang);\n        }\n        return {\n            currentLanguage: this.currentLanguage,\n            defaultLanguage: this.defaultLanguage,\n            loadedLanguages: this.getLoadedLanguages(),\n            languages: stats\n        };\n    }\n    /**\r\n     * Add a fallback language\r\n     * @param {string} language - Language code to add to fallback chain\r\n     */ addFallbackLanguage(language) {\n        if (!this.fallbackChain.includes(language)) {\n            this.fallbackChain.push(language);\n        }\n    }\n    /**\r\n     * Remove a fallback language\r\n     * @param {string} language - Language code to remove from fallback chain\r\n     */ removeFallbackLanguage(language) {\n        const index = this.fallbackChain.indexOf(language);\n        if (index > -1) {\n            this.fallbackChain.splice(index, 1);\n        }\n    }\n    /**\r\n     * Get the fallback chain\r\n     * @returns {Array} Array of fallback languages\r\n     */ getFallbackChain() {\n        return [\n            ...this.fallbackChain\n        ];\n    }\n    /**\r\n     * Clear all translations\r\n     */ clear() {\n        this.translations.clear();\n        this.loadedLanguages.clear();\n        this.emit('translations:cleared', {});\n    }\n    /**\r\n     * Subscribe to localization events\r\n     * @param {string} event - Event name\r\n     * @param {Function} callback - Callback function\r\n     */ on(event, callback) {\n        if (!this.listeners) {\n            this.listeners = new Map();\n        }\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, []);\n        }\n        this.listeners.get(event).push(callback);\n    }\n    /**\r\n     * Unsubscribe from localization events\r\n     * @param {string} event - Event name\r\n     * @param {Function} callback - Callback function\r\n     */ off(event, callback) {\n        if (this.listeners && this.listeners.has(event)) {\n            const callbacks = this.listeners.get(event);\n            const index = callbacks.indexOf(callback);\n            if (index > -1) {\n                callbacks.splice(index, 1);\n            }\n        }\n    }\n    /**\r\n     * Emit an event to all listeners\r\n     * @param {string} event - Event name\r\n     * @param {Object} data - Event data\r\n     */ emit(event, data) {\n        if (this.listeners && this.listeners.has(event)) {\n            this.listeners.get(event).forEach((callback)=>{\n                try {\n                    callback(data);\n                } catch (error) {\n                    console.error(\"Error in localization event listener for \".concat(event, \":\"), error);\n                }\n            });\n        }\n    }\n    // Private methods\n    /**\r\n     * Get translation from a specific language\r\n     * @param {string} key - Translation key\r\n     * @param {string} language - Language code\r\n     * @returns {string|null} Translation or null if not found\r\n     */ _getTranslation(key, language) {\n        const translations = this.translations.get(language);\n        if (!translations) return null;\n        // Support nested keys with dot notation\n        const keys = key.split('.');\n        let current = translations;\n        for (const k of keys){\n            if (current && typeof current === 'object' && k in current) {\n                current = current[k];\n            } else {\n                return null;\n            }\n        }\n        return typeof current === 'string' ? current : null;\n    }\n    /**\r\n     * Interpolate parameters into a translation string\r\n     * @param {string} text - Text with placeholders\r\n     * @param {Object} params - Parameters to interpolate\r\n     * @returns {string} Interpolated text\r\n     */ _interpolate(text, params) {\n        return text.replace(/\\{(\\w+)\\}/g, (match, key)=>{\n            return params[key] !== undefined ? params[key] : match;\n        });\n    }\n    /**\r\n     * Get plural form for a count\r\n     * @param {number} count - Count\r\n     * @param {string} language - Language code\r\n     * @returns {string} Plural form\r\n     */ _getPluralForm(count, language) {\n        const rule = this.pluralRules.get(language);\n        if (!rule) return 'other';\n        return rule(count);\n    }\n    /**\r\n     * Initialize plural rules for common languages\r\n     */ _initializePluralRules() {\n        // English: 1 = one, other = other\n        this.pluralRules.set('en', (count)=>{\n            return count === 1 ? 'one' : 'other';\n        });\n        // Spanish: 1 = one, other = other\n        this.pluralRules.set('es', (count)=>{\n            return count === 1 ? 'one' : 'other';\n        });\n        // French: 0,1 = one, other = other\n        this.pluralRules.set('fr', (count)=>{\n            return count === 0 || count === 1 ? 'one' : 'other';\n        });\n        // German: 1 = one, other = other\n        this.pluralRules.set('de', (count)=>{\n            return count === 1 ? 'one' : 'other';\n        });\n        // Russian: 1 = one, 2-4 = few, 0,5-20 = other, other = other\n        this.pluralRules.set('ru', (count)=>{\n            const mod10 = count % 10;\n            const mod100 = count % 100;\n            if (mod10 === 1 && mod100 !== 11) return 'one';\n            if ([\n                2,\n                3,\n                4\n            ].includes(mod10) && ![\n                12,\n                13,\n                14\n            ].includes(mod100)) return 'few';\n            if (mod10 === 0 || [\n                5,\n                6,\n                7,\n                8,\n                9\n            ].includes(mod10) || [\n                11,\n                12,\n                13,\n                14\n            ].includes(mod100)) return 'other';\n            return 'other';\n        });\n    }\n    constructor(defaultLanguage = 'en'){\n        this.defaultLanguage = defaultLanguage;\n        this.currentLanguage = defaultLanguage;\n        this.translations = new Map();\n        this.loadedLanguages = new Set();\n        this.fallbackChain = [\n            'en',\n            'en-US',\n            'en-GB'\n        ];\n        this.pluralRules = new Map();\n        // Initialize plural rules for common languages\n        this._initializePluralRules();\n    }\n}\n// Export for use in other modules\nif ( true && module.exports) {\n    module.exports = Localization;\n}\nif (true) window.Localization = Localization;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvdXRpbHMvTG9jYWxpemF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7O0NBS0MsR0FFRCxNQUFNQTtJQWFGOzs7S0FHQyxHQUNEQyxZQUFZQyxRQUFRLEVBQUU7UUFDbEIsSUFBSSxDQUFDQyxlQUFlLEdBQUdEO1FBQ3ZCLElBQUksQ0FBQ0UsSUFBSSxDQUFDLG9CQUFvQjtZQUFFRjtRQUFTO0lBQzdDO0lBRUE7OztLQUdDLEdBQ0RHLGNBQWM7UUFDVixPQUFPLElBQUksQ0FBQ0YsZUFBZTtJQUMvQjtJQUVBOzs7S0FHQyxHQUNERyxxQkFBcUI7UUFDakIsT0FBTyxJQUFJLENBQUNDLGVBQWU7SUFDL0I7SUFFQTs7OztLQUlDLEdBQ0RDLGlCQUFpQk4sUUFBUSxFQUFFTyxZQUFZLEVBQUU7UUFDckMsSUFBSSxDQUFDQSxZQUFZLENBQUNDLEdBQUcsQ0FBQ1IsVUFBVU87UUFDaEMsSUFBSSxDQUFDRSxlQUFlLENBQUNDLEdBQUcsQ0FBQ1Y7UUFDekIsSUFBSSxDQUFDRSxJQUFJLENBQUMsdUJBQXVCO1lBQUVGO1lBQVVXLE9BQU9DLE9BQU9DLElBQUksQ0FBQ04sY0FBY08sTUFBTTtRQUFDO0lBQ3pGO0lBRUE7Ozs7S0FJQyxHQUNELE1BQU1DLHlCQUF5QmYsUUFBUSxFQUFFZ0IsSUFBSSxFQUFFO1FBQzNDLElBQUk7WUFDQSxNQUFNQyxXQUFXLE1BQU1DLE1BQU1GO1lBQzdCLElBQUksQ0FBQ0MsU0FBU0UsRUFBRSxFQUFFO2dCQUNkLE1BQU0sSUFBSUMsTUFBTSxRQUE0QkgsT0FBcEJBLFNBQVNJLE1BQU0sRUFBQyxNQUF3QixPQUFwQkosU0FBU0ssVUFBVTtZQUNuRTtZQUVBLE1BQU1mLGVBQWUsTUFBTVUsU0FBU00sSUFBSTtZQUN4QyxJQUFJLENBQUNqQixnQkFBZ0IsQ0FBQ04sVUFBVU87WUFDaEMsT0FBTztRQUNYLEVBQUUsT0FBT2lCLE9BQU87WUFDWkMsUUFBUUQs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Y2VzIjpbIkM6XFxHaXRIdWJcXFNlbGZcXHRhdmVybnNcXHNyY1xcbGliXFxnYW1lLWVuZ2luZVxcdXRpbHNcXExvY2FsaXphdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTG9jYWxpemF0aW9uIFN5c3RlbVxyXG4gKiBcclxuICogSGFuZGxlcyBtdWx0aXBsZSBsYW5ndWFnZXMgYW5kIHByb3ZpZGVzIGZhbGxiYWNrIG1lY2hhbmlzbXNcclxuICogZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zLlxyXG4gKi9cclxuXHJcbmNsYXNzIExvY2FsaXphdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihkZWZhdWx0TGFuZ3VhZ2UgPSAnZW4nKSB7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0TGFuZ3VhZ2UgPSBkZWZhdWx0TGFuZ3VhZ2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGFuZ3VhZ2UgPSBkZWZhdWx0TGFuZ3VhZ2U7XHJcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkZWRMYW5ndWFnZXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdGhpcy5mYWxsYmFja0NoYWluID0gWydlbicsICdlbi1VUycsICdlbi1HQiddO1xyXG4gICAgICAgIHRoaXMucGx1cmFsUnVsZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBwbHVyYWwgcnVsZXMgZm9yIGNvbW1vbiBsYW5ndWFnZXNcclxuICAgICAgICB0aGlzLl9pbml0aWFsaXplUGx1cmFsUnVsZXMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIGNvZGUgKGUuZy4sICdlbicsICdlcycsICdmcicpXHJcbiAgICAgKi9cclxuICAgIHNldExhbmd1YWdlKGxhbmd1YWdlKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TGFuZ3VhZ2UgPSBsYW5ndWFnZTtcclxuICAgICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlOmNoYW5nZWQnLCB7IGxhbmd1YWdlIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudCBsYW5ndWFnZVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQ3VycmVudCBsYW5ndWFnZSBjb2RlXHJcbiAgICAgKi9cclxuICAgIGdldExhbmd1YWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMYW5ndWFnZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgbGFuZ3VhZ2VcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IERlZmF1bHQgbGFuZ3VhZ2UgY29kZVxyXG4gICAgICovXHJcbiAgICBnZXREZWZhdWx0TGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdExhbmd1YWdlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdHJhbnNsYXRpb25zIGZvciBhIGxhbmd1YWdlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBMYW5ndWFnZSBjb2RlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNsYXRpb25zIC0gVHJhbnNsYXRpb24gZGF0YVxyXG4gICAgICovXHJcbiAgICBsb2FkVHJhbnNsYXRpb25zKGxhbmd1YWdlLCB0cmFuc2xhdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0aW9ucy5zZXQobGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5sb2FkZWRMYW5ndWFnZXMuYWRkKGxhbmd1YWdlKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ3RyYW5zbGF0aW9uczpsb2FkZWQnLCB7IGxhbmd1YWdlLCBjb3VudDogT2JqZWN0LmtleXModHJhbnNsYXRpb25zKS5sZW5ndGggfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0cmFuc2xhdGlvbnMgZnJvbSBhIGZpbGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIExhbmd1YWdlIGNvZGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0cmFuc2xhdGlvbiBmaWxlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGxvYWRUcmFuc2xhdGlvbnNGcm9tRmlsZShsYW5ndWFnZSwgcGF0aCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocGF0aCk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRpb25zID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRUcmFuc2xhdGlvbnMobGFuZ3VhZ2UsIHRyYW5zbGF0aW9ucyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIHRyYW5zbGF0aW9ucyBmb3IgJHtsYW5ndWFnZX06YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3RyYW5zbGF0aW9uczpsb2FkRXJyb3InLCB7IGxhbmd1YWdlLCBlcnJvciB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSB0cmFuc2xhdGVkIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRyYW5zbGF0aW9uIGtleVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFBhcmFtZXRlcnMgZm9yIGludGVycG9sYXRpb25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSAtIE9wdGlvbmFsIGxhbmd1YWdlIG92ZXJyaWRlXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUcmFuc2xhdGVkIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBnZXQoa2V5LCBwYXJhbXMgPSB7fSwgbGFuZ3VhZ2UgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCB0aGlzLmN1cnJlbnRMYW5ndWFnZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUcnkgdG8gZ2V0IHRyYW5zbGF0aW9uIGZyb20gdGFyZ2V0IGxhbmd1YWdlXHJcbiAgICAgICAgbGV0IHRyYW5zbGF0aW9uID0gdGhpcy5fZ2V0VHJhbnNsYXRpb24oa2V5LCB0YXJnZXRMYW5ndWFnZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgbm90IGZvdW5kLCB0cnkgZmFsbGJhY2sgY2hhaW5cclxuICAgICAgICBpZiAoIXRyYW5zbGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmFsbGJhY2tMYW5nIG9mIHRoaXMuZmFsbGJhY2tDaGFpbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrTGFuZyAhPT0gdGFyZ2V0TGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbiA9IHRoaXMuX2dldFRyYW5zbGF0aW9uKGtleSwgZmFsbGJhY2tMYW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNsYXRpb24pIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIHN0aWxsIG5vdCBmb3VuZCwgcmV0dXJuIHRoZSBrZXlcclxuICAgICAgICBpZiAoIXRyYW5zbGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgVHJhbnNsYXRpb24ga2V5IG5vdCBmb3VuZDogJHtrZXl9IGZvciBsYW5ndWFnZTogJHt0YXJnZXRMYW5ndWFnZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgcGFyYW1zKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSB0cmFuc2xhdGVkIHN0cmluZyB3aXRoIHBsdXJhbGl6YXRpb25cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUcmFuc2xhdGlvbiBrZXlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIENvdW50IGZvciBwbHVyYWxpemF0aW9uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gUGFyYW1ldGVycyBmb3IgaW50ZXJwb2xhdGlvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gT3B0aW9uYWwgbGFuZ3VhZ2Ugb3ZlcnJpZGVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRyYW5zbGF0ZWQgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGdldFBsdXJhbChrZXksIGNvdW50LCBwYXJhbXMgPSB7fSwgbGFuZ3VhZ2UgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCB0aGlzLmN1cnJlbnRMYW5ndWFnZTtcclxuICAgICAgICBjb25zdCBwbHVyYWxGb3JtID0gdGhpcy5fZ2V0UGx1cmFsRm9ybShjb3VudCwgdGFyZ2V0TGFuZ3VhZ2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRyeSB0byBnZXQgcGx1cmFsaXplZCBrZXlcclxuICAgICAgICBjb25zdCBwbHVyYWxLZXkgPSBgJHtrZXl9XyR7cGx1cmFsRm9ybX1gO1xyXG4gICAgICAgIGxldCB0cmFuc2xhdGlvbiA9IHRoaXMuZ2V0KHBsdXJhbEtleSwgeyAuLi5wYXJhbXMsIGNvdW50IH0sIGxhbmd1YWdlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJZiBwbHVyYWwga2V5IG5vdCBmb3VuZCwgdHJ5IHRoZSBiYXNlIGtleVxyXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbiA9PT0gcGx1cmFsS2V5KSB7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdGhpcy5nZXQoa2V5LCB7IC4uLnBhcmFtcywgY291bnQgfSwgbGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSB0cmFuc2xhdGlvbiBrZXkgZXhpc3RzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVHJhbnNsYXRpb24ga2V5XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBPcHRpb25hbCBsYW5ndWFnZSBvdmVycmlkZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGtleSBleGlzdHNcclxuICAgICAqL1xyXG4gICAgaGFzKGtleSwgbGFuZ3VhZ2UgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCB0aGlzLmN1cnJlbnRMYW5ndWFnZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayB0YXJnZXQgbGFuZ3VhZ2VcclxuICAgICAgICBpZiAodGhpcy5fZ2V0VHJhbnNsYXRpb24oa2V5LCB0YXJnZXRMYW5ndWFnZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGZhbGxiYWNrIGNoYWluXHJcbiAgICAgICAgZm9yIChjb25zdCBmYWxsYmFja0xhbmcgb2YgdGhpcy5mYWxsYmFja0NoYWluKSB7XHJcbiAgICAgICAgICAgIGlmIChmYWxsYmFja0xhbmcgIT09IHRhcmdldExhbmd1YWdlICYmIHRoaXMuX2dldFRyYW5zbGF0aW9uKGtleSwgZmFsbGJhY2tMYW5nKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgbG9hZGVkIGxhbmd1YWdlc1xyXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsb2FkZWQgbGFuZ3VhZ2UgY29kZXNcclxuICAgICAqL1xyXG4gICAgZ2V0TG9hZGVkTGFuZ3VhZ2VzKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubG9hZGVkTGFuZ3VhZ2VzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdHJhbnNsYXRpb24gc3RhdGlzdGljc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gT3B0aW9uYWwgbGFuZ3VhZ2UgZmlsdGVyXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUcmFuc2xhdGlvbiBzdGF0aXN0aWNzXHJcbiAgICAgKi9cclxuICAgIGdldFN0YXRzKGxhbmd1YWdlID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGlvbnMgPSB0aGlzLnRyYW5zbGF0aW9ucy5nZXQobGFuZ3VhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2UsXHJcbiAgICAgICAgICAgICAgICBrZXlDb3VudDogdHJhbnNsYXRpb25zID8gT2JqZWN0LmtleXModHJhbnNsYXRpb25zKS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkOiB0aGlzLmxvYWRlZExhbmd1YWdlcy5oYXMobGFuZ3VhZ2UpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHN0YXRzID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBsYW5nIG9mIHRoaXMubG9hZGVkTGFuZ3VhZ2VzKSB7XHJcbiAgICAgICAgICAgIHN0YXRzW2xhbmddID0gdGhpcy5nZXRTdGF0cyhsYW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY3VycmVudExhbmd1YWdlOiB0aGlzLmN1cnJlbnRMYW5ndWFnZSxcclxuICAgICAgICAgICAgZGVmYXVsdExhbmd1YWdlOiB0aGlzLmRlZmF1bHRMYW5ndWFnZSxcclxuICAgICAgICAgICAgbG9hZGVkTGFuZ3VhZ2VzOiB0aGlzLmdldExvYWRlZExhbmd1YWdlcygpLFxyXG4gICAgICAgICAgICBsYW5ndWFnZXM6IHN0YXRzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBmYWxsYmFjayBsYW5ndWFnZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gTGFuZ3VhZ2UgY29kZSB0byBhZGQgdG8gZmFsbGJhY2sgY2hhaW5cclxuICAgICAqL1xyXG4gICAgYWRkRmFsbGJhY2tMYW5ndWFnZShsYW5ndWFnZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5mYWxsYmFja0NoYWluLmluY2x1ZGVzKGxhbmd1YWdlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZhbGxiYWNrQ2hhaW4ucHVzaChsYW5ndWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIGZhbGxiYWNrIGxhbmd1YWdlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBMYW5ndWFnZSBjb2RlIHRvIHJlbW92ZSBmcm9tIGZhbGxiYWNrIGNoYWluXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUZhbGxiYWNrTGFuZ3VhZ2UobGFuZ3VhZ2UpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmFsbGJhY2tDaGFpbi5pbmRleE9mKGxhbmd1YWdlKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmZhbGxiYWNrQ2hhaW4uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBmYWxsYmFjayBjaGFpblxyXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBmYWxsYmFjayBsYW5ndWFnZXNcclxuICAgICAqL1xyXG4gICAgZ2V0RmFsbGJhY2tDaGFpbigpIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuZmFsbGJhY2tDaGFpbl07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgYWxsIHRyYW5zbGF0aW9uc1xyXG4gICAgICovXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0aW9ucy5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMubG9hZGVkTGFuZ3VhZ2VzLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCd0cmFuc2xhdGlvbnM6Y2xlYXJlZCcsIHt9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gbG9jYWxpemF0aW9uIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbihldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBsb2NhbGl6YXRpb24gZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBFdmVudCBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgKi9cclxuICAgIG9mZihldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMgJiYgdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEVtaXQgYW4gZXZlbnQgdG8gYWxsIGxpc3RlbmVyc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gRXZlbnQgbmFtZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBFdmVudCBkYXRhXHJcbiAgICAgKi9cclxuICAgIGVtaXQoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnMgJiYgdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5nZXQoZXZlbnQpLmZvckVhY2goY2FsbGJhY2sgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gbG9jYWxpemF0aW9uIGV2ZW50IGxpc3RlbmVyIGZvciAke2V2ZW50fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUHJpdmF0ZSBtZXRob2RzXHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRyYW5zbGF0aW9uIGZyb20gYSBzcGVjaWZpYyBsYW5ndWFnZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRyYW5zbGF0aW9uIGtleVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmd1YWdlIC0gTGFuZ3VhZ2UgY29kZVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBUcmFuc2xhdGlvbiBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICovXHJcbiAgICBfZ2V0VHJhbnNsYXRpb24oa2V5LCBsYW5ndWFnZSkge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHRoaXMudHJhbnNsYXRpb25zLmdldChsYW5ndWFnZSk7XHJcbiAgICAgICAgaWYgKCF0cmFuc2xhdGlvbnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN1cHBvcnQgbmVzdGVkIGtleXMgd2l0aCBkb3Qgbm90YXRpb25cclxuICAgICAgICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcuJyk7XHJcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0cmFuc2xhdGlvbnM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgJiYgdHlwZW9mIGN1cnJlbnQgPT09ICdvYmplY3QnICYmIGsgaW4gY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRba107XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdHlwZW9mIGN1cnJlbnQgPT09ICdzdHJpbmcnID8gY3VycmVudCA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJwb2xhdGUgcGFyYW1ldGVycyBpbnRvIGEgdHJhbnNsYXRpb24gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRleHQgd2l0aCBwbGFjZWhvbGRlcnNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBQYXJhbWV0ZXJzIHRvIGludGVycG9sYXRlXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBJbnRlcnBvbGF0ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBfaW50ZXJwb2xhdGUodGV4dCwgcGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIChtYXRjaCwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJhbXNba2V5XSAhPT0gdW5kZWZpbmVkID8gcGFyYW1zW2tleV0gOiBtYXRjaDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcGx1cmFsIGZvcm0gZm9yIGEgY291bnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudCAtIENvdW50XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2UgLSBMYW5ndWFnZSBjb2RlXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBQbHVyYWwgZm9ybVxyXG4gICAgICovXHJcbiAgICBfZ2V0UGx1cmFsRm9ybShjb3VudCwgbGFuZ3VhZ2UpIHtcclxuICAgICAgICBjb25zdCBydWxlID0gdGhpcy5wbHVyYWxSdWxlcy5nZXQobGFuZ3VhZ2UpO1xyXG4gICAgICAgIGlmICghcnVsZSkgcmV0dXJuICdvdGhlcic7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJ1bGUoY291bnQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgcGx1cmFsIHJ1bGVzIGZvciBjb21tb24gbGFuZ3VhZ2VzXHJcbiAgICAgKi9cclxuICAgIF9pbml0aWFsaXplUGx1cmFsUnVsZXMoKSB7XHJcbiAgICAgICAgLy8gRW5nbGlzaDogMSA9IG9uZSwgb3RoZXIgPSBvdGhlclxyXG4gICAgICAgIHRoaXMucGx1cmFsUnVsZXMuc2V0KCdlbicsIChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnb25lJyA6ICdvdGhlcic7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3BhbmlzaDogMSA9IG9uZSwgb3RoZXIgPSBvdGhlclxyXG4gICAgICAgIHRoaXMucGx1cmFsUnVsZXMuc2V0KCdlcycsIChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnb25lJyA6ICdvdGhlcic7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRnJlbmNoOiAwLDEgPSBvbmUsIG90aGVyID0gb3RoZXJcclxuICAgICAgICB0aGlzLnBsdXJhbFJ1bGVzLnNldCgnZnInLCAoY291bnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ID09PSAwIHx8IGNvdW50ID09PSAxID8gJ29uZScgOiAnb3RoZXInO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdlcm1hbjogMSA9IG9uZSwgb3RoZXIgPSBvdGhlclxyXG4gICAgICAgIHRoaXMucGx1cmFsUnVsZXMuc2V0KCdkZScsIChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gY291bnQgPT09IDEgPyAnb25lJyA6ICdvdGhlcic7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUnVzc2lhbjogMSA9IG9uZSwgMi00ID0gZmV3LCAwLDUtMjAgPSBvdGhlciwgb3RoZXIgPSBvdGhlclxyXG4gICAgICAgIHRoaXMucGx1cmFsUnVsZXMuc2V0KCdydScsIChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtb2QxMCA9IGNvdW50ICUgMTA7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZDEwMCA9IGNvdW50ICUgMTAwO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKG1vZDEwID09PSAxICYmIG1vZDEwMCAhPT0gMTEpIHJldHVybiAnb25lJztcclxuICAgICAgICAgICAgaWYgKFsyLCAzLCA0XS5pbmNsdWRlcyhtb2QxMCkgJiYgIVsxMiwgMTMsIDE0XS5pbmNsdWRlcyhtb2QxMDApKSByZXR1cm4gJ2Zldyc7XHJcbiAgICAgICAgICAgIGlmIChtb2QxMCA9PT0gMCB8fCBbNSwgNiwgNywgOCwgOV0uaW5jbHVkZXMobW9kMTApIHx8IFsxMSwgMTIsIDEzLCAxNF0uaW5jbHVkZXMobW9kMTAwKSkgcmV0dXJuICdvdGhlcic7XHJcbiAgICAgICAgICAgIHJldHVybiAnb3RoZXInO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnQgZm9yIHVzZSBpbiBvdGhlciBtb2R1bGVzXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBMb2NhbGl6YXRpb247XHJcbn1cclxuXHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgd2luZG93LkxvY2FsaXphdGlvbiA9IExvY2FsaXphdGlvbjtcclxuXHJcbi8vIEVTIE1vZHVsZSBleHBvcnRzXHJcbmV4cG9ydCB7IExvY2FsaXphdGlvbiB9OyAiXSwibmFtZXMiOlsiTG9jYWxpemF0aW9uIiwic2V0TGFuZ3VhZ2UiLCJsYW5ndWFnZSIsImN1cnJlbnRMYW5ndWFnZSIsImVtaXQiLCJnZXRMYW5ndWFnZSIsImdldERlZmF1bHRMYW5ndWFnZSIsImRlZmF1bHRMYW5ndWFnZSIsImxvYWRUcmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbnMiLCJzZXQiLCJsb2FkZWRMYW5ndWFnZXMiLCJhZGQiLCJjb3VudCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJsb2FkVHJhbnNsYXRpb25zRnJvbUZpbGUiLCJwYXRoIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImdldCIsImtleSIsInBhcmFtcyIsInRhcmdldExhbmd1YWdlIiwidHJhbnNsYXRpb24iLCJfZ2V0VHJhbnNsYXRpb24iLCJmYWxsYmFja0xhbmciLCJmYWxsYmFja0NoYWluIiwid2FybiIsIl9pbnRlcnBvbGF0ZSIsImdldFBsdXJhbCIsInBsdXJhbEZvcm0iLCJfZ2V0UGx1cmFsRm9ybSIsInBsdXJhbEtleSIsImhhcyIsImdldExvYWRlZExhbmd1YWdlcyIsIkFycmF5IiwiZnJvbSIsImdldFN0YXRzIiwia2V5Q291bnQiLCJsb2FkZWQiLCJzdGF0cyIsImxhbmciLCJsYW5ndWFnZXMiLCJhZGRGYWxsYmFja0xhbmd1YWdlIiwiaW5jbHVkZXMiLCJwdXNoIiwicmVtb3ZlRmFsbGJhY2tMYW5ndWFnZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImdldEZhbGxiYWNrQ2hhaW4iLCJjbGVhciIsIm9uIiwiZXZlbnQiLCJjYWxsYmFjayIsImxpc3RlbmVycyIsIk1hcCIsIm9mZiIsImNhbGxiYWNrcyIsImRhdGEiLCJmb3JFYWNoIiwic3BsaXQiLCJjdXJyZW50IiwiayIsInRleHQiLCJyZXBsYWNlIiwibWF0Y2giLCJ1bmRlZmluZWQiLCJydWxlIiwicGx1cmFsUnVsZXMiLCJfaW5pdGlhbGl6ZVBsdXJhbFJ1bGVzIiwibW9kMTAiLCJtb2QxMDAiLCJjb25zdHJ1Y3RvciIsIlNldCIsIm1vZHVsZSIsImV4cG9ydHMiLCJ3aW5kb3ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/utils/Localization.js\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CGitHub%5C%5CSelf%5C%5Ctaverns%5C%5Csrc%5C%5Ccomponents%5C%5Cgame%5C%5CGameInterface.tsx%22%2C%22ids%22%3A%5B%22GameInterface%22%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);