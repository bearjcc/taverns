"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_src_lib_game-engine_ui_UIManager_js"],{

/***/ "(app-pages-browser)/./src/lib/game-engine/ui/UIManager.js":
/*!*********************************************!*\
  !*** ./src/lib/game-engine/ui/UIManager.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UIManager: () => (/* binding */ UIManager)\n/* harmony export */ });\nclass UIManager {\n    initializeToastContainer() {\n        this.toastContainer = document.getElementById('toast-container');\n        if (!this.toastContainer) {\n            this.toastContainer = document.createElement('div');\n            this.toastContainer.id = 'toast-container';\n            this.toastContainer.className = 'toast-container';\n            document.body.appendChild(this.toastContainer);\n        }\n    }\n    updateSkillsDisplay(skillManager, skillsConfig) {\n        const skillsContent = document.getElementById('skills-content');\n        if (!skillsContent) return;\n        const { skill_categories, skills: skillsData } = skillsConfig;\n        const playerSkills = skillManager.getAllSkills();\n        let html = '';\n        skill_categories.forEach((category)=>{\n            html += this.createSkillCategoryHtml(category);\n            const skillsInCategoryNames = Object.keys(skillsData).filter((skillName)=>skillsData[skillName].type === category.id);\n            if (skillsInCategoryNames.length > 0) {\n                skillsInCategoryNames.forEach((skillName)=>{\n                    const skillDetails = skillsData[skillName];\n                    let playerSkill = playerSkills.find((s)=>s.name === skillName);\n                    if (!playerSkill) {\n                        // Create a mock skill object for locked skills or skills the player hasn't acquired yet\n                        playerSkill = {\n                            name: skillName,\n                            level: 0,\n                            locked: skillDetails.locked,\n                            xp: 0,\n                            xpToNext: 100,\n                            getProgress: ()=>0\n                        };\n                    }\n                    html += this.createSkillHtml(skillName, skillDetails, playerSkill);\n                });\n            }\n            html += \"</div></div>\";\n        });\n        skillsContent.innerHTML = html;\n    }\n    createSkillCategoryHtml(category) {\n        return '\\n            <div class=\"skill-category\">\\n                <div class=\"skill-category-header\" onclick=\"uiManager.toggleSkillCategory(this)\">\\n                    <span class=\"skill-category-toggle\">‚ñ∂</span>\\n                    <span class=\"skill-category-name\">'.concat(category.name.toUpperCase(), '</span>\\n                </div>\\n                <div class=\"skill-items-container\">\\n        ');\n    }\n    createSkillHtml(skillName, skillDetails, playerSkill) {\n        const isLocked = playerSkill.locked || skillDetails.locked;\n        if (isLocked) {\n            return '\\n                <div class=\"skill-item locked\">\\n                    <div class=\"skill-info\">\\n                        <span class=\"skill-icon\">'.concat(skillDetails.icon, '</span>\\n                        <span class=\"skill-name\">').concat(skillName, '</span>\\n                    </div>\\n                    <span class=\"skill-lock-icon\">\\uD83D\\uDD12</span>\\n                </div>\\n            ');\n        }\n        const progress = playerSkill.getProgress ? playerSkill.getProgress() : 0;\n        return '\\n            <div class=\"skill-item\">\\n                <div class=\"skill-info\">\\n                    <span class=\"skill-icon\">'.concat(skillDetails.icon, '</span>\\n                    <span class=\"skill-name\">').concat(skillName, '</span>\\n                    <span class=\"skill-level-info\">(').concat(playerSkill.level, ' / 120)</span>\\n                </div>\\n                <div class=\"skill-progress-container\">\\n                    <div class=\"skill-progress-bar\">\\n                        <div class=\"skill-progress-fill\" style=\"width: ').concat(progress, '%\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        ');\n    }\n    toggleSkillCategory(headerElement) {\n        const category = headerElement.closest('.skill-category');\n        category.classList.toggle('collapsed');\n    }\n    updateActionsDisplay(actionManager, skillManager, inventoryManager, gameConfig) {\n        const actionsContent = document.getElementById('actions-content');\n        if (!actionsContent) return;\n        const availableActions = actionManager.getAvailableActions();\n        let html = '';\n        for (const action of availableActions){\n            html += this.createActionHtml(action, actionManager, skillManager, inventoryManager, gameConfig);\n        }\n        actionsContent.innerHTML = html;\n    }\n    createActionHtml(action, actionManager, skillManager, inventoryManager, gameConfig) {\n        var _gameConfig_ui;\n        const cssClasses = (gameConfig === null || gameConfig === void 0 ? void 0 : (_gameConfig_ui = gameConfig.ui) === null || _gameConfig_ui === void 0 ? void 0 : _gameConfig_ui.cssClasses) || {};\n        const isNewlyUnlocked = actionManager.isNewlyUnlocked(action.name);\n        const newUnlockClass = isNewlyUnlocked ? \" \".concat(cssClasses.newUnlock || 'new-unlock') : '';\n        const skill = skillManager.getSkill(action.skillType);\n        const canPerform = skill && action.canPerform(skill.level, inventoryManager);\n        const disabledAttr = canPerform ? '' : 'disabled';\n        const lockedClass = canPerform ? '' : ' locked';\n        // Check availability and cooldown\n        let availabilityInfo = '';\n        let cooldownInfo = '';\n        let missingRequirements = '';\n        if (action.availabilityInfo) {\n            const availability = action.availabilityInfo;\n            // Show cooldown if action has one\n            if (action.availability && action.availability.cooldown) {\n                const remainingCooldown = actionManager.availabilityEngine.getRemainingCooldown(action.name, action.availability.cooldown);\n                if (remainingCooldown > 0) {\n                    const cooldownMinutes = Math.ceil(remainingCooldown / 60000);\n                    cooldownInfo = '<div class=\"cooldown-timer\">‚è∞ '.concat(cooldownMinutes, \"m cooldown</div>\");\n                }\n            }\n            // Show missing requirements if action is not available\n            if (!availability.available && availability.missingRequirements.length > 0) {\n                missingRequirements = '<div class=\"missing-requirements\">‚ùå '.concat(availability.missingRequirements.join(', '), \"</div>\");\n            }\n        }\n        let timeDisplay = '';\n        if (action.timeRequired > 0) {\n            timeDisplay = '<div class=\"'.concat(cssClasses.actionTime || 'action-time', '\">‚è±Ô∏è ').concat(action.getTimeDisplay(), \"</div>\");\n        }\n        let variableInput = '';\n        if (action.hasVariables()) {\n            variableInput = '\\n                <div class=\"'.concat(cssClasses.actionVariable || 'action-variable', '\">\\n                    <input type=\"number\" min=\"1\" value=\"1\" id=\"var-').concat(action.name, '\" \\n                           placeholder=\"Amount\" style=\"width: 60px; margin-right: 5px;\">\\n                </div>\\n            ');\n        }\n        // Build tooltip with availability information\n        let tooltip = action.tooltip || action.description;\n        if (action.availabilityInfo && !action.availabilityInfo.available) {\n            tooltip += \"\\n\\nNot available: \".concat(action.availabilityInfo.reasons.join(', '));\n        }\n        return '\\n            <button class=\"'.concat(cssClasses.actionButton || 'action-button').concat(newUnlockClass).concat(lockedClass, '\" \\n                    onclick=\"handleAction(\\'').concat(action.name, '\\')\" \\n                    title=\"').concat(tooltip, '\" ').concat(disabledAttr, '>\\n                <div class=\"').concat(cssClasses.actionIcon || 'action-icon', '\">').concat(action.icon, '</div>\\n                <div class=\"').concat(cssClasses.actionTitle || 'action-title', '\">').concat(action.displayName, '</div>\\n                <div class=\"').concat(cssClasses.actionDescription || 'action-description', '\">').concat(action.description, \"</div>\\n                \").concat(timeDisplay, \"\\n                \").concat(cooldownInfo, \"\\n                \").concat(missingRequirements, \"\\n                \").concat(variableInput, \"\\n            </button>\\n        \");\n    }\n    updateInventoryDisplay(inventoryManager, gameConfig) {\n        const inventoryContent = document.getElementById('inventory-content');\n        if (!inventoryContent) return;\n        const items = inventoryManager.getAllItems();\n        let html = '';\n        if (items.length === 0) {\n            html += '<p class=\"text-muted\">Your inventory is empty.</p>';\n        } else {\n            for (const item of items){\n                html += this.createInventoryItemHtml(item, gameConfig);\n            }\n        }\n        inventoryContent.innerHTML = html;\n    }\n    createInventoryItemHtml(inventoryItem, gameConfig) {\n        const gameObject = inventoryItem.gameObject;\n        const itemJson = JSON.stringify(inventoryItem).replace(/\"/g, '&quot;');\n        return '\\n            <div class=\"inventory-item\" \\n                 onclick=\"uiManager.showItemContextMenu(event, \\''.concat(gameObject.id, \"', \").concat(itemJson, ')\">\\n                <div class=\"item-icon\">').concat(gameObject.icon, '</div>\\n                <div class=\"item-info\">\\n                    <span class=\"item-name\">').concat(gameObject.displayName, '</span>\\n                    <span class=\"item-quantity\">x').concat(inventoryItem.quantity, \"</span>\\n                </div>\\n            </div>\\n        \");\n    }\n    updateCharacterDisplay(traitManager, gameConfig) {\n        const characterContent = document.getElementById('character-content');\n        if (!characterContent) return;\n        const traits = traitManager.getAllTraits();\n        let html = '<h3>Character</h3>';\n        if (traits.length === 0) {\n            html += '<p>No traits available.</p>';\n        } else {\n            html += '<div class=\"traits-grid\">';\n            for (const trait of traits){\n                html += this.createTraitHtml(trait, gameConfig);\n            }\n            html += '</div>';\n        }\n        characterContent.innerHTML = html;\n    }\n    createTraitHtml(trait, gameConfig) {\n        var _gameConfig_ui;\n        const cssClasses = (gameConfig === null || gameConfig === void 0 ? void 0 : (_gameConfig_ui = gameConfig.ui) === null || _gameConfig_ui === void 0 ? void 0 : _gameConfig_ui.cssClasses) || {};\n        const progress = trait.getProgress();\n        return '\\n            <div class=\"trait-item\">\\n                <div class=\"trait-header\">\\n                    <span class=\"trait-icon\">'.concat(trait.icon, '</span>\\n                    <span class=\"trait-name\">').concat(trait.name, '</span>\\n                    <span class=\"trait-level\">Level ').concat(trait.level, '</span>\\n                </div>\\n                <div class=\"trait-description\">').concat(trait.description, '</div>\\n                <div class=\"').concat(cssClasses.skillProgressContainer || 'skill-progress-container', '\">\\n                    <div class=\"').concat(cssClasses.skillProgressBar || 'skill-progress-bar', '\">\\n                        <div class=\"').concat(cssClasses.skillProgressFill || 'skill-progress-fill', '\" \\n                             style=\"width: ').concat(progress, '%\"></div>\\n                    </div>\\n                    <span class=\"').concat(cssClasses.skillXp || 'skill-xp', '\">').concat(trait.xp, \"/\").concat(trait.xpToNext, \" XP</span>\\n                </div>\\n            </div>\\n        \");\n    }\n    updateAchievementsDisplay(achievementSystem, gameConfig) {\n        const achievementsContent = document.getElementById('achievements-content');\n        if (!achievementsContent) return;\n        const achievementsData = achievementSystem.getAllAchievements();\n        const unlockedAchievements = achievementSystem.getUnlockedAchievements();\n        const achievementProgress = achievementSystem.getAchievementProgress();\n        // Group by category\n        const categories = {};\n        for (const [id, achievement] of Object.entries(achievementsData)){\n            const category = achievement.category || 'General';\n            if (!categories[category]) categories[category] = [];\n            categories[category].push({\n                ...achievement,\n                id\n            });\n        }\n        // Sort by points descending\n        for(const cat in categories){\n            categories[cat].sort((a, b)=>(b.points || 0) - (a.points || 0));\n        }\n        let html = '';\n        Object.entries(categories).forEach((param)=>{\n            let [category, achievements] = param;\n            html += '\\n                <div class=\"skill-category\">\\n                    <div class=\"skill-category-header\" onclick=\"uiManager.toggleSkillCategory(this)\">\\n                        <span class=\"skill-category-toggle\">‚ñ∂</span>\\n                        <span class=\"skill-category-name\">'.concat(category.toUpperCase(), '</span>\\n                    </div>\\n                    <div class=\"skill-items-container\">\\n            ');\n            achievements.forEach((achievement)=>{\n                const isUnlocked = unlockedAchievements.has(achievement.id);\n                const progress = achievementProgress[achievement.id] || null;\n                html += '\\n                    <div class=\"skill-item'.concat(isUnlocked ? '' : ' locked', '\">\\n                        <div class=\"skill-info\">\\n                            <span class=\"skill-icon\">').concat(achievement.icon || 'üèÜ', '</span>\\n                            <span class=\"skill-name\">').concat(isUnlocked || !achievement.secret ? achievement.name : '???', \"</span>\\n                            \").concat(isUnlocked ? '<span class=\"skill-level-info\">Unlocked</span>' : '<span class=\"skill-lock-icon\">üîí</span>', '\\n                        </div>\\n                        <div class=\"skill-progress-container\">\\n                            <div class=\"skill-progress-bar\">\\n                                <div class=\"skill-progress-fill\" style=\"width: ').concat(progress && progress.required > 1 ? Math.min(progress.current / progress.required * 100, 100) : 0, '%\"></div>\\n                            </div>\\n                            ').concat(progress && progress.required > 1 ? '<span class=\"skill-xp\">'.concat(progress.current, \"/\").concat(progress.required, \"</span>\") : '', '\\n                        </div>\\n                        <div class=\"skill-description\" style=\"color:#aaa;font-size:12px;margin-top:2px;\">\\n                            ').concat(isUnlocked || !achievement.secret ? achievement.description : 'Unlock this secret achievement to reveal its details.', '\\n                        </div>\\n                        <div class=\"skill-level-info\" style=\"font-size:11px;color:#888;\">').concat(achievement.points || 0, \" pts</div>\\n                    </div>\\n                \");\n            });\n            html += \"</div></div>\";\n        });\n        achievementsContent.innerHTML = html;\n    }\n    switchTab(tabName) {\n        this.currentTab = tabName;\n        // Hide all tab panels\n        const tabPanels = document.querySelectorAll('.tab-panel');\n        tabPanels.forEach((panel)=>panel.classList.remove('active'));\n        // Remove active class from all tab buttons\n        const tabButtons = document.querySelectorAll('.tab-button');\n        tabButtons.forEach((button)=>button.classList.remove('active'));\n        // Show selected tab panel\n        const selectedPanel = document.getElementById(\"\".concat(tabName, \"-tab\"));\n        if (selectedPanel) {\n            selectedPanel.classList.add('active');\n        }\n        // Add active class to selected tab button\n        const selectedButton = document.querySelector('[data-tab=\"'.concat(tabName, '\"]'));\n        if (selectedButton) {\n            selectedButton.classList.add('active');\n        }\n        // After switching tab, we might need to update its content\n        switch(tabName){\n            case 'skills':\n                break;\n            case 'inventory':\n                break;\n            case 'character':\n                break;\n            case 'achievements':\n                this.updateAchievementsDisplay(window.achievementSystem, window.configManager.getGameConfig());\n                break;\n        }\n    }\n    generateTabsFromConfig(gameConfig) {\n        var _gameConfig_ui, _gameConfig_ui1, _gameConfig_ui2;\n        const sidebar = document.querySelector('.sidebar');\n        if (!sidebar) return;\n        const tabs = (gameConfig === null || gameConfig === void 0 ? void 0 : (_gameConfig_ui = gameConfig.ui) === null || _gameConfig_ui === void 0 ? void 0 : _gameConfig_ui.tabs) || [];\n        const cssClasses = (gameConfig === null || gameConfig === void 0 ? void 0 : (_gameConfig_ui1 = gameConfig.ui) === null || _gameConfig_ui1 === void 0 ? void 0 : _gameConfig_ui1.cssClasses) || {};\n        const elementIds = (gameConfig === null || gameConfig === void 0 ? void 0 : (_gameConfig_ui2 = gameConfig.ui) === null || _gameConfig_ui2 === void 0 ? void 0 : _gameConfig_ui2.elementIds) || {};\n        let tabsHtml = '<div class=\"tab-buttons\">';\n        let panelsHtml = '<div class=\"tab-panels\">';\n        tabs.forEach((tab, index)=>{\n            const isActive = index === 0 ? 'active' : '';\n            const tabId = elementIds[\"\".concat(tab.id, \"Tab\")] || \"\".concat(tab.id, \"-tab\");\n            tabsHtml += '\\n                <button class=\"'.concat(cssClasses.tabButton || 'tab-button', \" \").concat(isActive, '\" \\n                        data-tab=\"').concat(tab.id, '\" \\n                        onclick=\"uiManager.switchTab(\\'').concat(tab.id, '\\')\">\\n                    <span class=\"tab-icon\">').concat(tab.icon, '</span>\\n                    <span class=\"tab-name\">').concat(tab.displayName, \"</span>\\n                </button>\\n            \");\n            panelsHtml += '\\n                <div id=\"'.concat(tabId, '\" class=\"').concat(cssClasses.tabPanel || 'tab-panel', \" \").concat(isActive, '\">\\n                    <div class=\"tab-content\" id=\"').concat(tab.id, '-content\">\\n                        <h3>').concat(tab.displayName, \"</h3>\\n                        <p>Loading \").concat(tab.displayName.toLowerCase(), \"...</p>\\n                    </div>\\n                </div>\\n            \");\n        });\n        tabsHtml += '</div>';\n        panelsHtml += '</div>';\n        sidebar.innerHTML = tabsHtml + panelsHtml;\n    }\n    addNarrationMessage(message) {\n        const narrationContent = document.getElementById('narration-content');\n        if (!narrationContent) return;\n        const messageElement = document.createElement('div');\n        messageElement.className = 'narration-message';\n        messageElement.textContent = message;\n        narrationContent.appendChild(messageElement);\n        narrationContent.scrollTop = narrationContent.scrollHeight;\n    }\n    showToast(message) {\n        let type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'info', duration = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 3000;\n        const toast = document.createElement('div');\n        toast.className = \"toast toast-\".concat(type);\n        toast.textContent = message;\n        this.toastContainer.appendChild(toast);\n        setTimeout(()=>{\n            toast.classList.add('show');\n        }, 100);\n        setTimeout(()=>{\n            toast.classList.remove('show');\n            setTimeout(()=>{\n                if (toast.parentNode) {\n                    toast.parentNode.removeChild(toast);\n                }\n            }, 300);\n        }, duration);\n    }\n    flashXpGain(skillName, xpAmount) {\n        const skillElement = document.querySelector('[data-skill=\"'.concat(skillName, '\"]'));\n        if (skillElement) {\n            skillElement.classList.add('xp-gain');\n            setTimeout(()=>{\n                skillElement.classList.remove('xp-gain');\n            }, 1000);\n        }\n    }\n    updateLastSavedTime() {\n        const now = new Date();\n        const timeString = now.toLocaleTimeString();\n        console.log(\"Game state saved at \".concat(timeString));\n        // Update the display in the UI\n        const lastSavedElement = document.getElementById('last-saved-time');\n        if (lastSavedElement) {\n            lastSavedElement.textContent = \"Last saved: \".concat(timeString);\n        }\n    }\n    manualSave(skillManager, inventoryManager, traitManager) {\n        try {\n            const success = gameStateManager.saveGameState(skillManager, inventoryManager, traitManager);\n            if (success) {\n                this.showToast('Game saved successfully', 'success');\n                this.updateLastSavedTime();\n            } else {\n                this.showToast('Failed to save game', 'error');\n            }\n        } catch (error) {\n            console.error('Manual save failed:', error);\n            this.showToast('Failed to save game', 'error');\n        }\n    }\n    showItemContextMenu(event, itemId, inventoryItem) {\n        event.preventDefault();\n        this.removeContextMenu();\n        const menu = document.createElement('div');\n        menu.className = 'context-menu';\n        menu.innerHTML = \"\\n            <div class=\\\"context-menu-item\\\" onclick=\\\"handleItemAction('examine', '\".concat(itemId, \"')\\\">Examine</div>\\n            <div class=\\\"context-menu-item\\\" onclick=\\\"handleItemAction('use', '\").concat(itemId, \"')\\\">Use</div>\\n            <div class=\\\"context-menu-item\\\" onclick=\\\"handleItemAction('drop', '\").concat(itemId, \"')\\\">Drop</div>\\n        \");\n        menu.style.left = event.pageX + 'px';\n        menu.style.top = event.pageY + 'px';\n        document.body.appendChild(menu);\n        document.addEventListener('click', this.removeContextMenu);\n    }\n    removeContextMenu() {\n        const existingMenu = document.querySelector('.context-menu');\n        if (existingMenu) {\n            existingMenu.remove();\n        }\n        document.removeEventListener('click', this.removeContextMenu);\n    }\n    constructor(){\n        this.currentTab = 'skills';\n        this.toastContainer = null;\n        this.initializeToastContainer();\n    }\n}\nif (true) window.UIManager = UIManager;\n// ES Module exports\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZ2FtZS1lbmdpbmUvdWkvVUlNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQTtJQU9GQywyQkFBMkI7UUFDdkIsSUFBSSxDQUFDQyxjQUFjLEdBQUdDLFNBQVNDLGNBQWMsQ0FBQztRQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDRixjQUFjLEVBQUU7WUFDdEIsSUFBSSxDQUFDQSxjQUFjLEdBQUdDLFNBQVNFLGFBQWEsQ0FBQztZQUM3QyxJQUFJLENBQUNILGNBQWMsQ0FBQ0ksRUFBRSxHQUFHO1lBQ3pCLElBQUksQ0FBQ0osY0FBYyxDQUFDSyxTQUFTLEdBQUc7WUFDaENKLFNBQVNLLElBQUksQ0FBQ0MsV0FBVyxDQUFDLElBQUksQ0FBQ1AsY0FBYztRQUNqRDtJQUNKO0lBRUFRLG9CQUFvQkMsWUFBWSxFQUFFQyxZQUFZLEVBQUU7UUFDNUMsTUFBTUMsZ0JBQWdCVixTQUFTQyxjQUFjLENBQUM7UUFDOUMsSUFBSSxDQUFDUyxlQUFlO1FBRXBCLE1BQU0sRUFBRUMsZ0JBQWdCLEVBQUVDLFFBQVFDLFVBQVUsRUFBRSxHQUFHSjtRQUNqRCxNQUFNSyxlQUFlTixhQUFhTyxZQUFZO1FBQzlDLElBQUlDLE9BQU87UUFFWEwsaUJBQWlCTSxPQUFPLENBQUNDLENBQUFBO1lBQ3JCRixRQUFRLElBQUksQ0FBQ0csdUJBQXVCLENBQUNEO1lBRXJDLE1BQU1FLHdCQUF3QkMsT0FBT0MsSUFBSSxDQUFDVCxZQUFZVSxNQUFNLENBQUNDLENBQUFBLFlBQWFYLFVBQVUsQ0FBQ1csVUFBVSxDQUFDQyxJQUFJLEtBQUtQLFNBQVNmLEVBQUU7WUFFcEgsSUFBSWlCLHNCQUFzQk0sTUFBTSxHQUFHLEdBQUc7Z0JBQ2xDTixzQkFBc0JILE9BQU8sQ0FBQ08sQ0FBQUE7b0JBQzFCLE1BQU1HLGVBQWVkLFVBQVUsQ0FBQ1csVUFBVTtvQkFDMUMsSUFBSUksY0FBY2QsYUFBYWUsSUFBSSxDQUFDQyxDQUFBQSxJQUFL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QUVBLElBQUksSUFBNkIsRUFBRWdLLE9BQU9qSyxTQUFTLEdBQUdBO0FBRXRELG9CQUFvQjtBQUNDIiwic291cmNlcyI6WyJDOlxcR2l0SHViXFxTZWxmXFx0YXZlcm5zXFxzcmNcXGxpYlxcZ2FtZS1lbmdpbmVcXHVpXFxVSU1hbmFnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVUlNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRhYiA9ICdza2lsbHMnO1xyXG4gICAgICAgIHRoaXMudG9hc3RDb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVRvYXN0Q29udGFpbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdGlhbGl6ZVRvYXN0Q29udGFpbmVyKCkge1xyXG4gICAgICAgIHRoaXMudG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9hc3QtY29udGFpbmVyJyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvYXN0Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9hc3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgdGhpcy50b2FzdENvbnRhaW5lci5pZCA9ICd0b2FzdC1jb250YWluZXInO1xyXG4gICAgICAgICAgICB0aGlzLnRvYXN0Q29udGFpbmVyLmNsYXNzTmFtZSA9ICd0b2FzdC1jb250YWluZXInO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9hc3RDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTa2lsbHNEaXNwbGF5KHNraWxsTWFuYWdlciwgc2tpbGxzQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3Qgc2tpbGxzQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdza2lsbHMtY29udGVudCcpO1xyXG4gICAgICAgIGlmICghc2tpbGxzQ29udGVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB7IHNraWxsX2NhdGVnb3JpZXMsIHNraWxsczogc2tpbGxzRGF0YSB9ID0gc2tpbGxzQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHBsYXllclNraWxscyA9IHNraWxsTWFuYWdlci5nZXRBbGxTa2lsbHMoKTtcclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgICAgICBza2lsbF9jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG4gICAgICAgICAgICBodG1sICs9IHRoaXMuY3JlYXRlU2tpbGxDYXRlZ29yeUh0bWwoY2F0ZWdvcnkpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2tpbGxzSW5DYXRlZ29yeU5hbWVzID0gT2JqZWN0LmtleXMoc2tpbGxzRGF0YSkuZmlsdGVyKHNraWxsTmFtZSA9PiBza2lsbHNEYXRhW3NraWxsTmFtZV0udHlwZSA9PT0gY2F0ZWdvcnkuaWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNraWxsc0luQ2F0ZWdvcnlOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBza2lsbHNJbkNhdGVnb3J5TmFtZXMuZm9yRWFjaChza2lsbE5hbWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNraWxsRGV0YWlscyA9IHNraWxsc0RhdGFbc2tpbGxOYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxheWVyU2tpbGwgPSBwbGF5ZXJTa2lsbHMuZmluZChzID0+IHMubmFtZSA9PT0gc2tpbGxOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXJTa2lsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBtb2NrIHNraWxsIG9iamVjdCBmb3IgbG9ja2VkIHNraWxscyBvciBza2lsbHMgdGhlIHBsYXllciBoYXNuJ3QgYWNxdWlyZWQgeWV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllclNraWxsID0geyBuYW1lOiBza2lsbE5hbWUsIGxldmVsOiAwLCBsb2NrZWQ6IHNraWxsRGV0YWlscy5sb2NrZWQsIHhwOiAwLCB4cFRvTmV4dDogMTAwLCBnZXRQcm9ncmVzczogKCkgPT4gMCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuY3JlYXRlU2tpbGxIdG1sKHNraWxsTmFtZSwgc2tpbGxEZXRhaWxzLCBwbGF5ZXJTa2lsbCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodG1sICs9IGA8L2Rpdj48L2Rpdj5gO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBza2lsbHNDb250ZW50LmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU2tpbGxDYXRlZ29yeUh0bWwoY2F0ZWdvcnkpIHtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtY2F0ZWdvcnlcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1jYXRlZ29yeS1oZWFkZXJcIiBvbmNsaWNrPVwidWlNYW5hZ2VyLnRvZ2dsZVNraWxsQ2F0ZWdvcnkodGhpcylcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWNhdGVnb3J5LXRvZ2dsZVwiPuKWtjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWNhdGVnb3J5LW5hbWVcIj4ke2NhdGVnb3J5Lm5hbWUudG9VcHBlckNhc2UoKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pdGVtcy1jb250YWluZXJcIj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNraWxsSHRtbChza2lsbE5hbWUsIHNraWxsRGV0YWlscywgcGxheWVyU2tpbGwpIHtcclxuICAgICAgICBjb25zdCBpc0xvY2tlZCA9IHBsYXllclNraWxsLmxvY2tlZCB8fCBza2lsbERldGFpbHMubG9ja2VkO1xyXG5cclxuICAgICAgICBpZiAoaXNMb2NrZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pdGVtIGxvY2tlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtaWNvblwiPiR7c2tpbGxEZXRhaWxzLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLW5hbWVcIj4ke3NraWxsTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1sb2NrLWljb25cIj7wn5SSPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHBsYXllclNraWxsLmdldFByb2dyZXNzID8gcGxheWVyU2tpbGwuZ2V0UHJvZ3Jlc3MoKSA6IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtaWNvblwiPiR7c2tpbGxEZXRhaWxzLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtbmFtZVwiPiR7c2tpbGxOYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWxldmVsLWluZm9cIj4oJHtwbGF5ZXJTa2lsbC5sZXZlbH0gLyAxMjApPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtcHJvZ3Jlc3MtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLXByb2dyZXNzLWJhclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtcHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7cHJvZ3Jlc3N9JVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2tpbGxDYXRlZ29yeShoZWFkZXJFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBoZWFkZXJFbGVtZW50LmNsb3Nlc3QoJy5za2lsbC1jYXRlZ29yeScpO1xyXG4gICAgICAgIGNhdGVnb3J5LmNsYXNzTGlzdC50b2dnbGUoJ2NvbGxhcHNlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFjdGlvbnNEaXNwbGF5KGFjdGlvbk1hbmFnZXIsIHNraWxsTWFuYWdlciwgaW52ZW50b3J5TWFuYWdlciwgZ2FtZUNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbnNDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGlvbnMtY29udGVudCcpO1xyXG4gICAgICAgIGlmICghYWN0aW9uc0NvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlQWN0aW9ucyA9IGFjdGlvbk1hbmFnZXIuZ2V0QXZhaWxhYmxlQWN0aW9ucygpO1xyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGF2YWlsYWJsZUFjdGlvbnMpIHtcclxuICAgICAgICAgICAgaHRtbCArPSB0aGlzLmNyZWF0ZUFjdGlvbkh0bWwoYWN0aW9uLCBhY3Rpb25NYW5hZ2VyLCBza2lsbE1hbmFnZXIsIGludmVudG9yeU1hbmFnZXIsIGdhbWVDb25maWcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWN0aW9uc0NvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBY3Rpb25IdG1sKGFjdGlvbiwgYWN0aW9uTWFuYWdlciwgc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCBnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgY3NzQ2xhc3NlcyA9IGdhbWVDb25maWc/LnVpPy5jc3NDbGFzc2VzIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IGlzTmV3bHlVbmxvY2tlZCA9IGFjdGlvbk1hbmFnZXIuaXNOZXdseVVubG9ja2VkKGFjdGlvbi5uYW1lKTtcclxuICAgICAgICBjb25zdCBuZXdVbmxvY2tDbGFzcyA9IGlzTmV3bHlVbmxvY2tlZCA/IGAgJHtjc3NDbGFzc2VzLm5ld1VubG9jayB8fCAnbmV3LXVubG9jayd9YCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHNraWxsID0gc2tpbGxNYW5hZ2VyLmdldFNraWxsKGFjdGlvbi5za2lsbFR5cGUpO1xyXG4gICAgICAgIGNvbnN0IGNhblBlcmZvcm0gPSBza2lsbCAmJiBhY3Rpb24uY2FuUGVyZm9ybShza2lsbC5sZXZlbCwgaW52ZW50b3J5TWFuYWdlcik7XHJcbiAgICAgICAgY29uc3QgZGlzYWJsZWRBdHRyID0gY2FuUGVyZm9ybSA/ICcnIDogJ2Rpc2FibGVkJztcclxuICAgICAgICBjb25zdCBsb2NrZWRDbGFzcyA9IGNhblBlcmZvcm0gPyAnJyA6ICcgbG9ja2VkJztcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBhdmFpbGFiaWxpdHkgYW5kIGNvb2xkb3duXHJcbiAgICAgICAgbGV0IGF2YWlsYWJpbGl0eUluZm8gPSAnJztcclxuICAgICAgICBsZXQgY29vbGRvd25JbmZvID0gJyc7XHJcbiAgICAgICAgbGV0IG1pc3NpbmdSZXF1aXJlbWVudHMgPSAnJztcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYWN0aW9uLmF2YWlsYWJpbGl0eUluZm8pIHtcclxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmlsaXR5ID0gYWN0aW9uLmF2YWlsYWJpbGl0eUluZm87XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTaG93IGNvb2xkb3duIGlmIGFjdGlvbiBoYXMgb25lXHJcbiAgICAgICAgICAgIGlmIChhY3Rpb24uYXZhaWxhYmlsaXR5ICYmIGFjdGlvbi5hdmFpbGFiaWxpdHkuY29vbGRvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0Nvb2xkb3duID0gYWN0aW9uTWFuYWdlci5hdmFpbGFiaWxpdHlFbmdpbmUuZ2V0UmVtYWluaW5nQ29vbGRvd24oYWN0aW9uLm5hbWUsIGFjdGlvbi5hdmFpbGFiaWxpdHkuY29vbGRvd24pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0Nvb2xkb3duID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2xkb3duTWludXRlcyA9IE1hdGguY2VpbChyZW1haW5pbmdDb29sZG93biAvIDYwMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb29sZG93bkluZm8gPSBgPGRpdiBjbGFzcz1cImNvb2xkb3duLXRpbWVyXCI+4o+wICR7Y29vbGRvd25NaW51dGVzfW0gY29vbGRvd248L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTaG93IG1pc3NpbmcgcmVxdWlyZW1lbnRzIGlmIGFjdGlvbiBpcyBub3QgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGlmICghYXZhaWxhYmlsaXR5LmF2YWlsYWJsZSAmJiBhdmFpbGFiaWxpdHkubWlzc2luZ1JlcXVpcmVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBtaXNzaW5nUmVxdWlyZW1lbnRzID0gYDxkaXYgY2xhc3M9XCJtaXNzaW5nLXJlcXVpcmVtZW50c1wiPuKdjCAke2F2YWlsYWJpbGl0eS5taXNzaW5nUmVxdWlyZW1lbnRzLmpvaW4oJywgJyl9PC9kaXY+YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgdGltZURpc3BsYXkgPSAnJztcclxuICAgICAgICBpZiAoYWN0aW9uLnRpbWVSZXF1aXJlZCA+IDApIHtcclxuICAgICAgICAgICAgdGltZURpc3BsYXkgPSBgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5hY3Rpb25UaW1lIHx8ICdhY3Rpb24tdGltZSd9XCI+4o+x77iPICR7YWN0aW9uLmdldFRpbWVEaXNwbGF5KCl9PC9kaXY+YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YXJpYWJsZUlucHV0ID0gJyc7XHJcbiAgICAgICAgaWYgKGFjdGlvbi5oYXNWYXJpYWJsZXMoKSkge1xyXG4gICAgICAgICAgICB2YXJpYWJsZUlucHV0ID0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5hY3Rpb25WYXJpYWJsZSB8fCAnYWN0aW9uLXZhcmlhYmxlJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiB2YWx1ZT1cIjFcIiBpZD1cInZhci0ke2FjdGlvbi5uYW1lfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudFwiIHN0eWxlPVwid2lkdGg6IDYwcHg7IG1hcmdpbi1yaWdodDogNXB4O1wiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBCdWlsZCB0b29sdGlwIHdpdGggYXZhaWxhYmlsaXR5IGluZm9ybWF0aW9uXHJcbiAgICAgICAgbGV0IHRvb2x0aXAgPSBhY3Rpb24udG9vbHRpcCB8fCBhY3Rpb24uZGVzY3JpcHRpb247XHJcbiAgICAgICAgaWYgKGFjdGlvbi5hdmFpbGFiaWxpdHlJbmZvICYmICFhY3Rpb24uYXZhaWxhYmlsaXR5SW5mby5hdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgdG9vbHRpcCArPSBgXFxuXFxuTm90IGF2YWlsYWJsZTogJHthY3Rpb24uYXZhaWxhYmlsaXR5SW5mby5yZWFzb25zLmpvaW4oJywgJyl9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2Nzc0NsYXNzZXMuYWN0aW9uQnV0dG9uIHx8ICdhY3Rpb24tYnV0dG9uJ30ke25ld1VubG9ja0NsYXNzfSR7bG9ja2VkQ2xhc3N9XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgb25jbGljaz1cImhhbmRsZUFjdGlvbignJHthY3Rpb24ubmFtZX0nKVwiIFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiJHt0b29sdGlwfVwiICR7ZGlzYWJsZWRBdHRyfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuYWN0aW9uSWNvbiB8fCAnYWN0aW9uLWljb24nfVwiPiR7YWN0aW9uLmljb259PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtjc3NDbGFzc2VzLmFjdGlvblRpdGxlIHx8ICdhY3Rpb24tdGl0bGUnfVwiPiR7YWN0aW9uLmRpc3BsYXlOYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5hY3Rpb25EZXNjcmlwdGlvbiB8fCAnYWN0aW9uLWRlc2NyaXB0aW9uJ31cIj4ke2FjdGlvbi5kZXNjcmlwdGlvbn08L2Rpdj5cclxuICAgICAgICAgICAgICAgICR7dGltZURpc3BsYXl9XHJcbiAgICAgICAgICAgICAgICAke2Nvb2xkb3duSW5mb31cclxuICAgICAgICAgICAgICAgICR7bWlzc2luZ1JlcXVpcmVtZW50c31cclxuICAgICAgICAgICAgICAgICR7dmFyaWFibGVJbnB1dH1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbnZlbnRvcnlEaXNwbGF5KGludmVudG9yeU1hbmFnZXIsIGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnlDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludmVudG9yeS1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKCFpbnZlbnRvcnlDb250ZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gaW52ZW50b3J5TWFuYWdlci5nZXRBbGxJdGVtcygpO1xyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcblxyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgaHRtbCArPSAnPHAgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+WW91ciBpbnZlbnRvcnkgaXMgZW1wdHkuPC9wPic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuY3JlYXRlSW52ZW50b3J5SXRlbUh0bWwoaXRlbSwgZ2FtZUNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGludmVudG9yeUNvbnRlbnQuaW5uZXJIVE1MID0gaHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVJbnZlbnRvcnlJdGVtSHRtbChpbnZlbnRvcnlJdGVtLCBnYW1lQ29uZmlnKSB7XHJcbiAgICAgICAgY29uc3QgZ2FtZU9iamVjdCA9IGludmVudG9yeUl0ZW0uZ2FtZU9iamVjdDtcclxuICAgICAgICBjb25zdCBpdGVtSnNvbiA9IEpTT04uc3RyaW5naWZ5KGludmVudG9yeUl0ZW0pLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcclxuICAgICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW52ZW50b3J5LWl0ZW1cIiBcclxuICAgICAgICAgICAgICAgICBvbmNsaWNrPVwidWlNYW5hZ2VyLnNob3dJdGVtQ29udGV4dE1lbnUoZXZlbnQsICcke2dhbWVPYmplY3QuaWR9JywgJHtpdGVtSnNvbn0pXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1pY29uXCI+JHtnYW1lT2JqZWN0Lmljb259PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpdGVtLW5hbWVcIj4ke2dhbWVPYmplY3QuZGlzcGxheU5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS1xdWFudGl0eVwiPngke2ludmVudG9yeUl0ZW0ucXVhbnRpdHl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ2hhcmFjdGVyRGlzcGxheSh0cmFpdE1hbmFnZXIsIGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJhY3Rlci1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKCFjaGFyYWN0ZXJDb250ZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRyYWl0cyA9IHRyYWl0TWFuYWdlci5nZXRBbGxUcmFpdHMoKTtcclxuICAgICAgICBsZXQgaHRtbCA9ICc8aDM+Q2hhcmFjdGVyPC9oMz4nO1xyXG5cclxuICAgICAgICBpZiAodHJhaXRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8cD5ObyB0cmFpdHMgYXZhaWxhYmxlLjwvcD4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJ0cmFpdHMtZ3JpZFwiPic7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJhaXQgb2YgdHJhaXRzKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IHRoaXMuY3JlYXRlVHJhaXRIdG1sKHRyYWl0LCBnYW1lQ29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2hhcmFjdGVyQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVRyYWl0SHRtbCh0cmFpdCwgZ2FtZUNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSBnYW1lQ29uZmlnPy51aT8uY3NzQ2xhc3NlcyB8fCB7fTtcclxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IHRyYWl0LmdldFByb2dyZXNzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRyYWl0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0cmFpdC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRyYWl0LWljb25cIj4ke3RyYWl0Lmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidHJhaXQtbmFtZVwiPiR7dHJhaXQubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0cmFpdC1sZXZlbFwiPkxldmVsICR7dHJhaXQubGV2ZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHJhaXQtZGVzY3JpcHRpb25cIj4ke3RyYWl0LmRlc2NyaXB0aW9ufTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5za2lsbFByb2dyZXNzQ29udGFpbmVyIHx8ICdza2lsbC1wcm9ncmVzcy1jb250YWluZXInfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2Nzc0NsYXNzZXMuc2tpbGxQcm9ncmVzc0JhciB8fCAnc2tpbGwtcHJvZ3Jlc3MtYmFyJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7Y3NzQ2xhc3Nlcy5za2lsbFByb2dyZXNzRmlsbCB8fCAnc2tpbGwtcHJvZ3Jlc3MtZmlsbCd9XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogJHtwcm9ncmVzc30lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCIke2Nzc0NsYXNzZXMuc2tpbGxYcCB8fCAnc2tpbGwteHAnfVwiPiR7dHJhaXQueHB9LyR7dHJhaXQueHBUb05leHR9IFhQPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQWNoaWV2ZW1lbnRzRGlzcGxheShhY2hpZXZlbWVudFN5c3RlbSwgZ2FtZUNvbmZpZykge1xyXG4gICAgICAgIGNvbnN0IGFjaGlldmVtZW50c0NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNoaWV2ZW1lbnRzLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoIWFjaGlldmVtZW50c0NvbnRlbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYWNoaWV2ZW1lbnRzRGF0YSA9IGFjaGlldmVtZW50U3lzdGVtLmdldEFsbEFjaGlldmVtZW50cygpO1xyXG4gICAgICAgIGNvbnN0IHVubG9ja2VkQWNoaWV2ZW1lbnRzID0gYWNoaWV2ZW1lbnRTeXN0ZW0uZ2V0VW5sb2NrZWRBY2hpZXZlbWVudHMoKTtcclxuICAgICAgICBjb25zdCBhY2hpZXZlbWVudFByb2dyZXNzID0gYWNoaWV2ZW1lbnRTeXN0ZW0uZ2V0QWNoaWV2ZW1lbnRQcm9ncmVzcygpO1xyXG5cclxuICAgICAgICAvLyBHcm91cCBieSBjYXRlZ29yeVxyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7fTtcclxuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgYWNoaWV2ZW1lbnRdIG9mIE9iamVjdC5lbnRyaWVzKGFjaGlldmVtZW50c0RhdGEpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYWNoaWV2ZW1lbnQuY2F0ZWdvcnkgfHwgJ0dlbmVyYWwnO1xyXG4gICAgICAgICAgICBpZiAoIWNhdGVnb3JpZXNbY2F0ZWdvcnldKSBjYXRlZ29yaWVzW2NhdGVnb3J5XSA9IFtdO1xyXG4gICAgICAgICAgICBjYXRlZ29yaWVzW2NhdGVnb3J5XS5wdXNoKHsgLi4uYWNoaWV2ZW1lbnQsIGlkIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTb3J0IGJ5IHBvaW50cyBkZXNjZW5kaW5nXHJcbiAgICAgICAgZm9yIChjb25zdCBjYXQgaW4gY2F0ZWdvcmllcykge1xyXG4gICAgICAgICAgICBjYXRlZ29yaWVzW2NhdF0uc29ydCgoYSwgYikgPT4gKGIucG9pbnRzIHx8IDApIC0gKGEucG9pbnRzIHx8IDApKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBodG1sID0gJyc7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykuZm9yRWFjaCgoW2NhdGVnb3J5LCBhY2hpZXZlbWVudHNdKSA9PiB7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWNhdGVnb3J5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWNhdGVnb3J5LWhlYWRlclwiIG9uY2xpY2s9XCJ1aU1hbmFnZXIudG9nZ2xlU2tpbGxDYXRlZ29yeSh0aGlzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNraWxsLWNhdGVnb3J5LXRvZ2dsZVwiPuKWtjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1jYXRlZ29yeS1uYW1lXCI+JHtjYXRlZ29yeS50b1VwcGVyQ2FzZSgpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtaXRlbXMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgICAgIGFjaGlldmVtZW50cy5mb3JFYWNoKGFjaGlldmVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVW5sb2NrZWQgPSB1bmxvY2tlZEFjaGlldmVtZW50cy5oYXMoYWNoaWV2ZW1lbnQuaWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBhY2hpZXZlbWVudFByb2dyZXNzW2FjaGlldmVtZW50LmlkXSB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWl0ZW0ke2lzVW5sb2NrZWQgPyAnJyA6ICcgbG9ja2VkJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2tpbGwtaWNvblwiPiR7YWNoaWV2ZW1lbnQuaWNvbiB8fCAn8J+Phid9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJza2lsbC1uYW1lXCI+JHsoaXNVbmxvY2tlZCB8fCAhYWNoaWV2ZW1lbnQuc2VjcmV0KSA/IGFjaGlldmVtZW50Lm5hbWUgOiAnPz8/J308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2lzVW5sb2NrZWQgPyAnPHNwYW4gY2xhc3M9XCJza2lsbC1sZXZlbC1pbmZvXCI+VW5sb2NrZWQ8L3NwYW4+JyA6ICc8c3BhbiBjbGFzcz1cInNraWxsLWxvY2staWNvblwiPvCflJI8L3NwYW4+J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1wcm9ncmVzcy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1wcm9ncmVzcy1iYXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2tpbGwtcHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7cHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MucmVxdWlyZWQgPiAxID8gTWF0aC5taW4oKHByb2dyZXNzLmN1cnJlbnQgLyBwcm9ncmVzcy5yZXF1aXJlZCkgKiAxMDAsIDEwMCkgOiAwfSVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtwcm9ncmVzcyAmJiBwcm9ncmVzcy5yZXF1aXJlZCA+IDEgPyBgPHNwYW4gY2xhc3M9XCJza2lsbC14cFwiPiR7cHJvZ3Jlc3MuY3VycmVudH0vJHtwcm9ncmVzcy5yZXF1aXJlZH08L3NwYW4+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNraWxsLWRlc2NyaXB0aW9uXCIgc3R5bGU9XCJjb2xvcjojYWFhO2ZvbnQtc2l6ZToxMnB4O21hcmdpbi10b3A6MnB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXNVbmxvY2tlZCB8fCAhYWNoaWV2ZW1lbnQuc2VjcmV0KSA/IGFjaGlldmVtZW50LmRlc2NyaXB0aW9uIDogJ1VubG9jayB0aGlzIHNlY3JldCBhY2hpZXZlbWVudCB0byByZXZlYWwgaXRzIGRldGFpbHMuJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbC1sZXZlbC1pbmZvXCIgc3R5bGU9XCJmb250LXNpemU6MTFweDtjb2xvcjojODg4O1wiPiR7YWNoaWV2ZW1lbnQucG9pbnRzIHx8IDB9IHB0czwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGh0bWwgKz0gYDwvZGl2PjwvZGl2PmA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWNoaWV2ZW1lbnRzQ29udGVudC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaFRhYih0YWJOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VGFiID0gdGFiTmFtZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIaWRlIGFsbCB0YWIgcGFuZWxzXHJcbiAgICAgICAgY29uc3QgdGFiUGFuZWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1wYW5lbCcpO1xyXG4gICAgICAgIHRhYlBhbmVscy5mb3JFYWNoKHBhbmVsID0+IHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIHRhYiBidXR0b25zXHJcbiAgICAgICAgY29uc3QgdGFiQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWItYnV0dG9uJyk7XHJcbiAgICAgICAgdGFiQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNob3cgc2VsZWN0ZWQgdGFiIHBhbmVsXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RhYk5hbWV9LXRhYmApO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFBhbmVsKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkUGFuZWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gc2VsZWN0ZWQgdGFiIGJ1dHRvblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiPVwiJHt0YWJOYW1lfVwiXWApO1xyXG4gICAgICAgIGlmIChzZWxlY3RlZEJ1dHRvbikge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFmdGVyIHN3aXRjaGluZyB0YWIsIHdlIG1pZ2h0IG5lZWQgdG8gdXBkYXRlIGl0cyBjb250ZW50XHJcbiAgICAgICAgc3dpdGNoKHRhYk5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSAnc2tpbGxzJzpcclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIHNraWxsTWFuYWdlciBpcyBhdmFpbGFibGUgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy51cGRhdGVTa2lsbHNEaXNwbGF5KHNraWxsTWFuYWdlciwgZ2FtZUNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnaW52ZW50b3J5JzpcclxuICAgICAgICAgICAgICAgIC8vIEFzc3VtaW5nIGludmVudG9yeU1hbmFnZXIgaXMgYXZhaWxhYmxlIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlSW52ZW50b3J5RGlzcGxheShpbnZlbnRvcnlNYW5hZ2VyLCBnYW1lQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdjaGFyYWN0ZXInOlxyXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1pbmcgdHJhaXRNYW5hZ2VyIGlzIGF2YWlsYWJsZSBoZXJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnVwZGF0ZUNoYXJhY3RlckRpc3BsYXkodHJhaXRNYW5hZ2VyLCBnYW1lQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdhY2hpZXZlbWVudHMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBY2hpZXZlbWVudHNEaXNwbGF5KHdpbmRvdy5hY2hpZXZlbWVudFN5c3RlbSwgd2luZG93LmNvbmZpZ01hbmFnZXIuZ2V0R2FtZUNvbmZpZygpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZVRhYnNGcm9tQ29uZmlnKGdhbWVDb25maWcpIHtcclxuICAgICAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKTtcclxuICAgICAgICBpZiAoIXNpZGViYXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdGFicyA9IGdhbWVDb25maWc/LnVpPy50YWJzIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IGNzc0NsYXNzZXMgPSBnYW1lQ29uZmlnPy51aT8uY3NzQ2xhc3NlcyB8fCB7fTtcclxuICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2FtZUNvbmZpZz8udWk/LmVsZW1lbnRJZHMgfHwge307XHJcblxyXG4gICAgICAgIGxldCB0YWJzSHRtbCA9ICc8ZGl2IGNsYXNzPVwidGFiLWJ1dHRvbnNcIj4nO1xyXG4gICAgICAgIGxldCBwYW5lbHNIdG1sID0gJzxkaXYgY2xhc3M9XCJ0YWItcGFuZWxzXCI+JztcclxuXHJcbiAgICAgICAgdGFicy5mb3JFYWNoKCh0YWIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaW5kZXggPT09IDAgPyAnYWN0aXZlJyA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCB0YWJJZCA9IGVsZW1lbnRJZHNbYCR7dGFiLmlkfVRhYmBdIHx8IGAke3RhYi5pZH0tdGFiYDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRhYnNIdG1sICs9IGBcclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCIke2Nzc0NsYXNzZXMudGFiQnV0dG9uIHx8ICd0YWItYnV0dG9uJ30gJHtpc0FjdGl2ZX1cIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10YWI9XCIke3RhYi5pZH1cIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz1cInVpTWFuYWdlci5zd2l0Y2hUYWIoJyR7dGFiLmlkfScpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0YWItaWNvblwiPiR7dGFiLmljb259PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGFiLW5hbWVcIj4ke3RhYi5kaXNwbGF5TmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgIHBhbmVsc0h0bWwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIiR7dGFiSWR9XCIgY2xhc3M9XCIke2Nzc0NsYXNzZXMudGFiUGFuZWwgfHwgJ3RhYi1wYW5lbCd9ICR7aXNBY3RpdmV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCIgaWQ9XCIke3RhYi5pZH0tY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+JHt0YWIuZGlzcGxheU5hbWV9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+TG9hZGluZyAke3RhYi5kaXNwbGF5TmFtZS50b0xvd2VyQ2FzZSgpfS4uLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YWJzSHRtbCArPSAnPC9kaXY+JztcclxuICAgICAgICBwYW5lbHNIdG1sICs9ICc8L2Rpdj4nO1xyXG5cclxuICAgICAgICBzaWRlYmFyLmlubmVySFRNTCA9IHRhYnNIdG1sICsgcGFuZWxzSHRtbDtcclxuICAgIH1cclxuXHJcbiAgICBhZGROYXJyYXRpb25NZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBjb25zdCBuYXJyYXRpb25Db250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hcnJhdGlvbi1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKCFuYXJyYXRpb25Db250ZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbWVzc2FnZUVsZW1lbnQuY2xhc3NOYW1lID0gJ25hcnJhdGlvbi1tZXNzYWdlJztcclxuICAgICAgICBtZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbmFycmF0aW9uQ29udGVudC5hcHBlbmRDaGlsZChtZXNzYWdlRWxlbWVudCk7XHJcbiAgICAgICAgbmFycmF0aW9uQ29udGVudC5zY3JvbGxUb3AgPSBuYXJyYXRpb25Db250ZW50LnNjcm9sbEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBzaG93VG9hc3QobWVzc2FnZSwgdHlwZSA9ICdpbmZvJywgZHVyYXRpb24gPSAzMDAwKSB7XHJcbiAgICAgICAgY29uc3QgdG9hc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0b2FzdC5jbGFzc05hbWUgPSBgdG9hc3QgdG9hc3QtJHt0eXBlfWA7XHJcbiAgICAgICAgdG9hc3QudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudG9hc3RDb250YWluZXIuYXBwZW5kQ2hpbGQodG9hc3QpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICBcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdG9hc3QuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2FzdC5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b2FzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGZsYXNoWHBHYWluKHNraWxsTmFtZSwgeHBBbW91bnQpIHtcclxuICAgICAgICBjb25zdCBza2lsbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1za2lsbD1cIiR7c2tpbGxOYW1lfVwiXWApO1xyXG4gICAgICAgIGlmIChza2lsbEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgc2tpbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3hwLWdhaW4nKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBza2lsbEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgneHAtZ2FpbicpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGFzdFNhdmVkVGltZSgpIHtcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBub3cudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEdhbWUgc3RhdGUgc2F2ZWQgYXQgJHt0aW1lU3RyaW5nfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgZGlzcGxheSBpbiB0aGUgVUlcclxuICAgICAgICBjb25zdCBsYXN0U2F2ZWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhc3Qtc2F2ZWQtdGltZScpO1xyXG4gICAgICAgIGlmIChsYXN0U2F2ZWRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGxhc3RTYXZlZEVsZW1lbnQudGV4dENvbnRlbnQgPSBgTGFzdCBzYXZlZDogJHt0aW1lU3RyaW5nfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1hbnVhbFNhdmUoc2tpbGxNYW5hZ2VyLCBpbnZlbnRvcnlNYW5hZ2VyLCB0cmFpdE1hbmFnZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gZ2FtZVN0YXRlTWFuYWdlci5zYXZlR2FtZVN0YXRlKHNraWxsTWFuYWdlciwgaW52ZW50b3J5TWFuYWdlciwgdHJhaXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCdHYW1lIHNhdmVkIHN1Y2Nlc3NmdWxseScsICdzdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxhc3RTYXZlZFRpbWUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1RvYXN0KCdGYWlsZWQgdG8gc2F2ZSBnYW1lJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdNYW51YWwgc2F2ZSBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb2FzdCgnRmFpbGVkIHRvIHNhdmUgZ2FtZScsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93SXRlbUNvbnRleHRNZW51KGV2ZW50LCBpdGVtSWQsIGludmVudG9yeUl0ZW0pIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ29udGV4dE1lbnUoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1lbnUuY2xhc3NOYW1lID0gJ2NvbnRleHQtbWVudSc7XHJcbiAgICAgICAgbWVudS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiIG9uY2xpY2s9XCJoYW5kbGVJdGVtQWN0aW9uKCdleGFtaW5lJywgJyR7aXRlbUlkfScpXCI+RXhhbWluZTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIiBvbmNsaWNrPVwiaGFuZGxlSXRlbUFjdGlvbigndXNlJywgJyR7aXRlbUlkfScpXCI+VXNlPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiIG9uY2xpY2s9XCJoYW5kbGVJdGVtQWN0aW9uKCdkcm9wJywgJyR7aXRlbUlkfScpXCI+RHJvcDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIG1lbnUuc3R5bGUubGVmdCA9IGV2ZW50LnBhZ2VYICsgJ3B4JztcclxuICAgICAgICBtZW51LnN0eWxlLnRvcCA9IGV2ZW50LnBhZ2VZICsgJ3B4JztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lbnUpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVtb3ZlQ29udGV4dE1lbnUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUNvbnRleHRNZW51KCkge1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZXh0LW1lbnUnKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdNZW51KSB7XHJcbiAgICAgICAgICAgIGV4aXN0aW5nTWVudS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlbW92ZUNvbnRleHRNZW51KTtcclxuICAgIH1cclxufVxyXG5cclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cuVUlNYW5hZ2VyID0gVUlNYW5hZ2VyO1xyXG5cclxuLy8gRVMgTW9kdWxlIGV4cG9ydHNcclxuZXhwb3J0IHsgVUlNYW5hZ2VyIH07ICJdLCJuYW1lcyI6WyJVSU1hbmFnZXIiLCJpbml0aWFsaXplVG9hc3RDb250YWluZXIiLCJ0b2FzdENvbnRhaW5lciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVTa2lsbHNEaXNwbGF5Iiwic2tpbGxNYW5hZ2VyIiwic2tpbGxzQ29uZmlnIiwic2tpbGxzQ29udGVudCIsInNraWxsX2NhdGVnb3JpZXMiLCJza2lsbHMiLCJza2lsbHNEYXRhIiwicGxheWVyU2tpbGxzIiwiZ2V0QWxsU2tpbGxzIiwiaHRtbCIsImZvckVhY2giLCJjYXRlZ29yeSIsImNyZWF0ZVNraWxsQ2F0ZWdvcnlIdG1sIiwic2tpbGxzSW5DYXRlZ29yeU5hbWVzIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsInNraWxsTmFtZSIsInR5cGUiLCJsZW5ndGgiLCJza2lsbERldGFpbHMiLCJwbGF5ZXJTa2lsbCIsImZpbmQiLCJzIiwibmFtZSIsImxldmVsIiwibG9ja2VkIiwieHAiLCJ4cFRvTmV4dCIsImdldFByb2dyZXNzIiwiY3JlYXRlU2tpbGxIdG1sIiwiaW5uZXJIVE1MIiwidG9VcHBlckNhc2UiLCJpc0xvY2tlZCIsImljb24iLCJwcm9ncmVzcyIsInRvZ2dsZVNraWxsQ2F0ZWdvcnkiLCJoZWFkZXJFbGVtZW50IiwiY2xvc2VzdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInVwZGF0ZUFjdGlvbnNEaXNwbGF5IiwiYWN0aW9uTWFuYWdlciIsImludmVudG9yeU1hbmFnZXIiLCJnYW1lQ29uZmlnIiwiYWN0aW9uc0NvbnRlbnQiLCJhdmFpbGFibGVBY3Rpb25zIiwiZ2V0QXZhaWxhYmxlQWN0aW9ucyIsImFjdGlvbiIsImNyZWF0ZUFjdGlvbkh0bWwiLCJjc3NDbGFzc2VzIiwidWkiLCJpc05ld2x5VW5sb2NrZWQiLCJuZXdVbmxvY2tDbGFzcyIsIm5ld1VubG9jayIsInNraWxsIiwiZ2V0U2tpbGwiLCJza2lsbFR5cGUiLCJjYW5QZXJmb3JtIiwiZGlzYWJsZWRBdHRyIiwibG9ja2VkQ2xhc3MiLCJhdmFpbGFiaWxpdHlJbmZvIiwiY29vbGRvd25JbmZvIiwibWlzc2luZ1JlcXVpcmVtZW50cyIsImF2YWlsYWJpbGl0eSIsImNvb2xkb3duIiwicmVtYWluaW5nQ29vbGRvd24iLCJhdmFpbGFiaWxpdHlFbmdpbmUiLCJnZXRSZW1haW5pbmdDb29sZG93biIsImNvb2xkb3duTWludXRlcyIsIk1hdGgiLCJjZWlsIiwiYXZhaWxhYmxlIiwiam9pbiIsInRpbWVEaXNwbGF5IiwidGltZVJlcXVpcmVkIiwiYWN0aW9uVGltZSIsImdldFRpbWVEaXNwbGF5IiwidmFyaWFibGVJbnB1dCIsImhhc1ZhcmlhYmxlcyIsImFjdGlvblZhcmlhYmxlIiwidG9vbHRpcCIsImRlc2NyaXB0aW9uIiwicmVhc29ucyIsImFjdGlvbkJ1dHRvbiIsImFjdGlvbkljb24iLCJhY3Rpb25UaXRsZSIsImRpc3BsYXlOYW1lIiwiYWN0aW9uRGVzY3JpcHRpb24iLCJ1cGRhdGVJbnZlbnRvcnlEaXNwbGF5IiwiaW52ZW50b3J5Q29udGVudCIsIml0ZW1zIiwiZ2V0QWxsSXRlbXMiLCJpdGVtIiwiY3JlYXRlSW52ZW50b3J5SXRlbUh0bWwiLCJpbnZlbnRvcnlJdGVtIiwiZ2FtZU9iamVjdCIsIml0ZW1Kc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcGxhY2UiLCJxdWFudGl0eSIsInVwZGF0ZUNoYXJhY3RlckRpc3BsYXkiLCJ0cmFpdE1hbmFnZXIiLCJjaGFyYWN0ZXJDb250ZW50IiwidHJhaXRzIiwiZ2V0QWxsVHJhaXRzIiwidHJhaXQiLCJjcmVhdGVUcmFpdEh0bWwiLCJza2lsbFByb2dyZXNzQ29udGFpbmVyIiwic2tpbGxQcm9ncmVzc0JhciIsInNraWxsUHJvZ3Jlc3NGaWxsIiwic2tpbGxYcCIsInVwZGF0ZUFjaGlldmVtZW50c0Rpc3BsYXkiLCJhY2hpZXZlbWVudFN5c3RlbSIsImFjaGlldmVtZW50c0NvbnRlbnQiLCJhY2hpZXZlbWVudHNEYXRhIiwiZ2V0QWxsQWNoaWV2ZW1lbnRzIiwidW5sb2NrZWRBY2hpZXZlbWVudHMiLCJnZXRVbmxvY2tlZEFjaGlldmVtZW50cyIsImFjaGlldmVtZW50UHJvZ3Jlc3MiLCJnZXRBY2hpZXZlbWVudFByb2dyZXNzIiwiY2F0ZWdvcmllcyIsImFjaGlldmVtZW50IiwiZW50cmllcyIsInB1c2giLCJjYXQiLCJzb3J0IiwiYSIsImIiLCJwb2ludHMiLCJhY2hpZXZlbWVudHMiLCJpc1VubG9ja2VkIiwiaGFzIiwic2VjcmV0IiwicmVxdWlyZWQiLCJtaW4iLCJjdXJyZW50Iiwic3dpdGNoVGFiIiwidGFiTmFtZSIsImN1cnJlbnRUYWIiLCJ0YWJQYW5lbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFuZWwiLCJyZW1vdmUiLCJ0YWJCdXR0b25zIiwiYnV0dG9uIiwic2VsZWN0ZWRQYW5lbCIsImFkZCIsInNlbGVjdGVkQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsImNvbmZpZ01hbmFnZXIiLCJnZXRHYW1lQ29uZmlnIiwiZ2VuZXJhdGVUYWJzRnJvbUNvbmZpZyIsInNpZGViYXIiLCJ0YWJzIiwiZWxlbWVudElkcyIsInRhYnNIdG1sIiwicGFuZWxzSHRtbCIsInRhYiIsImluZGV4IiwiaXNBY3RpdmUiLCJ0YWJJZCIsInRhYkJ1dHRvbiIsInRhYlBhbmVsIiwidG9Mb3dlckNhc2UiLCJhZGROYXJyYXRpb25NZXNzYWdlIiwibWVzc2FnZSIsIm5hcnJhdGlvbkNvbnRlbnQiLCJtZXNzYWdlRWxlbWVudCIsInRleHRDb250ZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwic2hvd1RvYXN0IiwiZHVyYXRpb24iLCJ0b2FzdCIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJmbGFzaFhwR2FpbiIsInhwQW1vdW50Iiwic2tpbGxFbGVtZW50IiwidXBkYXRlTGFzdFNhdmVkVGltZSIsIm5vdyIsIkRhdGUiLCJ0aW1lU3RyaW5nIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiY29uc29sZSIsImxvZyIsImxhc3RTYXZlZEVsZW1lbnQiLCJtYW51YWxTYXZlIiwic3VjY2VzcyIsImdhbWVTdGF0ZU1hbmFnZXIiLCJzYXZlR2FtZVN0YXRlIiwiZXJyb3IiLCJzaG93SXRlbUNvbnRleHRNZW51IiwiZXZlbnQiLCJpdGVtSWQiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUNvbnRleHRNZW51IiwibWVudSIsInN0eWxlIiwibGVmdCIsInBhZ2VYIiwidG9wIiwicGFnZVkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXhpc3RpbmdNZW51IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnN0cnVjdG9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/game-engine/ui/UIManager.js\n"));

/***/ })

}]);