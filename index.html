<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taverns and Treasures</title>
    <meta name="description" content="A text-based RPG based around questing and skilling in a traditional fantasy setting. Play alone or with friends, explore the world, learn combat and magic, or master trades and grow your homestead.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="components.css">
</head>
<body>
    <div id="loading" class="loading-indicator">Loading...</div>
    <div class="toast-container" id="toast-container">
        <!-- Toast messages will appear here -->
    </div>
    <div class="game-container">
        <!-- First Column: Narration -->
        <div class="narration-column">
            <div class="narration-content" id="narration-content">
                <!-- Narration messages will be added here -->
            </div>
        </div>
        
        <!-- Second Column: Action Buttons -->
        <div class="actions-column">
            <div class="actions-content">
                <!-- Action buttons will be generated dynamically based on skill level -->
            </div>
        </div>
        
        <!-- Third Column: Sidebar -->
        <div class="sidebar-column">
            <div class="sidebar-content">
                <div class="sidebar-tabs" id="sidebar-tabs">
                    <!-- Tabs will be generated dynamically from configuration -->
                </div>
                <div class="tab-content" id="tab-content">
                    <!-- Tab panels will be generated dynamically from configuration -->
                </div>
            </div>
        </div>
    </div>
    
    <button id="open-achievements-modal-btn" style="position:fixed;bottom:32px;right:32px;z-index:2100;display:none;min-width:48px;min-height:48px;font-size:1.5em;border-radius:50%;background:#333;color:#fff;border:none;box-shadow:0 2px 8px rgba(0,0,0,0.2);cursor:pointer;">üèÜ</button>
    <script>
        // Wait for game engine and achievements system to be available
        window.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('open-achievements-modal-btn');
            function tryEnableAchievementsBtn() {
                if (window.gameEngine && window.gameEngine.getSystem && window.openAchievementsModal) {
                    const achievementSystem = window.gameEngine.getSystem('achievements');
                    if (achievementSystem) {
                        btn.style.display = 'block';
                        btn.onclick = function() {
                            const data = achievementSystem.getAllAchievements();
                            const unlocked = achievementSystem.getUnlockedAchievements();
                            const progress = achievementSystem.getAchievementProgress();
                            window.openAchievementsModal(data, unlocked, progress);
                        };
                    }
                } else {
                    setTimeout(tryEnableAchievementsBtn, 500);
                }
            }
            tryEnableAchievementsBtn();
        });
    </script>
    <script src="components.js"></script>
    <script src="game.js"></script>
</body>
</html> 